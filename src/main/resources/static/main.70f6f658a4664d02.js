(self.webpackChunkit_blog=self.webpackChunkit_blog||[]).push([[179],{2138:(pe,m,v)=>{"use strict";v.d(m,{Lv:()=>y,cv:()=>o});var o=function(P){return P.UPDATE_USER="UPDATE_USER_INFO",P.REMOVE_USER="REMOVE_USER_INFO",P}(o||{});class y{constructor(z){this.payload=z,this.type=o.UPDATE_USER}}},4773:(pe,m,v)=>{"use strict";v.d(m,{G:()=>Q});var o=v(9862),y=v(6814),$=v(95),P=v(6014),z=v(6689);const J=[o.JF,y.ez,$.u5,P.Bz];let Q=(()=>{var q;class H{}return(q=H).\u0275fac=function(O){return new(O||q)},q.\u0275mod=z.oAB({type:q}),q.\u0275inj=z.cJS({imports:[J,o.JF,y.ez,$.u5,P.Bz]}),H})()},4089:(pe,m,v)=>{"use strict";v.d(m,{q:()=>o});var o=function(y){return y.OOP="OOP",y.JAVA="JAVA",y.DEV_OPS="DEV_OPS",y.JS="JS",y}(o||{})},4548:(pe,m,v)=>{"use strict";v.d(m,{Q:()=>o});var o=function(y){return y.ERROR="ERROR",y.WARING="WARING",y.INFO="INFO",y.SUCCESS="SUCCESS",y}(o||{})},7661:(pe,m,v)=>{"use strict";v.d(m,{E:()=>o});var o=function(y){return y.NORMAL="NORMAL",y.GOOGLE="GOOGLE",y.FACEBOOK="FACEBOOK",y}(o||{})},553:(pe,m,v)=>{"use strict";v.d(m,{N:()=>o});const o={production:!0,serverURL:"https://meta-coinsite.com",clientURL:"https://meta-coinsite.com"}},2939:(pe,m,v)=>{"use strict";var o=v(6593),y=v(6689),$=v(8602),P=v(2138);const z={},Q={userInfo:function J(G=z,i){switch(i.type){case P.cv.UPDATE_USER:return Object.assign({},G,i.payload);case P.cv.REMOVE_USER:return{};default:return G}}};var q=v(6068),H=v(6014);const A=[{path:"blog",loadChildren:()=>Promise.all([v.e(439),v.e(561),v.e(592),v.e(159)]).then(v.bind(v,1159)).then(G=>G.BlogModule)},{path:"",loadChildren:()=>Promise.all([v.e(439),v.e(592),v.e(43)]).then(v.bind(v,7043)).then(G=>G.HomeModule)},{path:"blogger",loadChildren:()=>Promise.all([v.e(439),v.e(592),v.e(116)]).then(v.bind(v,4116)).then(G=>G.BloggerModule)},{path:"tai-lieu",loadChildren:()=>Promise.all([v.e(439),v.e(561),v.e(592),v.e(36)]).then(v.bind(v,9036)).then(G=>G.DocumentModule)},{path:"admin",loadChildren:()=>Promise.all([v.e(439),v.e(592),v.e(294)]).then(v.bind(v,8294)).then(G=>G.AdminModule)},{path:"**",loadChildren:()=>Promise.all([v.e(439),v.e(592)]).then(v.bind(v,1251)).then(G=>G.PageNotFoundModule)}];let O=(()=>{var G;class i{}return(G=i).\u0275fac=function(d){return new(d||G)},G.\u0275mod=y.oAB({type:G}),G.\u0275inj=y.cJS({imports:[H.Bz.forRoot(A),H.Bz]}),i})();var V=v(5861),x=v(4296),K=v(7854),te=v(2911);let me=(()=>{var G;class i{constructor(d,u,b,j){this.store=d,this.commonFunction=u,this.cryptoService=b,this.userService=j,this.title="iTable",this.userInfoObservable=this.store.select(oe=>oe.userInfo),this.userInfoObservable.subscribe(oe=>{this.userInfo=oe})}encrypt(d){return this.cryptoService.encrypt(d)}decrypt(d){return this.cryptoService.decrypt(d)}ngOnInit(){var d=this;return(0,V.Z)(function*(){if(d.hasInfo()&&d.hasToken()){const u=d.commonFunction.getLocalStorage(x.g.USER_INFO),b=d.decrypt(u),j=JSON.parse(b);d.updateUserInfoState(j)}else if(d.hasToken()){const u=d.commonFunction.getLocalStorage(x.g.JWT);yield d.userService.requestForUserInfo(u)}})()}hasInfo(){const d=this.commonFunction.getLocalStorage(x.g.USER_INFO);try{JSON.parse(this.decrypt(d))}catch{return!1}return d&&d.length>0}hasToken(){const d=this.commonFunction.getLocalStorage(x.g.JWT);return d&&d.length>0}updateUserInfoState(d){this.store.dispatch(new P.Lv({...d}))}}return(G=i).\u0275fac=function(d){return new(d||G)(y.Y36($.yh),y.Y36(q.o),y.Y36(K.$),y.Y36(te.K))},G.\u0275cmp=y.Xpm({type:G,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"notice"],["id","notice-content"],[1,"wraper"]],template:function(d,u){1&d&&(y.TgZ(0,"div",0),y._UZ(1,"div",1),y.qZA(),y.TgZ(2,"div",2),y._UZ(3,"router-outlet"),y.qZA())},dependencies:[H.lC],styles:[".notice[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;max-width:400px;display:flex;justify-content:center;z-index:2;-webkit-user-select:none;user-select:none}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]{padding:15px;height:70px}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;justify-content:center;align-items:center;height:100%}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]{padding-left:20px;font-size:14px;border-left:1px solid rgba(255,255,255,.6)}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px!important}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .common[_ngcontent-%COMP%]   .copy[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}.notice[_ngcontent-%COMP%]   #notice-content[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{display:flex;background-color:#c20000e6;color:#eee;box-shadow:0 0 20px 5px #c200004d}.wraper[_ngcontent-%COMP%]{max-width:1440px;margin:auto;background-color:#fff!important}@media screen and (max-width: 1000px){.wraper[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 1000px){.wraper[_ngcontent-%COMP%]{width:900px}}@media screen and (min-width: 1100px){.wraper[_ngcontent-%COMP%]{width:1000px}}@media screen and (min-width: 1200px){.wraper[_ngcontent-%COMP%]{width:1100px}}@media screen and (min-width: 1300px){.wraper[_ngcontent-%COMP%]{width:1200px}}@media screen and (min-width: 1400px){.wraper[_ngcontent-%COMP%]{width:1300px}}@media screen and (min-width: 1540px){.wraper[_ngcontent-%COMP%]{width:1440px!important}}"]}),i})();class B{}class F{}const N="*";function ie(G,i=null){return{type:2,steps:G,options:i}}function Y(G){return{type:6,styles:G,offset:null}}class Le{constructor(i=0,l=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+l}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const l="start"==i?this._onStartFns:this._onDoneFns;l.forEach(d=>d()),l.length=0}}class de{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let l=0,d=0,u=0;const b=this.players.length;0==b?queueMicrotask(()=>this._onFinish()):this.players.forEach(j=>{j.onDone(()=>{++l==b&&this._onFinish()}),j.onDestroy(()=>{++d==b&&this._onDestroy()}),j.onStart(()=>{++u==b&&this._onStart()})}),this.totalTime=this.players.reduce((j,oe)=>Math.max(j,oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const l=i*this.totalTime;this.players.forEach(d=>{const u=d.totalTime?Math.min(1,l/d.totalTime):1;d.setPosition(u)})}getPosition(){const i=this.players.reduce((l,d)=>null===l||d.totalTime>l.totalTime?d:l,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const l="start"==i?this._onStartFns:this._onDoneFns;l.forEach(d=>d()),l.length=0}}function U(G){return new y.vHH(3e3,!1)}function wt(G){switch(G.length){case 0:return new Le;case 1:return G[0];default:return new de(G)}}function zt(G,i,l=new Map,d=new Map){const u=[],b=[];let j=-1,oe=null;if(i.forEach(Ae=>{const Ye=Ae.get("offset"),St=Ye==j,gt=St&&oe||new Map;Ae.forEach((Rt,Lt)=>{let At=Lt,jt=Rt;if("offset"!==Lt)switch(At=G.normalizePropertyName(At,u),jt){case"!":jt=l.get(Lt);break;case N:jt=d.get(Lt);break;default:jt=G.normalizeStyleValue(Lt,At,jt,u)}gt.set(At,jt)}),St||b.push(gt),oe=gt,j=Ye}),u.length)throw function In(G){return new y.vHH(3502,!1)}();return b}function Qt(G,i,l,d){switch(i){case"start":G.onStart(()=>d(l&&on(l,"start",G)));break;case"done":G.onDone(()=>d(l&&on(l,"done",G)));break;case"destroy":G.onDestroy(()=>d(l&&on(l,"destroy",G)))}}function on(G,i,l){const b=Kt(G.element,G.triggerName,G.fromState,G.toState,i||G.phaseName,l.totalTime??G.totalTime,!!l.disabled),j=G._data;return null!=j&&(b._data=j),b}function Kt(G,i,l,d,u="",b=0,j){return{element:G,triggerName:i,fromState:l,toState:d,phaseName:u,totalTime:b,disabled:!!j}}function Yt(G,i,l){let d=G.get(i);return d||G.set(i,d=l),d}function Gt(G){const i=G.indexOf(":");return[G.substring(1,i),G.slice(i+1)]}const On=(()=>typeof document>"u"?null:document.documentElement)();function un(G){const i=G.parentNode||G.host||null;return i===On?null:i}let ke=null,Xe=!1;function Pt(G,i){for(;i;){if(i===G)return!0;i=un(i)}return!1}function $t(G,i,l){if(l)return Array.from(G.querySelectorAll(i));const d=G.querySelector(i);return d?[d]:[]}let An=(()=>{var G;class i{validateStyleProperty(d){return function Ne(G){ke||(ke=function ct(){return typeof document<"u"?document.body:null}()||{},Xe=!!ke.style&&"WebkitAppearance"in ke.style);let i=!0;return ke.style&&!function st(G){return"ebkit"==G.substring(1,6)}(G)&&(i=G in ke.style,!i&&Xe&&(i="Webkit"+G.charAt(0).toUpperCase()+G.slice(1)in ke.style)),i}(d)}matchesElement(d,u){return!1}containsElement(d,u){return Pt(d,u)}getParentElement(d){return un(d)}query(d,u,b){return $t(d,u,b)}computeStyle(d,u,b){return b||""}animate(d,u,b,j,oe,Ae=[],Ye){return new Le(b,j)}}return(G=i).\u0275fac=function(d){return new(d||G)},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),i})(),xn=(()=>{class i{}return i.NOOP=new An,i})();const dr=1e3,qe="ng-enter",tt="ng-leave",dt="ng-trigger",yt=".ng-trigger",Vt="ng-animating",Ft=".ng-animating";function hn(G){if("number"==typeof G)return G;const i=G.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:fn(parseFloat(i[1]),i[2])}function fn(G,i){return"s"===i?G*dr:G}function Hn(G,i,l){return G.hasOwnProperty("duration")?G:function jn(G,i,l){let u,b=0,j="";if("string"==typeof G){const oe=G.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return i.push(U()),{duration:0,delay:0,easing:""};u=fn(parseFloat(oe[1]),oe[2]);const Ae=oe[3];null!=Ae&&(b=fn(parseFloat(Ae),oe[4]));const Ye=oe[5];Ye&&(j=Ye)}else u=G;if(!l){let oe=!1,Ae=i.length;u<0&&(i.push(function X(){return new y.vHH(3100,!1)}()),oe=!0),b<0&&(i.push(function se(){return new y.vHH(3101,!1)}()),oe=!0),oe&&i.splice(Ae,0,U())}return{duration:u,delay:b,easing:j}}(G,i,l)}function Fn(G,i={}){return Object.keys(G).forEach(l=>{i[l]=G[l]}),i}function $n(G){const i=new Map;return Object.keys(G).forEach(l=>{i.set(l,G[l])}),i}function yn(G,i=new Map,l){if(l)for(let[d,u]of l)i.set(d,u);for(let[d,u]of G)i.set(d,u);return i}function gn(G,i,l){i.forEach((d,u)=>{const b=yr(u);l&&!l.has(u)&&l.set(u,G.style[b]),G.style[b]=d})}function Bn(G,i){i.forEach((l,d)=>{const u=yr(d);G.style[u]=""})}function Pr(G){return Array.isArray(G)?1==G.length?G[0]:ie(G):G}const rr=new RegExp("{{\\s*(.+?)\\s*}}","g");function _r(G){let i=[];if("string"==typeof G){let l;for(;l=rr.exec(G);)i.push(l[1]);rr.lastIndex=0}return i}function sr(G,i,l){const d=G.toString(),u=d.replace(rr,(b,j)=>{let oe=i[j];return null==oe&&(l.push(function Ce(G){return new y.vHH(3003,!1)}()),oe=""),oe.toString()});return u==d?G:u}function Tr(G){const i=[];let l=G.next();for(;!l.done;)i.push(l.value),l=G.next();return i}const Ds=/-+([a-z0-9])/g;function yr(G){return G.replace(Ds,(...i)=>i[1].toUpperCase())}function Jn(G,i,l){switch(i.type){case 7:return G.visitTrigger(i,l);case 0:return G.visitState(i,l);case 1:return G.visitTransition(i,l);case 2:return G.visitSequence(i,l);case 3:return G.visitGroup(i,l);case 4:return G.visitAnimate(i,l);case 5:return G.visitKeyframes(i,l);case 6:return G.visitStyle(i,l);case 8:return G.visitReference(i,l);case 9:return G.visitAnimateChild(i,l);case 10:return G.visitAnimateRef(i,l);case 11:return G.visitQuery(i,l);case 12:return G.visitStagger(i,l);default:throw function Pe(G){return new y.vHH(3004,!1)}()}}function hr(G,i){return window.getComputedStyle(G)[i]}const hs="*";function As(G,i){const l=[];return"string"==typeof G?G.split(/\s*,\s*/).forEach(d=>function Vs(G,i,l){if(":"==G[0]){const Ae=function js(G,i){switch(G){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,d)=>parseFloat(d)>parseFloat(l);case":decrement":return(l,d)=>parseFloat(d)<parseFloat(l);default:return i.push(function Ct(G){return new y.vHH(3016,!1)}()),"* => *"}}(G,l);if("function"==typeof Ae)return void i.push(Ae);G=Ae}const d=G.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return l.push(function at(G){return new y.vHH(3015,!1)}()),i;const u=d[1],b=d[2],j=d[3];i.push(Bs(u,j));"<"==b[0]&&!(u==hs&&j==hs)&&i.push(Bs(j,u))}(d,l,i)):l.push(G),l}const Yr=new Set(["true","1"]),rs=new Set(["false","0"]);function Bs(G,i){const l=Yr.has(G)||rs.has(G),d=Yr.has(i)||rs.has(i);return(u,b)=>{let j=G==hs||G==u,oe=i==hs||i==b;return!j&&l&&"boolean"==typeof u&&(j=u?Yr.has(G):rs.has(G)),!oe&&d&&"boolean"==typeof b&&(oe=b?Yr.has(i):rs.has(i)),j&&oe}}const Ms=new RegExp("s*:selfs*,?","g");function Ys(G,i,l,d){return new Ir(G).build(i,l,d)}class Ir{constructor(i){this._driver=i}build(i,l,d){const u=new fs(l);return this._resetContextStyleTimingState(u),Jn(this,Pr(i),u)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,l){let d=l.queryCount=0,u=l.depCount=0;const b=[],j=[];return"@"==i.name.charAt(0)&&l.errors.push(function L(){return new y.vHH(3006,!1)}()),i.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(l),0==oe.type){const Ae=oe,Ye=Ae.name;Ye.toString().split(/\s*,\s*/).forEach(St=>{Ae.name=St,b.push(this.visitState(Ae,l))}),Ae.name=Ye}else if(1==oe.type){const Ae=this.visitTransition(oe,l);d+=Ae.queryCount,u+=Ae.depCount,j.push(Ae)}else l.errors.push(function re(){return new y.vHH(3007,!1)}())}),{type:7,name:i.name,states:b,transitions:j,queryCount:d,depCount:u,options:null}}visitState(i,l){const d=this.visitStyle(i.styles,l),u=i.options&&i.options.params||null;if(d.containsDynamicStyles){const b=new Set,j=u||{};d.styles.forEach(oe=>{oe instanceof Map&&oe.forEach(Ae=>{_r(Ae).forEach(Ye=>{j.hasOwnProperty(Ye)||b.add(Ye)})})}),b.size&&(Tr(b.values()),l.errors.push(function fe(G,i){return new y.vHH(3008,!1)}()))}return{type:0,name:i.name,style:d,options:u?{params:u}:null}}visitTransition(i,l){l.queryCount=0,l.depCount=0;const d=Jn(this,Pr(i.animation),l);return{type:1,matchers:As(i.expr,l.errors),animation:d,queryCount:l.queryCount,depCount:l.depCount,options:Vn(i.options)}}visitSequence(i,l){return{type:2,steps:i.steps.map(d=>Jn(this,d,l)),options:Vn(i.options)}}visitGroup(i,l){const d=l.currentTime;let u=0;const b=i.steps.map(j=>{l.currentTime=d;const oe=Jn(this,j,l);return u=Math.max(u,l.currentTime),oe});return l.currentTime=u,{type:3,steps:b,options:Vn(i.options)}}visitAnimate(i,l){const d=function pn(G,i){if(G.hasOwnProperty("duration"))return G;if("number"==typeof G)return zn(Hn(G,i).duration,0,"");const l=G;if(l.split(/\s+/).some(b=>"{"==b.charAt(0)&&"{"==b.charAt(1))){const b=zn(0,0,"");return b.dynamic=!0,b.strValue=l,b}const u=Hn(l,i);return zn(u.duration,u.delay,u.easing)}(i.timings,l.errors);l.currentAnimateTimings=d;let u,b=i.styles?i.styles:Y({});if(5==b.type)u=this.visitKeyframes(b,l);else{let j=i.styles,oe=!1;if(!j){oe=!0;const Ye={};d.easing&&(Ye.easing=d.easing),j=Y(Ye)}l.currentTime+=d.duration+d.delay;const Ae=this.visitStyle(j,l);Ae.isEmptyStep=oe,u=Ae}return l.currentAnimateTimings=null,{type:4,timings:d,style:u,options:null}}visitStyle(i,l){const d=this._makeStyleAst(i,l);return this._validateStyleAst(d,l),d}_makeStyleAst(i,l){const d=[],u=Array.isArray(i.styles)?i.styles:[i.styles];for(let oe of u)"string"==typeof oe?oe===N?d.push(oe):l.errors.push(new y.vHH(3002,!1)):d.push($n(oe));let b=!1,j=null;return d.forEach(oe=>{if(oe instanceof Map&&(oe.has("easing")&&(j=oe.get("easing"),oe.delete("easing")),!b))for(let Ae of oe.values())if(Ae.toString().indexOf("{{")>=0){b=!0;break}}),{type:6,styles:d,easing:j,offset:i.offset,containsDynamicStyles:b,options:null}}_validateStyleAst(i,l){const d=l.currentAnimateTimings;let u=l.currentTime,b=l.currentTime;d&&b>0&&(b-=d.duration+d.delay),i.styles.forEach(j=>{"string"!=typeof j&&j.forEach((oe,Ae)=>{const Ye=l.collectedStyles.get(l.currentQuerySelector),St=Ye.get(Ae);let gt=!0;St&&(b!=u&&b>=St.startTime&&u<=St.endTime&&(l.errors.push(function Ue(G,i,l,d,u){return new y.vHH(3010,!1)}()),gt=!1),b=St.startTime),gt&&Ye.set(Ae,{startTime:b,endTime:u}),l.options&&function Sn(G,i,l){const d=i.params||{},u=_r(G);u.length&&u.forEach(b=>{d.hasOwnProperty(b)||l.push(function he(G){return new y.vHH(3001,!1)}())})}(oe,l.options,l.errors)})})}visitKeyframes(i,l){const d={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function $e(){return new y.vHH(3011,!1)}()),d;let b=0;const j=[];let oe=!1,Ae=!1,Ye=0;const St=i.steps.map(tn=>{const Yn=this._makeStyleAst(tn,l);let Un=null!=Yn.offset?Yn.offset:function Sr(G){if("string"==typeof G)return null;let i=null;if(Array.isArray(G))G.forEach(l=>{if(l instanceof Map&&l.has("offset")){const d=l;i=parseFloat(d.get("offset")),d.delete("offset")}});else if(G instanceof Map&&G.has("offset")){const l=G;i=parseFloat(l.get("offset")),l.delete("offset")}return i}(Yn.styles),bn=0;return null!=Un&&(b++,bn=Yn.offset=Un),Ae=Ae||bn<0||bn>1,oe=oe||bn<Ye,Ye=bn,j.push(bn),Yn});Ae&&l.errors.push(function Ge(){return new y.vHH(3012,!1)}()),oe&&l.errors.push(function We(){return new y.vHH(3200,!1)}());const gt=i.steps.length;let Rt=0;b>0&&b<gt?l.errors.push(function nt(){return new y.vHH(3202,!1)}()):0==b&&(Rt=1/(gt-1));const Lt=gt-1,At=l.currentTime,jt=l.currentAnimateTimings,Pn=jt.duration;return St.forEach((tn,Yn)=>{const Un=Rt>0?Yn==Lt?1:Rt*Yn:j[Yn],bn=Un*Pn;l.currentTime=At+jt.delay+bn,jt.duration=bn,this._validateStyleAst(tn,l),tn.offset=Un,d.styles.push(tn)}),d}visitReference(i,l){return{type:8,animation:Jn(this,Pr(i.animation),l),options:Vn(i.options)}}visitAnimateChild(i,l){return l.depCount++,{type:9,options:Vn(i.options)}}visitAnimateRef(i,l){return{type:10,animation:this.visitReference(i.animation,l),options:Vn(i.options)}}visitQuery(i,l){const d=l.currentQuerySelector,u=i.options||{};l.queryCount++,l.currentQuery=i;const[b,j]=function Gs(G){const i=!!G.split(/\s*,\s*/).find(l=>":self"==l);return i&&(G=G.replace(Ms,"")),G=G.replace(/@\*/g,yt).replace(/@\w+/g,l=>yt+"-"+l.slice(1)).replace(/:animating/g,Ft),[G,i]}(i.selector);l.currentQuerySelector=d.length?d+" "+b:b,Yt(l.collectedStyles,l.currentQuerySelector,new Map);const oe=Jn(this,Pr(i.animation),l);return l.currentQuery=null,l.currentQuerySelector=d,{type:11,selector:b,limit:u.limit||0,optional:!!u.optional,includeSelf:j,animation:oe,originalSelector:i.selector,options:Vn(i.options)}}visitStagger(i,l){l.currentQuery||l.errors.push(function Je(){return new y.vHH(3013,!1)}());const d="full"===i.timings?{duration:0,delay:0,easing:"full"}:Hn(i.timings,l.errors,!0);return{type:12,animation:Jn(this,Pr(i.animation),l),timings:d,options:null}}}class fs{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vn(G){return G?(G=Fn(G)).params&&(G.params=function is(G){return G?Fn(G):null}(G.params)):G={},G}function zn(G,i,l){return{duration:G,delay:i,easing:l}}function Lr(G,i,l,d,u,b,j=null,oe=!1){return{type:1,element:G,keyframes:i,preStyleProps:l,postStyleProps:d,duration:u,delay:b,totalTime:u+b,easing:j,subTimeline:oe}}class Nn{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,l){let d=this._map.get(i);d||this._map.set(i,d=[]),d.push(...l)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Cr=new RegExp(":enter","g"),Fs=new RegExp(":leave","g");function kn(G,i,l,d,u,b=new Map,j=new Map,oe,Ae,Ye=[]){return(new Tt).buildKeyframes(G,i,l,d,u,b,j,oe,Ae,Ye)}class Tt{buildKeyframes(i,l,d,u,b,j,oe,Ae,Ye,St=[]){Ye=Ye||new Nn;const gt=new Cn(i,l,Ye,u,b,St,[]);gt.options=Ae;const Rt=Ae.delay?hn(Ae.delay):0;gt.currentTimeline.delayNextStep(Rt),gt.currentTimeline.setStyles([j],null,gt.errors,Ae),Jn(this,d,gt);const Lt=gt.timelines.filter(At=>At.containsAnimation());if(Lt.length&&oe.size){let At;for(let jt=Lt.length-1;jt>=0;jt--){const Pn=Lt[jt];if(Pn.element===l){At=Pn;break}}At&&!At.allowOnlyTimelineStyles()&&At.setStyles([oe],null,gt.errors,Ae)}return Lt.length?Lt.map(At=>At.buildKeyframes()):[Lr(l,[],[],[],0,Rt,"",!1)]}visitTrigger(i,l){}visitState(i,l){}visitTransition(i,l){}visitAnimateChild(i,l){const d=l.subInstructions.get(l.element);if(d){const u=l.createSubContext(i.options),b=l.currentTimeline.currentTime,j=this._visitSubInstructions(d,u,u.options);b!=j&&l.transformIntoNewTimeline(j)}l.previousNode=i}visitAnimateRef(i,l){const d=l.createSubContext(i.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],l,d),this.visitReference(i.animation,d),l.transformIntoNewTimeline(d.currentTimeline.currentTime),l.previousNode=i}_applyAnimationRefDelays(i,l,d){for(const u of i){const b=u?.delay;if(b){const j="number"==typeof b?b:hn(sr(b,u?.params??{},l.errors));d.delayNextStep(j)}}}_visitSubInstructions(i,l,d){let b=l.currentTimeline.currentTime;const j=null!=d.duration?hn(d.duration):null,oe=null!=d.delay?hn(d.delay):null;return 0!==j&&i.forEach(Ae=>{const Ye=l.appendInstructionToTimeline(Ae,j,oe);b=Math.max(b,Ye.duration+Ye.delay)}),b}visitReference(i,l){l.updateOptions(i.options,!0),Jn(this,i.animation,l),l.previousNode=i}visitSequence(i,l){const d=l.subContextCount;let u=l;const b=i.options;if(b&&(b.params||b.delay)&&(u=l.createSubContext(b),u.transformIntoNewTimeline(),null!=b.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Zt);const j=hn(b.delay);u.delayNextStep(j)}i.steps.length&&(i.steps.forEach(j=>Jn(this,j,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>d&&u.transformIntoNewTimeline()),l.previousNode=i}visitGroup(i,l){const d=[];let u=l.currentTimeline.currentTime;const b=i.options&&i.options.delay?hn(i.options.delay):0;i.steps.forEach(j=>{const oe=l.createSubContext(i.options);b&&oe.delayNextStep(b),Jn(this,j,oe),u=Math.max(u,oe.currentTimeline.currentTime),d.push(oe.currentTimeline)}),d.forEach(j=>l.currentTimeline.mergeTimelineCollectedStyles(j)),l.transformIntoNewTimeline(u),l.previousNode=i}_visitTiming(i,l){if(i.dynamic){const d=i.strValue;return Hn(l.params?sr(d,l.params,l.errors):d,l.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,l){const d=l.currentAnimateTimings=this._visitTiming(i.timings,l),u=l.currentTimeline;d.delay&&(l.incrementTime(d.delay),u.snapshotCurrentStyles());const b=i.style;5==b.type?this.visitKeyframes(b,l):(l.incrementTime(d.duration),this.visitStyle(b,l),u.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=i}visitStyle(i,l){const d=l.currentTimeline,u=l.currentAnimateTimings;!u&&d.hasCurrentStyleProperties()&&d.forwardFrame();const b=u&&u.easing||i.easing;i.isEmptyStep?d.applyEmptyStep(b):d.setStyles(i.styles,b,l.errors,l.options),l.previousNode=i}visitKeyframes(i,l){const d=l.currentAnimateTimings,u=l.currentTimeline.duration,b=d.duration,oe=l.createSubContext().currentTimeline;oe.easing=d.easing,i.styles.forEach(Ae=>{oe.forwardTime((Ae.offset||0)*b),oe.setStyles(Ae.styles,Ae.easing,l.errors,l.options),oe.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(oe),l.transformIntoNewTimeline(u+b),l.previousNode=i}visitQuery(i,l){const d=l.currentTimeline.currentTime,u=i.options||{},b=u.delay?hn(u.delay):0;b&&(6===l.previousNode.type||0==d&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Zt);let j=d;const oe=l.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!u.optional,l.errors);l.currentQueryTotal=oe.length;let Ae=null;oe.forEach((Ye,St)=>{l.currentQueryIndex=St;const gt=l.createSubContext(i.options,Ye);b&&gt.delayNextStep(b),Ye===l.element&&(Ae=gt.currentTimeline),Jn(this,i.animation,gt),gt.currentTimeline.applyStylesToKeyframe(),j=Math.max(j,gt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(j),Ae&&(l.currentTimeline.mergeTimelineCollectedStyles(Ae),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=i}visitStagger(i,l){const d=l.parentContext,u=l.currentTimeline,b=i.timings,j=Math.abs(b.duration),oe=j*(l.currentQueryTotal-1);let Ae=j*l.currentQueryIndex;switch(b.duration<0?"reverse":b.easing){case"reverse":Ae=oe-Ae;break;case"full":Ae=d.currentStaggerTime}const St=l.currentTimeline;Ae&&St.delayNextStep(Ae);const gt=St.currentTime;Jn(this,i.animation,l),l.previousNode=i,d.currentStaggerTime=u.currentTime-gt+(u.startTime-d.currentTimeline.startTime)}}const Zt={};class Cn{constructor(i,l,d,u,b,j,oe,Ae){this._driver=i,this.element=l,this.subInstructions=d,this._enterClassName=u,this._leaveClassName=b,this.errors=j,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ae||new nr(this._driver,l,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,l){if(!i)return;const d=i;let u=this.options;null!=d.duration&&(u.duration=hn(d.duration)),null!=d.delay&&(u.delay=hn(d.delay));const b=d.params;if(b){let j=u.params;j||(j=this.options.params={}),Object.keys(b).forEach(oe=>{(!l||!j.hasOwnProperty(oe))&&(j[oe]=sr(b[oe],j,this.errors))})}}_copyOptions(){const i={};if(this.options){const l=this.options.params;if(l){const d=i.params={};Object.keys(l).forEach(u=>{d[u]=l[u]})}}return i}createSubContext(i=null,l,d){const u=l||this.element,b=new Cn(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,d||0));return b.previousNode=this.previousNode,b.currentAnimateTimings=this.currentAnimateTimings,b.options=this._copyOptions(),b.updateOptions(i),b.currentQueryIndex=this.currentQueryIndex,b.currentQueryTotal=this.currentQueryTotal,b.parentContext=this,this.subContextCount++,b}transformIntoNewTimeline(i){return this.previousNode=Zt,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,l,d){const u={duration:l??i.duration,delay:this.currentTimeline.currentTime+(d??0)+i.delay,easing:""},b=new Fr(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,u,i.stretchStartingKeyframe);return this.timelines.push(b),u}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,l,d,u,b,j){let oe=[];if(u&&oe.push(this.element),i.length>0){i=(i=i.replace(Cr,"."+this._enterClassName)).replace(Fs,"."+this._leaveClassName);let Ye=this._driver.query(this.element,i,1!=d);0!==d&&(Ye=d<0?Ye.slice(Ye.length+d,Ye.length):Ye.slice(0,d)),oe.push(...Ye)}return!b&&0==oe.length&&j.push(function vt(G){return new y.vHH(3014,!1)}()),oe}}class nr{constructor(i,l,d,u){this._driver=i,this.element=l,this.startTime=d,this._elementTimelineStylesLookup=u,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+i),l&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,l){return this.applyStylesToKeyframe(),new nr(this._driver,i,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,l){this._localTimelineStyles.set(i,l),this._globalTimelineStyles.set(i,l),this._styleSummary.set(i,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[l,d]of this._globalTimelineStyles)this._backFill.set(l,d||N),this._currentKeyframe.set(l,N);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,l,d,u){l&&this._previousKeyframe.set("easing",l);const b=u&&u.params||{},j=function os(G,i){const l=new Map;let d;return G.forEach(u=>{if("*"===u){d=d||i.keys();for(let b of d)l.set(b,N)}else yn(u,l)}),l}(i,this._globalTimelineStyles);for(let[oe,Ae]of j){const Ye=sr(Ae,b,d);this._pendingStyles.set(oe,Ye),this._localTimelineStyles.has(oe)||this._backFill.set(oe,this._globalTimelineStyles.get(oe)??N),this._updateStyle(oe,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,l)=>{this._currentKeyframe.set(l,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,i)}))}snapshotCurrentStyles(){for(let[i,l]of this._localTimelineStyles)this._pendingStyles.set(i,l),this._updateStyle(i,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let l in this._currentKeyframe)i.push(l);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((l,d)=>{const u=this._styleSummary.get(d);(!u||l.time>u.time)&&this._updateStyle(d,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,l=new Set,d=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((oe,Ae)=>{const Ye=yn(oe,new Map,this._backFill);Ye.forEach((St,gt)=>{"!"===St?i.add(gt):St===N&&l.add(gt)}),d||Ye.set("offset",Ae/this.duration),u.push(Ye)});const b=i.size?Tr(i.values()):[],j=l.size?Tr(l.values()):[];if(d){const oe=u[0],Ae=new Map(oe);oe.set("offset",0),Ae.set("offset",1),u=[oe,Ae]}return Lr(this.element,u,b,j,this.duration,this.startTime,this.easing,!1)}}class Fr extends nr{constructor(i,l,d,u,b,j,oe=!1){super(i,l,j.delay),this.keyframes=d,this.preStyleProps=u,this.postStyleProps=b,this._stretchStartingKeyframe=oe,this.timings={duration:j.duration,delay:j.delay,easing:j.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:l,duration:d,easing:u}=this.timings;if(this._stretchStartingKeyframe&&l){const b=[],j=d+l,oe=l/j,Ae=yn(i[0]);Ae.set("offset",0),b.push(Ae);const Ye=yn(i[0]);Ye.set("offset",Xn(oe)),b.push(Ye);const St=i.length-1;for(let gt=1;gt<=St;gt++){let Rt=yn(i[gt]);const Lt=Rt.get("offset");Rt.set("offset",Xn((l+Lt*d)/j)),b.push(Rt)}d=j,l=0,u="",i=b}return Lr(this.element,i,this.preStyleProps,this.postStyleProps,d,l,u,!0)}}function Xn(G,i=3){const l=Math.pow(10,i-1);return Math.round(G*l)/l}class Dr{}const Jt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zr extends Dr{normalizePropertyName(i,l){return yr(i)}normalizeStyleValue(i,l,d,u){let b="";const j=d.toString().trim();if(Jt.has(l)&&0!==d&&"0"!==d)if("number"==typeof d)b="px";else{const oe=d.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&u.push(function M(G,i){return new y.vHH(3005,!1)}())}return j+b}}function gs(G,i,l,d,u,b,j,oe,Ae,Ye,St,gt,Rt){return{type:0,element:G,triggerName:i,isRemovalTransition:u,fromState:l,fromStyles:b,toState:d,toStyles:j,timelines:oe,queriedElements:Ae,preStyleProps:Ye,postStyleProps:St,totalTime:gt,errors:Rt}}const wr={};class Rn{constructor(i,l,d){this._triggerName=i,this.ast=l,this._stateStyles=d}match(i,l,d,u){return function Xr(G,i,l,d,u){return G.some(b=>b(i,l,d,u))}(this.ast.matchers,i,l,d,u)}buildStyles(i,l,d){let u=this._stateStyles.get("*");return void 0!==i&&(u=this._stateStyles.get(i?.toString())||u),u?u.buildStyles(l,d):new Map}build(i,l,d,u,b,j,oe,Ae,Ye,St){const gt=[],Rt=this.ast.options&&this.ast.options.params||wr,At=this.buildStyles(d,oe&&oe.params||wr,gt),jt=Ae&&Ae.params||wr,Pn=this.buildStyles(u,jt,gt),tn=new Set,Yn=new Map,Un=new Map,bn="void"===u,Gr={params:Rr(jt,Rt),delay:this.ast.options?.delay},mr=St?[]:kn(i,l,this.ast.animation,b,j,At,Pn,Gr,Ye,gt);let Qn=0;if(mr.forEach(Rs=>{Qn=Math.max(Rs.duration+Rs.delay,Qn)}),gt.length)return gs(l,this._triggerName,d,u,bn,At,Pn,[],[],Yn,Un,Qn,gt);mr.forEach(Rs=>{const Os=Rs.element,co=Yt(Yn,Os,new Set);Rs.preStyleProps.forEach(cr=>co.add(cr));const Jr=Yt(Un,Os,new Set);Rs.postStyleProps.forEach(cr=>Jr.add(cr)),Os!==l&&tn.add(Os)});const er=Tr(tn.values());return gs(l,this._triggerName,d,u,bn,At,Pn,mr,er,Yn,Un,Qn)}}function Rr(G,i){const l=Fn(i);for(const d in G)G.hasOwnProperty(d)&&null!=G[d]&&(l[d]=G[d]);return l}class ms{constructor(i,l,d){this.styles=i,this.defaultParams=l,this.normalizer=d}buildStyles(i,l){const d=new Map,u=Fn(this.defaultParams);return Object.keys(i).forEach(b=>{const j=i[b];null!==j&&(u[b]=j)}),this.styles.styles.forEach(b=>{"string"!=typeof b&&b.forEach((j,oe)=>{j&&(j=sr(j,u,l));const Ae=this.normalizer.normalizePropertyName(oe,l);j=this.normalizer.normalizeStyleValue(oe,Ae,j,l),d.set(oe,j)})}),d}}class Ar{constructor(i,l,d){this.name=i,this.ast=l,this._normalizer=d,this.transitionFactories=[],this.states=new Map,l.states.forEach(u=>{this.states.set(u.name,new ms(u.style,u.options&&u.options.params||{},d))}),as(this.states,"true","1"),as(this.states,"false","0"),l.transitions.forEach(u=>{this.transitionFactories.push(new Rn(i,u,this.states))}),this.fallbackTransition=function pr(G,i,l){return new Rn(G,{type:1,animation:{type:2,steps:[],options:null},matchers:[(j,oe)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,l,d,u){return this.transitionFactories.find(j=>j.match(i,l,d,u))||null}matchStyles(i,l,d){return this.fallbackTransition.buildStyles(i,l,d)}}function as(G,i,l){G.has(i)?G.has(l)||G.set(l,G.get(i)):G.has(l)&&G.set(i,G.get(l))}const vs=new Nn;class mn{constructor(i,l,d){this.bodyNode=i,this._driver=l,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,l){const d=[],b=Ys(this._driver,l,d,[]);if(d.length)throw function Ut(G){return new y.vHH(3503,!1)}();this._animations.set(i,b)}_buildPlayer(i,l,d){const u=i.element,b=zt(this._normalizer,i.keyframes,l,d);return this._driver.animate(u,b,i.duration,i.delay,i.easing,[],!0)}create(i,l,d={}){const u=[],b=this._animations.get(i);let j;const oe=new Map;if(b?(j=kn(this._driver,l,b,qe,tt,new Map,new Map,d,vs,u),j.forEach(St=>{const gt=Yt(oe,St.element,new Map);St.postStyleProps.forEach(Rt=>gt.set(Rt,null))})):(u.push(function Ke(){return new y.vHH(3300,!1)}()),j=[]),u.length)throw function It(G){return new y.vHH(3504,!1)}();oe.forEach((St,gt)=>{St.forEach((Rt,Lt)=>{St.set(Lt,this._driver.computeStyle(gt,Lt,N))})});const Ye=wt(j.map(St=>{const gt=oe.get(St.element);return this._buildPlayer(St,new Map,gt)}));return this._playersById.set(i,Ye),Ye.onDestroy(()=>this.destroy(i)),this.players.push(Ye),Ye}destroy(i){const l=this._getPlayer(i);l.destroy(),this._playersById.delete(i);const d=this.players.indexOf(l);d>=0&&this.players.splice(d,1)}_getPlayer(i){const l=this._playersById.get(i);if(!l)throw function xt(G){return new y.vHH(3301,!1)}();return l}listen(i,l,d,u){const b=Kt(l,"","","");return Qt(this._getPlayer(i),d,b,u),()=>{}}command(i,l,d,u){if("register"==d)return void this.register(i,u[0]);if("create"==d)return void this.create(i,l,u[0]||{});const b=this._getPlayer(i);switch(d){case"play":b.play();break;case"pause":b.pause();break;case"reset":b.reset();break;case"restart":b.restart();break;case"finish":b.finish();break;case"init":b.init();break;case"setPosition":b.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(i)}}}const Xs="ng-animate-queued",ce="ng-animate-disabled",ot=[],ht={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rn="__ng_removed";class an{get params(){return this.options.params}constructor(i,l=""){this.namespaceId=l;const d=i&&i.hasOwnProperty("value");if(this.value=function qn(G){return G??null}(d?i.value:i),d){const b=Fn(i);delete b.value,this.options=b}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const l=i.params;if(l){const d=this.options.params;Object.keys(l).forEach(u=>{null==d[u]&&(d[u]=l[u])})}}}const Mn="void",vn=new an(Mn);class or{constructor(i,l,d){this.id=i,this.hostElement=l,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,I(l,this._hostClassName)}listen(i,l,d,u){if(!this._triggers.has(l))throw function Dt(G,i){return new y.vHH(3302,!1)}();if(null==d||0==d.length)throw function Xt(G){return new y.vHH(3303,!1)}();if(!function Bi(G){return"start"==G||"done"==G}(d))throw function Ve(G,i){return new y.vHH(3400,!1)}();const b=Yt(this._elementListeners,i,[]),j={name:l,phase:d,callback:u};b.push(j);const oe=Yt(this._engine.statesByElement,i,new Map);return oe.has(l)||(I(i,dt),I(i,dt+"-"+l),oe.set(l,vn)),()=>{this._engine.afterFlush(()=>{const Ae=b.indexOf(j);Ae>=0&&b.splice(Ae,1),this._triggers.has(l)||oe.delete(l)})}}register(i,l){return!this._triggers.has(i)&&(this._triggers.set(i,l),!0)}_getTrigger(i){const l=this._triggers.get(i);if(!l)throw function ae(G){return new y.vHH(3401,!1)}();return l}trigger(i,l,d,u=!0){const b=this._getTrigger(l),j=new Vr(this.id,l,i);let oe=this._engine.statesByElement.get(i);oe||(I(i,dt),I(i,dt+"-"+l),this._engine.statesByElement.set(i,oe=new Map));let Ae=oe.get(l);const Ye=new an(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&Ae&&Ye.absorbOptions(Ae.options),oe.set(l,Ye),Ae||(Ae=vn),Ye.value!==Mn&&Ae.value===Ye.value){if(!function jr(G,i){const l=Object.keys(G),d=Object.keys(i);if(l.length!=d.length)return!1;for(let u=0;u<l.length;u++){const b=l[u];if(!i.hasOwnProperty(b)||G[b]!==i[b])return!1}return!0}(Ae.params,Ye.params)){const jt=[],Pn=b.matchStyles(Ae.value,Ae.params,jt),tn=b.matchStyles(Ye.value,Ye.params,jt);jt.length?this._engine.reportError(jt):this._engine.afterFlush(()=>{Bn(i,Pn),gn(i,tn)})}return}const Rt=Yt(this._engine.playersByElement,i,[]);Rt.forEach(jt=>{jt.namespaceId==this.id&&jt.triggerName==l&&jt.queued&&jt.destroy()});let Lt=b.matchTransition(Ae.value,Ye.value,i,Ye.params),At=!1;if(!Lt){if(!u)return;Lt=b.fallbackTransition,At=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:l,transition:Lt,fromState:Ae,toState:Ye,player:j,isFallbackTransition:At}),At||(I(i,Xs),j.onStart(()=>{ye(i,Xs)})),j.onDone(()=>{let jt=this.players.indexOf(j);jt>=0&&this.players.splice(jt,1);const Pn=this._engine.playersByElement.get(i);if(Pn){let tn=Pn.indexOf(j);tn>=0&&Pn.splice(tn,1)}}),this.players.push(j),Rt.push(j),j}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(l=>l.delete(i)),this._elementListeners.forEach((l,d)=>{this._elementListeners.set(d,l.filter(u=>u.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const l=this._engine.playersByElement.get(i);l&&(l.forEach(d=>d.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,l){const d=this._engine.driver.query(i,yt,!0);d.forEach(u=>{if(u[rn])return;const b=this._engine.fetchNamespacesByElement(u);b.size?b.forEach(j=>j.triggerLeaveAnimation(u,l,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(i,l,d,u){const b=this._engine.statesByElement.get(i),j=new Map;if(b){const oe=[];if(b.forEach((Ae,Ye)=>{if(j.set(Ye,Ae.value),this._triggers.has(Ye)){const St=this.trigger(i,Ye,Mn,u);St&&oe.push(St)}}),oe.length)return this._engine.markElementAsRemoved(this.id,i,!0,l,j),d&&wt(oe).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const l=this._elementListeners.get(i),d=this._engine.statesByElement.get(i);if(l&&d){const u=new Set;l.forEach(b=>{const j=b.name;if(u.has(j))return;u.add(j);const Ae=this._triggers.get(j).fallbackTransition,Ye=d.get(j)||vn,St=new an(Mn),gt=new Vr(this.id,j,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:j,transition:Ae,fromState:Ye,toState:St,player:gt,isFallbackTransition:!0})})}}removeNode(i,l){const d=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,l),this.triggerLeaveAnimation(i,l,!0))return;let u=!1;if(d.totalAnimations){const b=d.players.length?d.playersByQueriedElement.get(i):[];if(b&&b.length)u=!0;else{let j=i;for(;j=j.parentNode;)if(d.statesByElement.get(j)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(i),u)d.markElementAsRemoved(this.id,i,!1,l);else{const b=i[rn];(!b||b===ht)&&(d.afterFlush(()=>this.clearElementCache(i)),d.destroyInnerAnimations(i),d._onRemovalComplete(i,l))}}insertNode(i,l){I(i,this._hostClassName)}drainQueuedTransitions(i){const l=[];return this._queue.forEach(d=>{const u=d.player;if(u.destroyed)return;const b=d.element,j=this._elementListeners.get(b);j&&j.forEach(oe=>{if(oe.name==d.triggerName){const Ae=Kt(b,d.triggerName,d.fromState.value,d.toState.value);Ae._data=i,Qt(d.player,oe.phase,Ae,oe.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):l.push(d)}),this._queue=[],l.sort((d,u)=>{const b=d.transition.ast.depCount,j=u.transition.ast.depCount;return 0==b||0==j?b-j:this._engine.driver.containsElement(d.element,u.element)?1:-1})}destroy(i){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class ar{_onRemovalComplete(i,l){this.onRemovalComplete(i,l)}constructor(i,l,d){this.bodyNode=i,this.driver=l,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,b)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(l=>{l.players.forEach(d=>{d.queued&&i.push(d)})}),i}createNamespace(i,l){const d=new or(i,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(d,l):(this.newHostElements.set(l,d),this.collectEnterElement(l)),this._namespaceLookup[i]=d}_balanceNamespaceList(i,l){const d=this._namespaceList,u=this.namespacesByHostElement;if(d.length-1>=0){let j=!1,oe=this.driver.getParentElement(l);for(;oe;){const Ae=u.get(oe);if(Ae){const Ye=d.indexOf(Ae);d.splice(Ye+1,0,i),j=!0;break}oe=this.driver.getParentElement(oe)}j||d.unshift(i)}else d.push(i);return u.set(l,i),i}register(i,l){let d=this._namespaceLookup[i];return d||(d=this.createNamespace(i,l)),d}registerTrigger(i,l,d){let u=this._namespaceLookup[i];u&&u.register(l,d)&&this.totalAnimations++}destroy(i,l){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(i);this.namespacesByHostElement.delete(d.hostElement);const u=this._namespaceList.indexOf(d);u>=0&&this._namespaceList.splice(u,1),d.destroy(l),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const l=new Set,d=this.statesByElement.get(i);if(d)for(let u of d.values())if(u.namespaceId){const b=this._fetchNamespace(u.namespaceId);b&&l.add(b)}return l}trigger(i,l,d,u){if(ii(l)){const b=this._fetchNamespace(i);if(b)return b.trigger(l,d,u),!0}return!1}insertNode(i,l,d,u){if(!ii(l))return;const b=l[rn];if(b&&b.setForRemoval){b.setForRemoval=!1,b.setForMove=!0;const j=this.collectedLeaveElements.indexOf(l);j>=0&&this.collectedLeaveElements.splice(j,1)}if(i){const j=this._fetchNamespace(i);j&&j.insertNode(l,d)}u&&this.collectEnterElement(l)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,l){l?this.disabledNodes.has(i)||(this.disabledNodes.add(i),I(i,ce)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ye(i,ce))}removeNode(i,l,d){if(ii(l)){const u=i?this._fetchNamespace(i):null;u?u.removeNode(l,d):this.markElementAsRemoved(i,l,!1,d);const b=this.namespacesByHostElement.get(l);b&&b.id!==i&&b.removeNode(l,d)}else this._onRemovalComplete(l,d)}markElementAsRemoved(i,l,d,u,b){this.collectedLeaveElements.push(l),l[rn]={namespaceId:i,setForRemoval:u,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:b}}listen(i,l,d,u,b){return ii(l)?this._fetchNamespace(i).listen(l,d,u,b):()=>{}}_buildInstruction(i,l,d,u,b){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,d,u,i.fromState.options,i.toState.options,l,b)}destroyInnerAnimations(i){let l=this.driver.query(i,yt,!0);l.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(i,Ft,!0),l.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(i){const l=this.playersByElement.get(i);l&&l.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(i){const l=this.playersByQueriedElement.get(i);l&&l.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return wt(this.players).onDone(()=>i());i()})}processLeaveNode(i){const l=i[rn];if(l&&l.setForRemoval){if(i[rn]=ht,l.namespaceId){this.destroyInnerAnimations(i);const d=this._fetchNamespace(l.namespaceId);d&&d.clearElementCache(i)}this._onRemovalComplete(i,l.setForRemoval)}i.classList?.contains(ce)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(i=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,u)=>this._balanceNamespaceList(d,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)I(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{l=this._flushAnimations(d,i)}finally{for(let u=0;u<d.length;u++)d[u]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],l.length?wt(l).onDone(()=>{d.forEach(u=>u())}):d.forEach(u=>u())}}reportError(i){throw function we(G){return new y.vHH(3402,!1)}()}_flushAnimations(i,l){const d=new Nn,u=[],b=new Map,j=[],oe=new Map,Ae=new Map,Ye=new Map,St=new Set;this.disabledNodes.forEach(Ht=>{St.add(Ht);const nn=this.driver.query(Ht,".ng-animate-queued",!0);for(let ln=0;ln<nn.length;ln++)St.add(nn[ln])});const gt=this.bodyNode,Rt=Array.from(this.statesByElement.keys()),Lt=le(Rt,this.collectedEnterElements),At=new Map;let jt=0;Lt.forEach((Ht,nn)=>{const ln=qe+jt++;At.set(nn,ln),Ht.forEach(Ot=>I(Ot,ln))});const Pn=[],tn=new Set,Yn=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const nn=this.collectedLeaveElements[Ht],ln=nn[rn];ln&&ln.setForRemoval&&(Pn.push(nn),tn.add(nn),ln.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(Ot=>tn.add(Ot)):Yn.add(nn))}const Un=new Map,bn=le(Rt,Array.from(tn));bn.forEach((Ht,nn)=>{const ln=tt+jt++;Un.set(nn,ln),Ht.forEach(Ot=>I(Ot,ln))}),i.push(()=>{Lt.forEach((Ht,nn)=>{const ln=At.get(nn);Ht.forEach(Ot=>ye(Ot,ln))}),bn.forEach((Ht,nn)=>{const ln=Un.get(nn);Ht.forEach(Ot=>ye(Ot,ln))}),Pn.forEach(Ht=>{this.processLeaveNode(Ht)})});const Gr=[],mr=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(l).forEach(ln=>{const Ot=ln.player,vr=ln.element;if(Gr.push(Ot),this.collectedEnterElements.length){const Mr=vr[rn];if(Mr&&Mr.setForMove){if(Mr.previousTriggersValues&&Mr.previousTriggersValues.has(ln.triggerName)){const hi=Mr.previousTriggersValues.get(ln.triggerName),ls=this.statesByElement.get(ln.element);if(ls&&ls.has(ln.triggerName)){const Ki=ls.get(ln.triggerName);Ki.value=hi,ls.set(ln.triggerName,Ki)}}return void Ot.destroy()}}const xs=!gt||!this.driver.containsElement(gt,vr),Or=Un.get(vr),Ns=At.get(vr),tr=this._buildInstruction(ln,d,Ns,Or,xs);if(tr.errors&&tr.errors.length)return void mr.push(tr);if(xs)return Ot.onStart(()=>Bn(vr,tr.fromStyles)),Ot.onDestroy(()=>gn(vr,tr.toStyles)),void u.push(Ot);if(ln.isFallbackTransition)return Ot.onStart(()=>Bn(vr,tr.fromStyles)),Ot.onDestroy(()=>gn(vr,tr.toStyles)),void u.push(Ot);const Ri=[];tr.timelines.forEach(Mr=>{Mr.stretchStartingKeyframe=!0,this.disabledNodes.has(Mr.element)||Ri.push(Mr)}),tr.timelines=Ri,d.append(vr,tr.timelines),j.push({instruction:tr,player:Ot,element:vr}),tr.queriedElements.forEach(Mr=>Yt(oe,Mr,[]).push(Ot)),tr.preStyleProps.forEach((Mr,hi)=>{if(Mr.size){let ls=Ae.get(hi);ls||Ae.set(hi,ls=new Set),Mr.forEach((Ki,Oi)=>ls.add(Oi))}}),tr.postStyleProps.forEach((Mr,hi)=>{let ls=Ye.get(hi);ls||Ye.set(hi,ls=new Set),Mr.forEach((Ki,Oi)=>ls.add(Oi))})});if(mr.length){const Ht=[];mr.forEach(nn=>{Ht.push(function lt(G,i){return new y.vHH(3505,!1)}())}),Gr.forEach(nn=>nn.destroy()),this.reportError(Ht)}const Qn=new Map,er=new Map;j.forEach(Ht=>{const nn=Ht.element;d.has(nn)&&(er.set(nn,nn),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,Qn))}),u.forEach(Ht=>{const nn=Ht.element;this._getPreviousPlayers(nn,!1,Ht.namespaceId,Ht.triggerName,null).forEach(Ot=>{Yt(Qn,nn,[]).push(Ot),Ot.destroy()})});const Rs=Pn.filter(Ht=>Qr(Ht,Ae,Ye)),Os=new Map;w(Os,this.driver,Yn,Ye,N).forEach(Ht=>{Qr(Ht,Ae,Ye)&&Rs.push(Ht)});const Jr=new Map;Lt.forEach((Ht,nn)=>{w(Jr,this.driver,new Set(Ht),Ae,"!")}),Rs.forEach(Ht=>{const nn=Os.get(Ht),ln=Jr.get(Ht);Os.set(Ht,new Map([...nn?.entries()??[],...ln?.entries()??[]]))});const cr=[],uo=[],di={};j.forEach(Ht=>{const{element:nn,player:ln,instruction:Ot}=Ht;if(d.has(nn)){if(St.has(nn))return ln.onDestroy(()=>gn(nn,Ot.toStyles)),ln.disabled=!0,ln.overrideTotalTime(Ot.totalTime),void u.push(ln);let vr=di;if(er.size>1){let Or=nn;const Ns=[];for(;Or=Or.parentNode;){const tr=er.get(Or);if(tr){vr=tr;break}Ns.push(Or)}Ns.forEach(tr=>er.set(tr,vr))}const xs=this._buildAnimation(ln.namespaceId,Ot,Qn,b,Jr,Os);if(ln.setRealPlayer(xs),vr===di)cr.push(ln);else{const Or=this.playersByElement.get(vr);Or&&Or.length&&(ln.parentPlayer=wt(Or)),u.push(ln)}}else Bn(nn,Ot.fromStyles),ln.onDestroy(()=>gn(nn,Ot.toStyles)),uo.push(ln),St.has(nn)&&u.push(ln)}),uo.forEach(Ht=>{const nn=b.get(Ht.element);if(nn&&nn.length){const ln=wt(nn);Ht.setRealPlayer(ln)}}),u.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<Pn.length;Ht++){const nn=Pn[Ht],ln=nn[rn];if(ye(nn,tt),ln&&ln.hasAnimation)continue;let Ot=[];if(oe.size){let xs=oe.get(nn);xs&&xs.length&&Ot.push(...xs);let Or=this.driver.query(nn,Ft,!0);for(let Ns=0;Ns<Or.length;Ns++){let tr=oe.get(Or[Ns]);tr&&tr.length&&Ot.push(...tr)}}const vr=Ot.filter(xs=>!xs.destroyed);vr.length?bt(this,nn,vr):this.processLeaveNode(nn)}return Pn.length=0,cr.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const nn=this.players.indexOf(Ht);this.players.splice(nn,1)}),Ht.play()}),cr}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,l,d,u,b){let j=[];if(l){const oe=this.playersByQueriedElement.get(i);oe&&(j=oe)}else{const oe=this.playersByElement.get(i);if(oe){const Ae=!b||b==Mn;oe.forEach(Ye=>{Ye.queued||!Ae&&Ye.triggerName!=u||j.push(Ye)})}}return(d||u)&&(j=j.filter(oe=>!(d&&d!=oe.namespaceId||u&&u!=oe.triggerName))),j}_beforeAnimationBuild(i,l,d){const b=l.element,j=l.isRemovalTransition?void 0:i,oe=l.isRemovalTransition?void 0:l.triggerName;for(const Ae of l.timelines){const Ye=Ae.element,St=Ye!==b,gt=Yt(d,Ye,[]);this._getPreviousPlayers(Ye,St,j,oe,l.toState).forEach(Lt=>{const At=Lt.getRealPlayer();At.beforeDestroy&&At.beforeDestroy(),Lt.destroy(),gt.push(Lt)})}Bn(b,l.fromStyles)}_buildAnimation(i,l,d,u,b,j){const oe=l.triggerName,Ae=l.element,Ye=[],St=new Set,gt=new Set,Rt=l.timelines.map(At=>{const jt=At.element;St.add(jt);const Pn=jt[rn];if(Pn&&Pn.removedBeforeQueried)return new Le(At.duration,At.delay);const tn=jt!==Ae,Yn=function en(G){const i=[];return Wn(G,i),i}((d.get(jt)||ot).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===jt),Un=b.get(jt),bn=j.get(jt),Gr=zt(this._normalizer,At.keyframes,Un,bn),mr=this._buildPlayer(At,Gr,Yn);if(At.subTimeline&&u&&gt.add(jt),tn){const Qn=new Vr(i,oe,jt);Qn.setRealPlayer(mr),Ye.push(Qn)}return mr});Ye.forEach(At=>{Yt(this.playersByQueriedElement,At.element,[]).push(At),At.onDone(()=>function _s(G,i,l){let d=G.get(i);if(d){if(d.length){const u=d.indexOf(l);d.splice(u,1)}0==d.length&&G.delete(i)}return d}(this.playersByQueriedElement,At.element,At))}),St.forEach(At=>I(At,Vt));const Lt=wt(Rt);return Lt.onDestroy(()=>{St.forEach(At=>ye(At,Vt)),gn(Ae,l.toStyles)}),gt.forEach(At=>{Yt(u,At,[]).push(Lt)}),Lt}_buildPlayer(i,l,d){return l.length>0?this.driver.animate(i.element,l,i.duration,i.delay,i.easing,d):new Le(i.duration,i.delay)}}class Vr{constructor(i,l,d){this.namespaceId=i,this.triggerName=l,this.element=d,this._player=new Le,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((l,d)=>{l.forEach(u=>Qt(i,d,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const l=this._player;l.triggerCallback&&i.onStart(()=>l.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,l){Yt(this._queuedCallbacks,i,[]).push(l)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const l=this._player;l.triggerCallback&&l.triggerCallback(i)}}function ii(G){return G&&1===G.nodeType}function R(G,i){const l=G.style.display;return G.style.display=i??"none",l}function w(G,i,l,d,u){const b=[];l.forEach(Ae=>b.push(R(Ae)));const j=[];d.forEach((Ae,Ye)=>{const St=new Map;Ae.forEach(gt=>{const Rt=i.computeStyle(Ye,gt,u);St.set(gt,Rt),(!Rt||0==Rt.length)&&(Ye[rn]=kt,j.push(Ye))}),G.set(Ye,St)});let oe=0;return l.forEach(Ae=>R(Ae,b[oe++])),j}function le(G,i){const l=new Map;if(G.forEach(oe=>l.set(oe,[])),0==i.length)return l;const u=new Set(i),b=new Map;function j(oe){if(!oe)return 1;let Ae=b.get(oe);if(Ae)return Ae;const Ye=oe.parentNode;return Ae=l.has(Ye)?Ye:u.has(Ye)?1:j(Ye),b.set(oe,Ae),Ae}return i.forEach(oe=>{const Ae=j(oe);1!==Ae&&l.get(Ae).push(oe)}),l}function I(G,i){G.classList?.add(i)}function ye(G,i){G.classList?.remove(i)}function bt(G,i,l){wt(l).onDone(()=>G.processLeaveNode(i))}function Wn(G,i){for(let l=0;l<G.length;l++){const d=G[l];d instanceof de?Wn(d.players,i):i.push(d)}}function Qr(G,i,l){const d=l.get(G);if(!d)return!1;let u=i.get(G);return u?d.forEach(b=>u.add(b)):i.set(G,d),l.delete(G),!0}class Br{constructor(i,l,d){this.bodyNode=i,this._driver=l,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(u,b)=>{},this._transitionEngine=new ar(i,l,d),this._timelineEngine=new mn(i,l,d),this._transitionEngine.onRemovalComplete=(u,b)=>this.onRemovalComplete(u,b)}registerTrigger(i,l,d,u,b){const j=i+"-"+u;let oe=this._triggerCache[j];if(!oe){const Ae=[],St=Ys(this._driver,b,Ae,[]);if(Ae.length)throw function Mt(G,i){return new y.vHH(3404,!1)}();oe=function Ks(G,i,l){return new Ar(G,i,l)}(u,St,this._normalizer),this._triggerCache[j]=oe}this._transitionEngine.registerTrigger(l,u,oe)}register(i,l){this._transitionEngine.register(i,l)}destroy(i,l){this._transitionEngine.destroy(i,l)}onInsert(i,l,d,u){this._transitionEngine.insertNode(i,l,d,u)}onRemove(i,l,d){this._transitionEngine.removeNode(i,l,d)}disableAnimations(i,l){this._transitionEngine.markElementAsDisabled(i,l)}process(i,l,d,u){if("@"==d.charAt(0)){const[b,j]=Gt(d);this._timelineEngine.command(b,l,j,u)}else this._transitionEngine.trigger(i,l,d,u)}listen(i,l,d,u,b){if("@"==d.charAt(0)){const[j,oe]=Gt(d);return this._timelineEngine.listen(j,l,oe,b)}return this._transitionEngine.listen(i,l,d,u,b)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let ai=(()=>{class i{constructor(d,u,b){this._element=d,this._startStyles=u,this._endStyles=b,this._state=0;let j=i.initialStylesByElement.get(d);j||i.initialStylesByElement.set(d,j=new Map),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&gn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gn(this._element,this._initialStyles),this._endStyles&&(gn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Bn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bn(this._element,this._endStyles),this._endStyles=null),gn(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function ys(G){let i=null;return G.forEach((l,d)=>{(function Gi(G){return"display"===G||"position"===G})(d)&&(i=i||new Map,i.set(d,l))}),i}class io{constructor(i,l,d,u){this.element=i,this.keyframes=l,this.options=d,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const l=[];return i.forEach(d=>{l.push(Object.fromEntries(d))}),l}_triggerWebAnimation(i,l,d){return i.animate(this._convertKeyframesToObject(l),d)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,u)=>{"offset"!==u&&i.set(u,this._finished?d:hr(this.element,u))}),this.currentSnapshot=i}triggerCallback(i){const l="start"===i?this._onStartFns:this._onDoneFns;l.forEach(d=>d()),l.length=0}}class Hi{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,l){return!1}containsElement(i,l){return Pt(i,l)}getParentElement(i){return un(i)}query(i,l,d){return $t(i,l,d)}computeStyle(i,l,d){return window.getComputedStyle(i)[l]}animate(i,l,d,u,b,j=[]){const Ae={duration:d,delay:u,fill:0==u?"both":"forwards"};b&&(Ae.easing=b);const Ye=new Map,St=j.filter(Lt=>Lt instanceof io);(function kr(G,i){return 0===G||0===i})(d,u)&&St.forEach(Lt=>{Lt.currentSnapshot.forEach((At,jt)=>Ye.set(jt,At))});let gt=function Zn(G){return G.length?G[0]instanceof Map?G:G.map(i=>$n(i)):[]}(l).map(Lt=>yn(Lt));gt=function ir(G,i,l){if(l.size&&i.length){let d=i[0],u=[];if(l.forEach((b,j)=>{d.has(j)||u.push(j),d.set(j,b)}),u.length)for(let b=1;b<i.length;b++){let j=i[b];u.forEach(oe=>j.set(oe,hr(G,oe)))}}return i}(i,gt,Ye);const Rt=function oi(G,i){let l=null,d=null;return Array.isArray(i)&&i.length?(l=ys(i[0]),i.length>1&&(d=ys(i[i.length-1]))):i instanceof Map&&(l=ys(i)),l||d?new ai(G,l,d):null}(i,gt);return new io(i,gt,Ae,Rt)}}var Ei=v(6814);let Hs=(()=>{var G;class i extends B{constructor(d,u){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(u.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(d){const u=this._nextAnimationId.toString();this._nextAnimationId++;const b=Array.isArray(d)?ie(d):d;return Zr(this._renderer,null,u,"register",[b]),new li(u,this._renderer)}}return(G=i).\u0275fac=function(d){return new(d||G)(y.LFG(y.FYo),y.LFG(Ei.K0))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),i})();class li extends F{constructor(i,l){super(),this._id=i,this._renderer=l}create(i,l){return new $i(this._id,i,l||{},this._renderer)}}class $i{constructor(i,l,d,u){this.id=i,this.element=l,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(i,l){return this._renderer.listen(this.element,`@@${this.id}:${i}`,l)}_command(i,...l){return Zr(this._renderer,this.element,this.id,i,l)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Zr(G,i,l,d,u){return G.setProperty(i,`@@${l}:${d}`,u)}const zi="@.disabled";let oo=(()=>{var G;class i{constructor(d,u,b){this.delegate=d,this.engine=u,this._zone=b,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,u.onRemovalComplete=(j,oe)=>{const Ae=oe?.parentNode(j);Ae&&oe.removeChild(Ae,j)}}createRenderer(d,u){const j=this.delegate.createRenderer(d,u);if(!(d&&u&&u.data&&u.data.animation)){let gt=this._rendererCache.get(j);return gt||(gt=new Wi("",j,this.engine,()=>this._rendererCache.delete(j)),this._rendererCache.set(j,gt)),gt}const oe=u.id,Ae=u.id+"-"+this._currentId;this._currentId++,this.engine.register(Ae,d);const Ye=gt=>{Array.isArray(gt)?gt.forEach(Ye):this.engine.registerTrigger(oe,Ae,d,gt.name,gt)};return u.data.animation.forEach(Ye),new qi(this,Ae,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,u,b){d>=0&&d<this._microtaskId?this._zone.run(()=>u(b)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[oe,Ae]=j;oe(Ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([u,b]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(G=i).\u0275fac=function(d){return new(d||G)(y.LFG(y.FYo),y.LFG(Br),y.LFG(y.R0b))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),i})();class Wi{constructor(i,l,d,u){this.namespaceId=i,this.delegate=l,this.engine=d,this._onDestroy=u}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,l){return this.delegate.createElement(i,l)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,l){this.delegate.appendChild(i,l),this.engine.onInsert(this.namespaceId,l,i,!1)}insertBefore(i,l,d,u=!0){this.delegate.insertBefore(i,l,d),this.engine.onInsert(this.namespaceId,l,i,u)}removeChild(i,l,d){this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(i,l){return this.delegate.selectRootElement(i,l)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,l,d,u){this.delegate.setAttribute(i,l,d,u)}removeAttribute(i,l,d){this.delegate.removeAttribute(i,l,d)}addClass(i,l){this.delegate.addClass(i,l)}removeClass(i,l){this.delegate.removeClass(i,l)}setStyle(i,l,d,u){this.delegate.setStyle(i,l,d,u)}removeStyle(i,l,d){this.delegate.removeStyle(i,l,d)}setProperty(i,l,d){"@"==l.charAt(0)&&l==zi?this.disableAnimations(i,!!d):this.delegate.setProperty(i,l,d)}setValue(i,l){this.delegate.setValue(i,l)}listen(i,l,d){return this.delegate.listen(i,l,d)}disableAnimations(i,l){this.engine.disableAnimations(i,l)}}class qi extends Wi{constructor(i,l,d,u,b){super(l,d,u,b),this.factory=i,this.namespaceId=l}setProperty(i,l,d){"@"==l.charAt(0)?"."==l.charAt(1)&&l==zi?this.disableAnimations(i,d=void 0===d||!!d):this.engine.process(this.namespaceId,i,l.slice(1),d):this.delegate.setProperty(i,l,d)}listen(i,l,d){if("@"==l.charAt(0)){const u=function ao(G){switch(G){case"body":return document.body;case"document":return document;case"window":return window;default:return G}}(i);let b=l.slice(1),j="";return"@"!=b.charAt(0)&&([b,j]=function Wr(G){const i=G.indexOf(".");return[G.substring(0,i),G.slice(i+1)]}(b)),this.engine.listen(this.namespaceId,u,b,j,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,d,oe)})}return this.delegate.listen(i,l,d)}}const Ti=[{provide:B,useClass:Hs},{provide:Dr,useFactory:function lr(){return new zr}},{provide:Br,useClass:(()=>{var G;class i extends Br{constructor(d,u,b,j){super(d.body,u,b)}ngOnDestroy(){this.flush()}}return(G=i).\u0275fac=function(d){return new(d||G)(y.LFG(Ei.K0),y.LFG(xn),y.LFG(Dr),y.LFG(y.z2F))},G.\u0275prov=y.Yz7({token:G,factory:G.\u0275fac}),i})()},{provide:y.FYo,useFactory:function Si(G,i,l){return new oo(G,i,l)},deps:[o.se,Br,y.R0b]}],Zs=[{provide:xn,useFactory:()=>new Hi},{provide:y.QbO,useValue:"BrowserAnimations"},...Ti],$s=[{provide:xn,useClass:An},{provide:y.QbO,useValue:"NoopAnimations"},...Ti];let Ci=(()=>{var G;class i{static withConfig(d){return{ngModule:i,providers:d.disableAnimations?$s:Zs}}}return(G=i).\u0275fac=function(d){return new(d||G)},G.\u0275mod=y.oAB({type:G}),G.\u0275inj=y.cJS({providers:Zs,imports:[o.b2]}),i})();var Ii=v(9304),Fi=v(4874),ui=v(4773);let Jo=(()=>{var G;class i{}return(G=i).\u0275fac=function(d){return new(d||G)},G.\u0275mod=y.oAB({type:G,bootstrap:[me]}),G.\u0275inj=y.cJS({providers:[q.o,Ii.l,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!0,providers:[{id:Fi.tV.PROVIDER_ID,provider:new Fi.tV("241377791630-t2nvuk7tp9ks3qso3c890auts11i4ina.apps.googleusercontent.com")}],onError:l=>{console.error(l)}}}],imports:[o.b2,O,$.Aw.forRoot(Q),Ci,Fi.RB,ui.G]}),i})();v(553).N.production&&(0,y.G48)(),o.q6().bootstrapModule(Jo).catch(G=>console.error(G))},8707:(pe,m,v)=>{"use strict";v.d(m,{n:()=>o});class o{}},4431:(pe,m,v)=>{"use strict";v.d(m,{s:()=>Q});var o=v(5861),y=v(9862),$=v(4036),P=v(553),z=v(4296),J=v(6689),k=v(6068);let Q=(()=>{var q;class H{constructor(O,V){this.http=O,this.commonFunction=V,this.serverURL=P.N.serverURL,this.token=this.commonFunction.getLocalStorage(z.g.JWT)||"",this.headers=(new y.WM).append("Content-Type","application/json").append("Access-Control-Allow-Headers","Content-Type").append("Access-Control-Allow-Methods","*").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Credentials","true").append("Authorization",`Bearer ${this.token}`)}buildHeader(){this.commonFunction.getLocalStorage(z.g.JWT),this.headers=(new y.WM).append("Content-Type","application/json").append("Access-Control-Allow-Headers","Content-Type").append("Access-Control-Allow-Methods","*").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Credentials","true").append("Authorization",`Bearer ${this.token}`)}post(O,V){var x=this;return(0,o.Z)(function*(){x.buildHeader();const K=x.http.post(x.serverURL+V,O,{observe:"response",headers:x.headers});return(yield(0,$.z)(K)).body})()}put(O,V){return this.http.put(this.serverURL+V,O,{observe:"response",headers:this.headers})}update(O,V){return this.http.put(this.serverURL+V,O,{observe:"response",headers:this.headers})}get(O){var V=this;return(0,o.Z)(function*(){const x=V.http.get(V.serverURL+O,{observe:"response",headers:V.headers});return(yield(0,$.z)(x)).body})()}getExternalLink(O){return this.http.get(O,{observe:"response",headers:this.headers})}getFileBuffer(O){var V=this;return(0,o.Z)(function*(){const x=(new y.WM).append("Content-Type","application/pdf").append("Access-Control-Allow-Headers","Content-Type").append("Access-Control-Allow-Methods","*").append("Access-Control-Allow-Origin","*").append("responseType","arraybuffer").append("Access-Control-Allow-Credentials","true").append("Authorization",`Bearer ${V.token}`),K=V.http.get(V.serverURL+O,{headers:x,responseType:"arraybuffer"});return yield(0,$.z)(K)})()}postFile(O,V){var x=this;return(0,o.Z)(function*(){const K=(new y.WM).append("Access-Control-Allow-Headers","Content-Type").append("Access-Control-Allow-Methods","*").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Credentials","true").append("Authorization",`Bearer ${x.token}`),te=x.http.post(x.serverURL+V,O,{observe:"response",headers:K});return(yield(0,$.z)(te)).body})()}}return(q=H).\u0275fac=function(O){return new(O||q)(J.LFG(y.eN),J.LFG(k.o))},q.\u0275prov=J.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),H})()},5593:(pe,m,v)=>{"use strict";v.d(m,{F:()=>J});var o=v(5861),y=v(9627),P=v(6689),z=v(4431);let J=(()=>{var k;class Q{constructor(H){this.apiService=H,this.CHUNK_SIZE=3145728,this.numChunks=0,this.saveNumChunks=0,this.isLoadingDocument=!0}filter(H){var A=this;return(0,o.Z)(function*(){return yield A.apiService.post(H,"/public/api/pdf/filter")})()}downloadChunk(H,A,O){var V=this;return(0,o.Z)(function*(){return yield V.apiService.getFileBuffer(`/private/api/pdf?fileName=${A}&chunk=${H}&fileId=${O}`)})()}loadPdfFromServer(H){var A=this;return(0,o.Z)(function*(){const O=H.fileSize,V=Math.ceil(O/A.CHUNK_SIZE);A.pdfDocument=null;let x=new Array(V);const K=new Uint8Array(O);for(let te=0;te<V;++te){const me=yield A.downloadChunk(te,H.fileName,H.id);x[te]=me}return A.mergeChunk(x,K),y.GlobalWorkerOptions.workerSrc="assets/pdf.worker.js",A.pdfDocument=yield y.getDocument({data:K.buffer}).promise,A.pdfDocument})()}mergeChunk(H,A){let O=0;for(const V of H)A.set(new Uint8Array(V),O),O+=V.byteLength}subscriber(H){var A=this;return(0,o.Z)(function*(){return yield A.apiService.post({},`/private/api/pdf/subscriber/${H}`),!0})()}uploadBook(H,A){var O=this;return(0,o.Z)(function*(){const V=new FormData;V.append("file",H),V.append("metadata",A),yield O.apiService.postFile(V,"/private/api/pdf")})()}}return(k=Q).\u0275fac=function(H){return new(H||k)(P.LFG(z.s))},k.\u0275prov=P.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),Q})()},2911:(pe,m,v)=>{"use strict";v.d(m,{K:()=>te});var o=v(5861),y=v(4036),$=v(8707),P=v(7398),z=v(8180),J=v(2138),k=v(4296),Q=v(7661),q=v(6689),H=v(8602),A=v(4431),O=v(7854),V=v(6068),x=v(4874),K=v(5593);let te=(()=>{var me;class B{constructor(N,W,ue,ge,ie,Y){this.store=N,this.apiService=W,this.cryptoService=ue,this.commonFunction=ge,this.socialAuthService=ie,this.pdfService=Y,this.userInfoObservable=this.store.select(Oe=>Oe.userInfo)}getCurrentUserInfo(){let N;return this.store.select(W=>W.userInfo).pipe((0,P.U)(W=>W),(0,z.q)(1)).subscribe(W=>{N=W}),N}isLogin(){const N=this.getCurrentUserInfo();return N&&Object.keys(N).length>0}buildUserDtoSignIn(N){const W=new $.n;return W.token=N,W}updateUserInfoState(N){this.store.dispatch(new J.Lv({...N}));const W=this.cryptoService.encrypt(JSON.stringify(N));this.commonFunction.setLocalStorage(k.g.USER_INFO,W),this.commonFunction.setLocalStorage(k.g.JWT,N.token)}removeLocalStoreUserInfo(){this.commonFunction.removeAttributeLocalStorage(k.g.USER_INFO),this.commonFunction.removeAttributeLocalStorage(k.g.JWT)}requestForUserInfo(N){var W=this;return(0,o.Z)(function*(){try{const ue=yield W.apiService.post(W.buildUserDtoSignIn(N),"/private/api/user/request-user-info");W.updateUserInfoState(ue);const ge=W.cryptoService.encrypt(JSON.stringify(ue));W.commonFunction.setLocalStorage(k.g.USER_INFO,ge)}catch{W.updateUserInfoState({}),W.commonFunction.removeAttributeLocalStorage(k.g.JWT),W.commonFunction.removeAttributeLocalStorage(k.g.USER_INFO)}})()}signIn(N){var W=this;return(0,o.Z)(function*(){const ue=yield W.apiService.post(N,"/public/api/sign-in");W.updateUserInfoState(ue)})()}signInSSO(N){var W=this;return(0,o.Z)(function*(){const ue=yield W.apiService.post(N,"/public/api/sign-in-sso");W.updateUserInfoState(ue)})()}signOut(N){var W=this;return(0,o.Z)(function*(){yield W.apiService.post(N,"/private/api/user/logout"),W.updateUserInfoState({}),W.removeLocalStoreUserInfo()})()}signUp(N){var W=this;return(0,o.Z)(function*(){yield W.apiService.post(N,"/public/api/sign-up")})()}googleSignIn(){var N=this;return(0,o.Z)(function*(){const W=N.socialAuthService.authState,ue=yield(0,y.z)(W);if(console.log(ue),ue){const ge=N.cryptoService.decodeJwtToken(ue.idToken);yield N.signInSSO(N.buildGoogleserDto(ge)),window.location.reload()}})()}buildGoogleserDto(N){const W=new $.n;return W.email=N.email,W.name=`${N.family_name} ${N.given_name}`,W.password=`${N.sub}`,W.userName=`${N.aud}`,W.userType=Q.E.GOOGLE,W.imagePath=N.picture,W}}return(me=B).\u0275fac=function(N){return new(N||me)(q.LFG(H.yh),q.LFG(A.s),q.LFG(O.$),q.LFG(V.o),q.LFG(x.xE),q.LFG(K.F))},me.\u0275prov=q.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),B})()},6068:(pe,m,v)=>{"use strict";v.d(m,{o:()=>$});var o=v(4089),y=v(553);class ${getLocalStorage(z){return localStorage.getItem(z)||""}setLocalStorage(z,J){localStorage.setItem(z,J)}removeAttributeLocalStorage(z){localStorage.removeItem(z)}formatDateTime(z){const J=z.getDate(),k=z.getMonth()+1,Q=z.getFullYear(),q=z.getHours(),H=z.getMinutes();return`${J.toString().padStart(2,"0")}/${k.toString().padStart(2,"0")}/${Q} ${q.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`}convertStringToTypeEnum(z){const J={};return J.java=o.q.JAVA,J.oop=o.q.OOP,J.js=o.q.JS,J.devops=o.q.DEV_OPS,J[z]}convertTypeEnumToString(z){const J={};return J[o.q.JAVA.toString()]="java",J[o.q.OOP.toString()]="oop",J[o.q.JS.toString()]="js",J[o.q.DEV_OPS.toString()]="devops",J[z.toString()]}formatVND(z){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(z)}buildBookCoverImageUrl(z){return`${y.N.serverURL}/public/api/pdf/cover/${z}`}buildArticleCoverImageUrl(z){return`${y.N.serverURL}/public/api/article/article-image-cover/${z}`}}},4296:(pe,m,v)=>{"use strict";v.d(m,{g:()=>o});const o={JWT:"jwt",USER_INFO:"infor",NUM_OF_PAGE:6}},7854:(pe,m,v)=>{"use strict";function o(q){this.message=q}v.d(m,{$:()=>Q}),(o.prototype=new Error).name="InvalidCharacterError";var y=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(q){var H=String(q).replace(/=+$/,"");if(H.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var A,O,V=0,x=0,K="";O=H.charAt(x++);~O&&(A=V%4?64*A+O:O,V++%4)?K+=String.fromCharCode(255&A>>(-2*V&6)):0)O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(O);return K};function P(q){this.message=q}(P.prototype=new Error).name="InvalidTokenError";var k=v(6689);let Q=(()=>{var q;class H{constructor(){this.secretKey="151530072023ITable151530072023",this.split="."}encrypt(O){const x=(new TextEncoder).encode(`${this.secretKey}${O}${this.secretKey}`).join(this.split);return window.btoa(x)}decrypt(O){const V=new TextDecoder,K=window.atob(O).split(this.split),te=new Uint8Array(K.length);for(let F=0;F<K.length;F++)te[F]=parseInt(K[F]);const me=V.decode(te),B=new RegExp(this.secretKey,"g");return me.replace(B,"")}decodeJwtToken(O){return function z(q,H){if("string"!=typeof q)throw new P("Invalid token specified");var A=!0===(H=H||{}).header?0:1;try{return JSON.parse(function $(q){var H=q.replace(/-/g,"+").replace(/_/g,"/");switch(H.length%4){case 0:break;case 2:H+="==";break;case 3:H+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(y(H).replace(/(.)/g,function(O,V){var x=V.charCodeAt(0).toString(16).toUpperCase();return x.length<2&&(x="0"+x),"%"+x}))}catch{return y(H)}}(q.split(".")[A]))}catch(O){throw new P("Invalid token specified: "+O.message)}}(O)}}return(q=H).\u0275fac=function(O){return new(O||q)},q.\u0275prov=k.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),H})()},9304:(pe,m,v)=>{"use strict";v.d(m,{l:()=>y});var o=v(4548);class y{constructor(){this.noticeId="notice-content"}showNotice(P){let z;switch(this.clearStatus(),P.type){case o.Q.ERROR:z=this.showErrorNotice(P);break;case o.Q.WARING:z=this.showWaringNotice(P);break;case o.Q.SUCCESS:z=this.showSuccessNotice(P);break;case o.Q.INFO:z=this.showInfoNotice(P)}this.hideNotice(z)}clearStatus(){const P=document.getElementById(this.noticeId);this.setTimeout&&clearTimeout(this.setTimeout),P&&(P.innerHTML="",P.classList.remove("fade-out"))}showErrorNotice(P){const z=document.getElementById(this.noticeId);if(z)return z.innerHTML=`\n        <div class="alert common">\n            <div class="icon">\n                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="white" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">\n                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>\n                  </svg>\n            </div>\n            <div class="copy">\n                <h4>Something bad just happened!</h4>\n                <p>${P.detail}</p>\n            </div>\n            <a class="close">\n                <i class="fa fa-times"></i>\n            </a>\n        </div>\n        `,z}showWaringNotice(P){const z=document.getElementById(this.noticeId);if(z)return z.innerHTML=`\n        <div class="waring common">\n            <div class="icon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="white" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">\n                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n            </svg>\n            </div>\n            <div class="copy">\n                <h4>Warning</h4>\n                <p>${P.detail}</p>\n            </div>\n            <a class="close">\n                <i class="fa fa-times"></i>\n            </a>\n        </div>\n        `,z}showSuccessNotice(P){const z=document.getElementById(this.noticeId);if(z)return z.innerHTML=`\n        <div class="success common">\n            <div class="icon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-check" viewBox="0 0 16 16">\n                <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>\n            </svg>\n            </div>\n            <div class="copy">\n                <h4>Success</h4>\n                <p>${P.detail}</p>\n            </div>\n            <a class="close">\n                <i class="fa fa-times"></i>\n            </a>\n        </div>\n        `,z}showInfoNotice(P){const z=document.getElementById(this.noticeId);if(z)return z.innerHTML=`\n        <div class="info-notice common">\n            <div class="icon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-info-lg" viewBox="0 0 16 16">\n                <path d="m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704l1.323-6.208Zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0Z"/>\n            </svg>\n            </div>\n            <div class="copy">\n                <h4>Information</h4>\n                <p>${P.detail}</p>\n            </div>\n            <a class="close">\n                <i class="fa fa-times"></i>\n            </a>\n        </div>\n        `,z}hideNotice(P){P&&(this.setTimeout=setTimeout(()=>{P.classList.add("fade-out"),setTimeout(()=>{P.innerHTML="",P.classList.remove("fade-out")},1500)},2e3))}}},9627:(module,__unused_webpack_exports,__webpack_require__)=>{var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(9382).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,v;globalThis,v=()=>(()=>{"use strict";var __webpack_modules__=[,(pe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.VerbosityLevel=m.Util=m.UnknownErrorException=m.UnexpectedResponseException=m.UNSUPPORTED_FEATURES=m.TextRenderingMode=m.StreamType=m.RenderingIntentFlag=m.PermissionFlag=m.PasswordResponses=m.PasswordException=m.PageActionEventType=m.OPS=m.MissingPDFException=m.LINE_FACTOR=m.LINE_DESCENT_FACTOR=m.InvalidPDFException=m.ImageKind=m.IDENTITY_MATRIX=m.FormatError=m.FontType=m.FeatureTest=m.FONT_IDENTITY_MATRIX=m.DocumentActionEventType=m.CMapCompressionType=m.BaseException=m.BASELINE_FACTOR=m.AnnotationType=m.AnnotationStateModelType=m.AnnotationReviewState=m.AnnotationReplyType=m.AnnotationMode=m.AnnotationMarkedState=m.AnnotationFlag=m.AnnotationFieldFlag=m.AnnotationEditorType=m.AnnotationEditorPrefix=m.AnnotationEditorParamsType=m.AnnotationBorderStyleType=m.AnnotationActionEventType=m.AbortException=void 0,m.arrayByteLength=$e,m.arraysToBytes=function Ge(Ve){const ae=Ve.length;if(1===ae&&Ve[0]instanceof Uint8Array)return Ve[0];let we=0;for(let Bt=0;Bt<ae;Bt++)we+=$e(Ve[Bt]);let rt=0;const lt=new Uint8Array(we);for(let Bt=0;Bt<ae;Bt++){let wt=Ve[Bt];wt instanceof Uint8Array||(wt="string"==typeof wt?Ue(wt):new Uint8Array(wt));const zt=wt.byteLength;lt.set(wt,rt),rt+=zt}return lt},m.assert=function S(Ve,ae){Ve||C(ae)},m.bytesToString=function Re(Ve){("object"!=typeof Ve||null===Ve||void 0===Ve.length)&&C("Invalid argument for bytesToString");const ae=Ve.length;if(ae<8192)return String.fromCharCode.apply(null,Ve);const rt=[];for(let lt=0;lt<ae;lt+=8192){const Bt=Math.min(lt+8192,ae),wt=Ve.subarray(lt,Bt);rt.push(String.fromCharCode.apply(null,wt))}return rt.join("")},m.createPromiseCapability=function Xt(){const Ve=Object.create(null);let ae=!1;return Object.defineProperty(Ve,"settled",{get:()=>ae}),Ve.promise=new Promise(function(we,rt){Ve.resolve=function(lt){ae=!0,we(lt)},Ve.reject=function(lt){ae=!0,rt(lt)}}),Ve},m.createValidAbsoluteUrl=function X(Ve,ae=null,we=null){if(!Ve)return null;try{if(we&&"string"==typeof Ve){if(we.addDefaultProtocol&&Ve.startsWith("www.")){const lt=Ve.match(/\./g);lt&&lt.length>=2&&(Ve=`http://${Ve}`)}if(we.tryConvertEncoding)try{Ve=Ut(Ve)}catch{}}const rt=ae?new URL(Ve,ae):new URL(Ve);if(function U(Ve){if(!Ve)return!1;switch(Ve.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(rt))return rt}catch{}return null},m.getModificationDate=function Dt(Ve=new Date){return[Ve.getUTCFullYear().toString(),(Ve.getUTCMonth()+1).toString().padStart(2,"0"),Ve.getUTCDate().toString().padStart(2,"0"),Ve.getUTCHours().toString().padStart(2,"0"),Ve.getUTCMinutes().toString().padStart(2,"0"),Ve.getUTCSeconds().toString().padStart(2,"0")].join("")},m.getVerbosityLevel=function _e(){return Fe},m.info=function Le(Ve){Fe>=Oe.INFOS&&console.log(`Info: ${Ve}`)},m.isArrayBuffer=function It(Ve){return"object"==typeof Ve&&null!==Ve&&void 0!==Ve.byteLength},m.isArrayEqual=function xt(Ve,ae){if(Ve.length!==ae.length)return!1;for(let we=0,rt=Ve.length;we<rt;we++)if(Ve[we]!==ae[we])return!1;return!0},m.objectFromMap=function Je(Ve){const ae=Object.create(null);for(const[we,rt]of Ve)ae[we]=rt;return ae},m.objectSize=function nt(Ve){return Object.keys(Ve).length},m.setVerbosityLevel=function ee(Ve){Number.isInteger(Ve)&&(Fe=Ve)},m.shadow=se,m.string32=function We(Ve){return String.fromCharCode(Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve)},m.stringToBytes=Ue,m.stringToPDFString=function In(Ve){if(Ve[0]>="\xef"){let we;if("\xfe"===Ve[0]&&"\xff"===Ve[1]?we="utf-16be":"\xff"===Ve[0]&&"\xfe"===Ve[1]?we="utf-16le":"\xef"===Ve[0]&&"\xbb"===Ve[1]&&"\xbf"===Ve[2]&&(we="utf-8"),we)try{const rt=new TextDecoder(we,{fatal:!0}),lt=Ue(Ve);return rt.decode(lt)}catch(rt){de(`stringToPDFString: "${rt}".`)}}const ae=[];for(let we=0,rt=Ve.length;we<rt;we++){const lt=Mt[Ve.charCodeAt(we)];ae.push(lt?String.fromCharCode(lt):Ve.charAt(we))}return ae.join("")},m.stringToUTF8String=Ut,m.unreachable=C,m.utf8StringToString=function Ke(Ve){return unescape(encodeURIComponent(Ve))},m.warn=de,m.IDENTITY_MATRIX=[1,0,0,1,0,0],m.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],m.LINE_FACTOR=1.35,m.LINE_DESCENT_FACTOR=.35,m.BASELINE_FACTOR=.25925925925925924,m.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},m.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},m.AnnotationEditorPrefix="pdfjs_internal_editor_",m.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},m.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},m.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},m.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},m.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},m.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},m.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},m.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},m.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},m.AnnotationReplyType={GROUP:"Group",REPLY:"R"},m.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},m.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},m.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},m.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},m.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},m.PageActionEventType={O:"PageOpen",C:"PageClose"},m.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},m.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const Oe={ERRORS:0,WARNINGS:1,INFOS:5};m.VerbosityLevel=Oe,m.CMapCompressionType={NONE:0,BINARY:1},m.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},m.UNSUPPORTED_FEATURES={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},m.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Fe=Oe.WARNINGS;function de(Ve){Fe>=Oe.WARNINGS&&console.log(`Warning: ${Ve}`)}function C(Ve){throw new Error(Ve)}function se(Ve,ae,we,rt=!1){return Object.defineProperty(Ve,ae,{value:we,enumerable:!rt,configurable:!0,writable:!1}),we}const he=function(){function ae(we,rt){this.constructor===ae&&C("Cannot initialize BaseException."),this.message=we,this.name=rt}return ae.prototype=new Error,ae.constructor=ae,ae}();function Ue(Ve){"string"!=typeof Ve&&C("Invalid argument for stringToBytes");const ae=Ve.length,we=new Uint8Array(ae);for(let rt=0;rt<ae;++rt)we[rt]=255&Ve.charCodeAt(rt);return we}function $e(Ve){return void 0!==Ve.length?Ve.length:void 0!==Ve.byteLength?Ve.byteLength:void C("Invalid argument for arrayByteLength")}m.BaseException=he,m.PasswordException=class Ce extends he{constructor(ae,we){super(ae,"PasswordException"),this.code=we}},m.UnknownErrorException=class Pe extends he{constructor(ae,we){super(ae,"UnknownErrorException"),this.details=we}},m.InvalidPDFException=class M extends he{constructor(ae){super(ae,"InvalidPDFException")}},m.MissingPDFException=class L extends he{constructor(ae){super(ae,"MissingPDFException")}},m.UnexpectedResponseException=class re extends he{constructor(ae,we){super(ae,"UnexpectedResponseException"),this.status=we}},m.FormatError=class fe extends he{constructor(ae){super(ae,"FormatError")}},m.AbortException=class Se extends he{constructor(ae){super(ae,"AbortException")}},m.FeatureTest=class Ct{static get isLittleEndian(){return se(this,"isLittleEndian",function vt(){const Ve=new Uint8Array(4);return Ve[0]=1,1===new Uint32Array(Ve.buffer,0,1)[0]}())}static get isEvalSupported(){return se(this,"isEvalSupported",function at(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return se(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?se(this,"platform",{isWin:!1,isMac:!1}):se(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const qt=[...Array(256).keys()].map(Ve=>Ve.toString(16).padStart(2,"0"));class _t{static makeHexColor(ae,we,rt){return`#${qt[ae]}${qt[we]}${qt[rt]}`}static scaleMinMax(ae,we){let rt;ae[0]?(ae[0]<0&&(rt=we[0],we[0]=we[1],we[1]=rt),we[0]*=ae[0],we[1]*=ae[0],ae[3]<0&&(rt=we[2],we[2]=we[3],we[3]=rt),we[2]*=ae[3],we[3]*=ae[3]):(rt=we[0],we[0]=we[2],we[2]=rt,rt=we[1],we[1]=we[3],we[3]=rt,ae[1]<0&&(rt=we[2],we[2]=we[3],we[3]=rt),we[2]*=ae[1],we[3]*=ae[1],ae[2]<0&&(rt=we[0],we[0]=we[1],we[1]=rt),we[0]*=ae[2],we[1]*=ae[2]),we[0]+=ae[4],we[1]+=ae[4],we[2]+=ae[5],we[3]+=ae[5]}static transform(ae,we){return[ae[0]*we[0]+ae[2]*we[1],ae[1]*we[0]+ae[3]*we[1],ae[0]*we[2]+ae[2]*we[3],ae[1]*we[2]+ae[3]*we[3],ae[0]*we[4]+ae[2]*we[5]+ae[4],ae[1]*we[4]+ae[3]*we[5]+ae[5]]}static applyTransform(ae,we){return[ae[0]*we[0]+ae[1]*we[2]+we[4],ae[0]*we[1]+ae[1]*we[3]+we[5]]}static applyInverseTransform(ae,we){const rt=we[0]*we[3]-we[1]*we[2];return[(ae[0]*we[3]-ae[1]*we[2]+we[2]*we[5]-we[4]*we[3])/rt,(-ae[0]*we[1]+ae[1]*we[0]+we[4]*we[1]-we[5]*we[0])/rt]}static getAxialAlignedBoundingBox(ae,we){const rt=_t.applyTransform(ae,we),lt=_t.applyTransform(ae.slice(2,4),we),Bt=_t.applyTransform([ae[0],ae[3]],we),wt=_t.applyTransform([ae[2],ae[1]],we);return[Math.min(rt[0],lt[0],Bt[0],wt[0]),Math.min(rt[1],lt[1],Bt[1],wt[1]),Math.max(rt[0],lt[0],Bt[0],wt[0]),Math.max(rt[1],lt[1],Bt[1],wt[1])]}static inverseTransform(ae){const we=ae[0]*ae[3]-ae[1]*ae[2];return[ae[3]/we,-ae[1]/we,-ae[2]/we,ae[0]/we,(ae[2]*ae[5]-ae[4]*ae[3])/we,(ae[4]*ae[1]-ae[5]*ae[0])/we]}static singularValueDecompose2dScale(ae){const we=[ae[0],ae[2],ae[1],ae[3]],rt=ae[0]*we[0]+ae[1]*we[2],wt=ae[2]*we[1]+ae[3]*we[3],zt=(rt+wt)/2,Qt=Math.sqrt((rt+wt)**2-4*(rt*wt-(ae[2]*we[0]+ae[3]*we[2])*(ae[0]*we[1]+ae[1]*we[3])))/2,Kt=zt-Qt||1;return[Math.sqrt(zt+Qt||1),Math.sqrt(Kt)]}static normalizeRect(ae){const we=ae.slice(0);return ae[0]>ae[2]&&(we[0]=ae[2],we[2]=ae[0]),ae[1]>ae[3]&&(we[1]=ae[3],we[3]=ae[1]),we}static intersect(ae,we){const rt=Math.max(Math.min(ae[0],ae[2]),Math.min(we[0],we[2])),lt=Math.min(Math.max(ae[0],ae[2]),Math.max(we[0],we[2]));if(rt>lt)return null;const Bt=Math.max(Math.min(ae[1],ae[3]),Math.min(we[1],we[3])),wt=Math.min(Math.max(ae[1],ae[3]),Math.max(we[1],we[3]));return Bt>wt?null:[rt,Bt,lt,wt]}static bezierBoundingBox(ae,we,rt,lt,Bt,wt,zt,Qt){const on=[],Kt=[[],[]];let Yt,Gt,On,un,st,ke,Xe,Ne;for(let $t=0;$t<2;++$t)if(0===$t?(Gt=6*ae-12*rt+6*Bt,Yt=-3*ae+9*rt-9*Bt+3*zt,On=3*rt-3*ae):(Gt=6*we-12*lt+6*wt,Yt=-3*we+9*lt-9*wt+3*Qt,On=3*lt-3*we),Math.abs(Yt)<1e-12){if(Math.abs(Gt)<1e-12)continue;un=-On/Gt,0<un&&un<1&&on.push(un)}else Xe=Gt*Gt-4*On*Yt,Ne=Math.sqrt(Xe),!(Xe<0)&&(st=(-Gt+Ne)/(2*Yt),0<st&&st<1&&on.push(st),ke=(-Gt-Ne)/(2*Yt),0<ke&&ke<1&&on.push(ke));let ct,et=on.length;const Pt=et;for(;et--;)un=on[et],ct=1-un,Kt[0][et]=ct*ct*ct*ae+3*ct*ct*un*rt+3*ct*un*un*Bt+un*un*un*zt,Kt[1][et]=ct*ct*ct*we+3*ct*ct*un*lt+3*ct*un*un*wt+un*un*un*Qt;return Kt[0][Pt]=ae,Kt[1][Pt]=we,Kt[0][Pt+1]=zt,Kt[1][Pt+1]=Qt,Kt[0].length=Kt[1].length=Pt+2,[Math.min(...Kt[0]),Math.min(...Kt[1]),Math.max(...Kt[0]),Math.max(...Kt[1])]}}m.Util=_t;const Mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ut(Ve){return decodeURIComponent(escape(Ve))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:pe,NodeCMapReaderFactory:m,NodeStandardFontDataFactory:v}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=pe,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=m,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=v}function setPDFNetworkStreamFactory(pe){createPDFNetworkStream=pe}function getDocument(pe){const m=new PDFDocumentLoadingTask;let v;if("string"==typeof pe||pe instanceof URL)v={url:pe};else if((0,_util.isArrayBuffer)(pe))v={data:pe};else if(pe instanceof PDFDataRangeTransport)v={range:pe};else{if("object"!=typeof pe)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!pe.url&&!pe.data&&!pe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");v=pe}const o=Object.create(null);let y=null,$=null;for(const z in v){const J=v[z];switch(z){case"url":if(typeof window<"u")try{o[z]=new URL(J,window.location).href;continue}catch(k){(0,_util.warn)(`Cannot create valid URL: "${k}".`)}else if("string"==typeof J||J instanceof URL){o[z]=J.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":y=J;continue;case"worker":$=J;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&J instanceof Buffer)o[z]=new Uint8Array(J);else{if(J instanceof Uint8Array)break;if("string"==typeof J)o[z]=(0,_util.stringToBytes)(J);else if("object"!=typeof J||null===J||isNaN(J.length)){if(!(0,_util.isArrayBuffer)(J))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");o[z]=new Uint8Array(J)}else o[z]=new Uint8Array(J)}continue}o[z]=J}if(o.CMapReaderFactory=o.CMapReaderFactory||DefaultCMapReaderFactory,o.StandardFontDataFactory=o.StandardFontDataFactory||DefaultStandardFontDataFactory,o.ignoreErrors=!0!==o.stopAtErrors,o.fontExtraProperties=!0===o.fontExtraProperties,o.pdfBug=!0===o.pdfBug,o.enableXfa=!0===o.enableXfa,(!Number.isInteger(o.rangeChunkSize)||o.rangeChunkSize<1)&&(o.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof o.docBaseUrl||(0,_display_utils.isDataScheme)(o.docBaseUrl))&&(o.docBaseUrl=null),(!Number.isInteger(o.maxImageSize)||o.maxImageSize<-1)&&(o.maxImageSize=-1),"string"!=typeof o.cMapUrl&&(o.cMapUrl=null),"string"!=typeof o.standardFontDataUrl&&(o.standardFontDataUrl=null),"boolean"!=typeof o.useWorkerFetch&&(o.useWorkerFetch=o.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&o.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof o.isEvalSupported&&(o.isEvalSupported=!0),"boolean"!=typeof o.isOffscreenCanvasSupported&&(o.isOffscreenCanvasSupported=!_is_node.isNodeJS),"boolean"!=typeof o.disableFontFace&&(o.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof o.useSystemFonts&&(o.useSystemFonts=!_is_node.isNodeJS&&!o.disableFontFace),("object"!=typeof o.ownerDocument||null===o.ownerDocument)&&(o.ownerDocument=globalThis.document),"boolean"!=typeof o.disableRange&&(o.disableRange=!1),"boolean"!=typeof o.disableStream&&(o.disableStream=!1),"boolean"!=typeof o.disableAutoFetch&&(o.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(o.verbosity),!$){const z={verbosity:o.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};$=z.port?PDFWorker.fromPort(z):new PDFWorker(z),m._worker=$}const P=m.docId;return $.promise.then(function(){if(m.destroyed)throw new Error("Loading aborted");const z=_fetchDocument($,o,y,P),J=new Promise(function(k){let Q;y?Q=new _transport_stream.PDFDataTransportStream({length:o.length,initialData:o.initialData,progressiveDone:o.progressiveDone,contentDispositionFilename:o.contentDispositionFilename,disableRange:o.disableRange,disableStream:o.disableStream},y):o.data||(Q=createPDFNetworkStream({url:o.url,length:o.length,httpHeaders:o.httpHeaders,withCredentials:o.withCredentials,rangeChunkSize:o.rangeChunkSize,disableRange:o.disableRange,disableStream:o.disableStream})),k(Q)});return Promise.all([z,J]).then(function([k,Q]){if(m.destroyed)throw new Error("Loading aborted");const q=new _message_handler.MessageHandler(P,k,$.port),H=new WorkerTransport(q,m,Q,o);m._transport=H,q.send("Ready",null)})}).catch(m._capability.reject),m}function _fetchDocument(pe,m,v,o){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(pe,m,v,o){if(pe.destroyed)throw new Error("Worker was destroyed");v&&(m.length=v.length,m.initialData=v.initialData,m.progressiveDone=v.progressiveDone,m.contentDispositionFilename=v.contentDispositionFilename);const y=yield pe.messageHandler.sendWithPromise("GetDocRequest",{docId:o,apiVersion:"3.2.146",data:m.data,password:m.password,disableAutoFetch:m.disableAutoFetch,rangeChunkSize:m.rangeChunkSize,length:m.length,docBaseUrl:m.docBaseUrl,enableXfa:m.enableXfa,evaluatorOptions:{maxImageSize:m.maxImageSize,disableFontFace:m.disableFontFace,ignoreErrors:m.ignoreErrors,isEvalSupported:m.isEvalSupported,isOffscreenCanvasSupported:m.isOffscreenCanvasSupported,fontExtraProperties:m.fontExtraProperties,useSystemFonts:m.useSystemFonts,cMapUrl:m.useWorkerFetch?m.cMapUrl:null,standardFontDataUrl:m.useWorkerFetch?m.standardFontDataUrl:null}});if(m.data&&(m.data=null),pe.destroyed)throw new Error("Worker was destroyed");return y})).apply(this,arguments)}var _onUnsupportedFeature=new WeakMap;class PDFDocumentLoadingTask{constructor(){var m,v;_classPrivateFieldInitSpec(this,_onUnsupportedFeature,{writable:!0,value:null}),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(m=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),v=m++,m)),v}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return _classPrivateFieldGet(this,_onUnsupportedFeature)}set onUnsupportedFeature(m){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),_classPrivateFieldSet(this,_onUnsupportedFeature,m)}get promise(){return this._capability.promise}destroy(){var m=this;return _asyncToGenerator(function*(){m.destroyed=!0,yield m._transport?.destroy(),m._transport=null,m._worker&&(m._worker.destroy(),m._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(m,v,o=!1,y=null){this.length=m,this.initialData=v,this.progressiveDone=o,this.contentDispositionFilename=y,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(m){this._rangeListeners.push(m)}addProgressListener(m){this._progressListeners.push(m)}addProgressiveReadListener(m){this._progressiveReadListeners.push(m)}addProgressiveDoneListener(m){this._progressiveDoneListeners.push(m)}onDataRange(m,v){for(const o of this._rangeListeners)o(m,v)}onDataProgress(m,v){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(m,v)})}onDataProgressiveRead(m){this._readyCapability.promise.then(()=>{for(const v of this._progressiveReadListeners)v(m)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const m of this._progressiveDoneListeners)m()})}transportReady(){this._readyCapability.resolve()}requestDataRange(m,v){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(m,v){this._pdfInfo=m,this._transport=v}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return(0,_display_utils.deprecated)("The PDFDocumentProxy stats property will be removed in the future."),this._transport.stats}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(m){return this._transport.getPage(m)}getPageIndex(m){return this._transport.getPageIndex(m)}getDestinations(){return this._transport.getDestinations()}getDestination(m){return this._transport.getDestination(m)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(m=!1){return this._transport.startCleanup(m||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(m,v,o,y,$=!1){this._pageIndex=m,this._pageInfo=v,this._ownerDocument=y,this._transport=o,this._stats=$?new _display_utils.StatTimer:null,this._pdfBug=$,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:m,rotation:v=this.rotate,offsetX:o=0,offsetY:y=0,dontFlip:$=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:m,rotation:v,offsetX:o,offsetY:y,dontFlip:$})}getAnnotations({intent:m="display"}={}){const v=this._transport.getRenderingIntent(m);return this._transport.getAnnotations(this._pageIndex,v.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var m=this;return _asyncToGenerator(function*(){return m._transport._htmlForXfa?.children[m._pageIndex]||null})()}render({canvasContext:m,viewport:v,intent:o="display",annotationMode:y=_util.AnnotationMode.ENABLE,transform:$=null,canvasFactory:P=null,background:z=null,optionalContentConfigPromise:J=null,annotationCanvasMap:k=null,pageColors:Q=null,printAnnotationStorage:q=null}){this._stats?.time("Overall");const H=this._transport.getRenderingIntent(o,y,q);this.pendingCleanup=!1,J||(J=this._transport.getOptionalContentConfig());let A=this._intentStates.get(H.cacheKey);A||(A=Object.create(null),this._intentStates.set(H.cacheKey,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const O=P||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),V=!!(H.renderingIntent&_util.RenderingIntentFlag.PRINT);A.displayReadyCapability||(A.displayReadyCapability=(0,_util.createPromiseCapability)(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(H));const x=me=>{A.renderTasks.delete(K),(this.cleanupAfterRender||V)&&(this.pendingCleanup=!0),this._tryCleanup(),me?(K.capability.reject(me),this._abortOperatorList({intentState:A,reason:me instanceof Error?me:new Error(me)})):K.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},K=new InternalRenderTask({callback:x,params:{canvasContext:m,viewport:v,transform:$,background:z},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:k,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:O,useRequestAnimationFrame:!V,pdfBug:this._pdfBug,pageColors:Q});(A.renderTasks||=new Set).add(K);const te=K.task;return Promise.all([A.displayReadyCapability.promise,J]).then(([me,B])=>{this.pendingCleanup?x():(this._stats?.time("Rendering"),K.initializeGraphics({transparency:me,optionalContentConfig:B}),K.operatorListChanged())}).catch(x),te}getOperatorList({intent:m="display",annotationMode:v=_util.AnnotationMode.ENABLE,printAnnotationStorage:o=null}={}){const $=this._transport.getRenderingIntent(m,v,o,!0);let z,P=this._intentStates.get($.cacheKey);return P||(P=Object.create(null),this._intentStates.set($.cacheKey,P)),P.opListReadCapability||(z=Object.create(null),z.operatorListChanged=function y(){P.operatorList.lastChunk&&(P.opListReadCapability.resolve(P.operatorList),P.renderTasks.delete(z))},P.opListReadCapability=(0,_util.createPromiseCapability)(),(P.renderTasks||=new Set).add(z),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList($)),P.opListReadCapability.promise}streamTextContent({disableCombineTextItems:m=!1,includeMarkedContent:v=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==m,includeMarkedContent:!0===v},{highWaterMark:100,size:y=>y.items.length})}getTextContent(m={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>_xfa_text.XfaText.textContent(o));const v=this.streamTextContent(m);return new Promise(function(o,y){const P=v.getReader(),z={items:[],styles:Object.create(null)};!function $(){P.read().then(function({value:J,done:k}){k?o(z):(Object.assign(z.styles,J.styles),z.items.push(...J.items),$())},y)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const m=[];for(const v of this._intentStates.values())if(this._abortOperatorList({intentState:v,reason:new Error("Page was destroyed."),force:!0}),!v.opListReadCapability)for(const o of v.renderTasks)m.push(o.completed),o.cancel();this.objs.clear();for(const v of this._bitmaps)v.close();return this._bitmaps.clear(),this.pendingCleanup=!1,Promise.all(m)}cleanup(m=!1){return this.pendingCleanup=!0,this._tryCleanup(m)}_tryCleanup(m=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:v,operatorList:o}of this._intentStates.values())if(v.size>0||!o.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),m&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const v of this._bitmaps)v.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(m,v){const o=this._intentStates.get(v);o&&(this._stats?.timeEnd("Page Request"),o.displayReadyCapability?.resolve(m))}_renderPageChunk(m,v){for(let o=0,y=m.length;o<y;o++)v.operatorList.fnArray.push(m.fnArray[o]),v.operatorList.argsArray.push(m.argsArray[o]);v.operatorList.lastChunk=m.lastChunk,v.operatorList.separateAnnots=m.separateAnnots;for(const o of v.renderTasks)o.operatorListChanged();m.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:m,cacheKey:v,annotationStorageMap:o}){const $=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:m,cacheKey:v,annotationStorage:o}).getReader(),P=this._intentStates.get(v);P.streamReader=$;const z=()=>{$.read().then(({value:J,done:k})=>{k?P.streamReader=null:this._transport.destroyed||(this._renderPageChunk(J,P),z())},J=>{if(P.streamReader=null,!this._transport.destroyed){if(P.operatorList){P.operatorList.lastChunk=!0;for(const k of P.renderTasks)k.operatorListChanged();this._tryCleanup()}if(P.displayReadyCapability)P.displayReadyCapability.reject(J);else{if(!P.opListReadCapability)throw J;P.opListReadCapability.reject(J)}}})};z()}_abortOperatorList({intentState:m,reason:v,force:o=!1}){if(m.streamReader){if(m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null),!o){if(m.renderTasks.size>0)return;if(v instanceof _display_utils.RenderingCancelledException){let y=RENDERING_CANCELLED_TIMEOUT;return v.extraDelay>0&&v.extraDelay<1e3&&(y+=v.extraDelay),void(m.streamReaderCancelTimeout=setTimeout(()=>{m.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:m,reason:v,force:!0})},y))}}if(m.streamReader.cancel(new _util.AbortException(v.message)).catch(()=>{}),m.streamReader=null,!this._transport.destroyed){for(const[y,$]of this._intentStates)if($===m){this._intentStates.delete(y);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(m,v){const o={data:structuredClone(m,v)};_classPrivateFieldGet(this,_deferred).then(()=>{for(const y of _classPrivateFieldGet(this,_listeners))y.call(this,o)})}addEventListener(m,v){_classPrivateFieldGet(this,_listeners).push(v)}removeEventListener(m,v){const o=_classPrivateFieldGet(this,_listeners).indexOf(v);_classPrivateFieldGet(this,_listeners).splice(o,1)}terminate(){_classPrivateFieldGet(this,_listeners).length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const pe=document?.currentScript?.src;pe&&(PDFWorkerUtil.fallbackWorkerSrc=pe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(pe,m){let v;try{if(v=new URL(pe),!v.origin||"null"===v.origin)return!1}catch{return!1}const o=new URL(m,v);return v.origin===o.origin},PDFWorkerUtil.createCDNWrapper=function(pe){return URL.createObjectURL(new Blob([`importScripts("${pe}");`]))};class PDFWorker{constructor({name:pe=null,port:m=null,verbosity:v=(0,_util.getVerbosityLevel)()}={}){if(m&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(m))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=pe,this.destroyed=!1,this.verbosity=v,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,m)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(m,this),void this._initializeFromPort(m);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(pe){this._port=pe,this._messageHandler=new _message_handler.MessageHandler("main","worker",pe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:pe}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,pe)||(pe=PDFWorkerUtil.createCDNWrapper(new URL(pe,window.location).href));const m=new Worker(pe),v=new _message_handler.MessageHandler("main","worker",m),o=()=>{m.removeEventListener("error",y),v.destroy(),m.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},y=()=>{this._webWorker||o()};m.addEventListener("error",y),v.on("test",P=>{m.removeEventListener("error",y),this.destroyed?o():P?(this._messageHandler=v,this._port=m,this._webWorker=m,this._readyCapability.resolve(),v.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),v.destroy(),m.terminate())}),v.on("ready",P=>{if(m.removeEventListener("error",y),this.destroyed)o();else try{$()}catch{this._setupFakeWorker()}});const $=()=>{const P=new Uint8Array;v.send("test",P,[P.buffer])};return void $()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(pe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const m=new LoopbackPort;this._port=m;const v="fake"+PDFWorkerUtil.fakeWorkerId++,o=new _message_handler.MessageHandler(v+"_worker",v,m);pe.setup(o,m);const y=new _message_handler.MessageHandler(v,v+"_worker",m);this._messageHandler=y,this._readyCapability.resolve(),y.send("configure",{verbosity:this.verbosity})}).catch(pe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${pe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(pe){if(!pe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(pe.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(pe.port):new PDFWorker(pe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function pe(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=PDFWorker;var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(m,v,o,y){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=m,this.loadingTask=v,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:y.ownerDocument,styleElement:y.styleElement}),this._params=y,y.useWorkerFetch||(this.CMapReaderFactory=new y.CMapReaderFactory({baseUrl:y.cMapUrl,isCompressed:y.cMapPacked}),this.StandardFontDataFactory=new y.StandardFontDataFactory({baseUrl:y.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(m,v=_util.AnnotationMode.ENABLE,o=null,y=!1){let $=_util.RenderingIntentFlag.DISPLAY,P=null;switch(m){case"any":$=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":$=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${m}`)}switch(v){case _util.AnnotationMode.DISABLE:$+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:$+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:$+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,P=($&_util.RenderingIntentFlag.PRINT&&o instanceof _annotation_storage.PrintAnnotationStorage?o:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${v}`)}return y&&($+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:$,cacheKey:`${$}_${_annotation_storage.AnnotationStorage.getHash(P)}`,annotationStorageMap:P}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const m=[];for(const o of _classPrivateFieldGet(this,_pageCache).values())m.push(o._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const v=this.messageHandler.sendWithPromise("Terminate",null);return m.push(v),Promise.all(m).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:m,loadingTask:v}=this;m.on("GetReader",(o,y)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=$=>{this._lastProgress={loaded:$.loaded,total:$.total}},y.onPull=()=>{this._fullReader.read().then(function({value:$,done:P}){P?y.close():((0,_util.assert)((0,_util.isArrayBuffer)($),"GetReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array($),1,[$]))}).catch($=>{y.error($)})},y.onCancel=$=>{this._fullReader.cancel($),y.ready.catch(P=>{if(!this.destroyed)throw P})}}),m.on("ReaderHeadersReady",o=>{const y=(0,_util.createPromiseCapability)(),$=this._fullReader;return $.headersReady.then(()=>{(!$.isStreamingSupported||!$.isRangeSupported)&&(this._lastProgress&&v.onProgress?.(this._lastProgress),$.onProgress=P=>{v.onProgress?.({loaded:P.loaded,total:P.total})}),y.resolve({isStreamingSupported:$.isStreamingSupported,isRangeSupported:$.isRangeSupported,contentLength:$.contentLength})},y.reject),y.promise}),m.on("GetRangeReader",(o,y)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const $=this._networkStream.getRangeReader(o.begin,o.end);$?(y.onPull=()=>{$.read().then(function({value:P,done:z}){z?y.close():((0,_util.assert)((0,_util.isArrayBuffer)(P),"GetRangeReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(P),1,[P]))}).catch(P=>{y.error(P)})},y.onCancel=P=>{$.cancel(P),y.ready.catch(z=>{if(!this.destroyed)throw z})}):y.close()}),m.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,v._capability.resolve(new PDFDocumentProxy(o,this))}),m.on("DocException",function(o){let y;switch(o.name){case"PasswordException":y=new _util.PasswordException(o.message,o.code);break;case"InvalidPDFException":y=new _util.InvalidPDFException(o.message);break;case"MissingPDFException":y=new _util.MissingPDFException(o.message);break;case"UnexpectedResponseException":y=new _util.UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":y=new _util.UnknownErrorException(o.message,o.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}v._capability.reject(y)}),m.on("PasswordRequest",o=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),v.onPassword){const y=$=>{$ instanceof Error?this._passwordCapability.reject($):this._passwordCapability.resolve({password:$})};try{v.onPassword(y,o.code)}catch($){this._passwordCapability.reject($)}}else this._passwordCapability.reject(new _util.PasswordException(o.message,o.code));return this._passwordCapability.promise}),m.on("DataLoaded",o=>{v.onProgress?.({loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),m.on("StartRenderPage",o=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),m.on("commonobj",([o,y,$])=>{if(!this.destroyed&&!this.commonObjs.has(o))switch(y){case"Font":const P=this._params;if("error"in $){const k=$.error;(0,_util.warn)(`Error during font loading: ${k}`),this.commonObjs.resolve(o,k);break}let z=null;P.pdfBug&&globalThis.FontInspector?.enabled&&(z={registerFont(k,Q){globalThis.FontInspector.fontAdded(k,Q)}});const J=new _font_loader.FontFaceObject($,{isEvalSupported:P.isEvalSupported,disableFontFace:P.disableFontFace,ignoreErrors:P.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:z});this.fontLoader.bind(J).catch(k=>m.sendWithPromise("FontFallback",{id:o})).finally(()=>{!P.fontExtraProperties&&J.data&&(J.data=null),this.commonObjs.resolve(o,J)});break;case"FontPath":case"Image":this.commonObjs.resolve(o,$);break;default:throw new Error(`Got unknown common object type ${y}`)}}),m.on("obj",([o,y,$,P])=>{if(this.destroyed)return;const z=_classPrivateFieldGet(this,_pageCache).get(y);if(!z.objs.has(o))switch($){case"Image":z.objs.resolve(o,P);const J=8e6;if(P){let k;if(P.bitmap){const{bitmap:Q,width:q,height:H}=P;k=q*H*4,z._bitmaps.add(Q)}else k=P.data?.length||0;k>J&&(z.cleanupAfterRender=!0)}break;case"Pattern":z.objs.resolve(o,P);break;default:throw new Error(`Got unknown object type ${$}`)}}),m.on("DocProgress",o=>{this.destroyed||v.onProgress?.({loaded:o.loaded,total:o.total})}),m.on("DocStats",o=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(o.streamTypes),fontTypes:Object.freeze(o.fontTypes)}))}),m.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),m.on("FetchBuiltInCMap",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(o):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),m.on("FetchStandardFontData",o=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(o):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:m}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(m)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(m){if(!Number.isInteger(m)||m<=0||m>this._numPages)return Promise.reject(new Error("Invalid page request."));const v=m-1,o=_classPrivateFieldGet(this,_pagePromises).get(v);if(o)return o;const y=this.messageHandler.sendWithPromise("GetPage",{pageIndex:v}).then($=>{if(this.destroyed)throw new Error("Transport destroyed");const P=new PDFPageProxy(v,$,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(v,P),P});return _classPrivateFieldGet(this,_pagePromises).set(v,y),y}getPageIndex(m){return"object"!=typeof m||null===m||!Number.isInteger(m.num)||m.num<0||!Number.isInteger(m.gen)||m.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:m.num,gen:m.gen})}getAnnotations(m,v){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:m,intent:v})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(m){return"string"!=typeof m?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:m})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(m){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:m})}getStructTree(m){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:m})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(m=>new _optional_content_config.OptionalContentConfig(m))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(m=>({info:m[0],metadata:m[1]?new _metadata.Metadata(m[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(m=!1){var v=this;return _asyncToGenerator(function*(){if(!v.destroyed){yield v.messageHandler.sendWithPromise("Cleanup",null);for(const o of _classPrivateFieldGet(v,_pageCache).values())if(!o.cleanup())throw new Error(`startCleanup: Page ${o.pageNumber} is currently rendering.`);v.commonObjs.clear(),m||v.fontLoader.clear(),_classPrivateFieldSet(v,_metadataPromise,null),v._getFieldObjectsPromise=null,v._hasJSActionsPromise=null}})()}get loadingParams(){const m=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:m.disableAutoFetch,enableXfa:m.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(m,v=null){if(v){const y=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,m);return y.capability.promise.then(()=>v(y.data)),null}const o=_classPrivateFieldGet(this,_objs)[m];if(!o?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${m}.`);return o.data}has(m){return _classPrivateFieldGet(this,_objs)[m]?.capability.settled||!1}resolve(m,v=null){const o=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,m);o.data=v,o.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(pe){return _classPrivateFieldGet(this,_objs)[pe]||(_classPrivateFieldGet(this,_objs)[pe]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(m){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,m),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(m=0){_classPrivateFieldGet(this,_internalRenderTask).cancel(null,m)}get separateAnnots(){const{separateAnnots:m}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!m)return!1;const{annotationCanvasMap:v}=_classPrivateFieldGet(this,_internalRenderTask);return m.form||m.canvas&&v?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:m,params:v,objs:o,commonObjs:y,annotationCanvasMap:$,operatorList:P,pageIndex:z,canvasFactory:J,useRequestAnimationFrame:k=!1,pdfBug:Q=!1,pageColors:q=null}){this.callback=m,this.params=v,this.objs=o,this.commonObjs=y,this.annotationCanvasMap=$,this.operatorListIdx=null,this.operatorList=P,this._pageIndex=z,this.canvasFactory=J,this._pdfBug=Q,this.pageColors=q,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===k&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=v.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:m=!1,optionalContentConfig:v}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:y,transform:$,background:P}=this.params;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:v},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:$,viewport:y,transparency:m,background:P}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(m=null,v=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(m||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",v))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var m=this;return _asyncToGenerator(function*(){m.cancelled||(m.operatorListIdx=m.gfx.executeOperatorList(m.operatorList,m.operatorListIdx,m._continueBound,m.stepper),m.operatorListIdx===m.operatorList.argsArray.length&&(m.running=!1,m.operatorList.lastChunk&&(m.gfx.endDrawing(),m._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(m._canvas),m.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="3.2.146";exports.version=version;const build="3fd2a3548";exports.build=build},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PrintAnnotationStorage=m.AnnotationStorage=void 0;var o=v(1),y=v(4),$=v(8),P=new WeakMap,z=new WeakMap,J=new WeakSet;class k{constructor(){_classPrivateMethodInitSpec(this,J),_classPrivateFieldInitSpec(this,P,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(O,V){const x=_classPrivateFieldGet(this,z).get(O);return void 0===x?V:Object.assign(V,x)}getRawValue(O){return _classPrivateFieldGet(this,z).get(O)}remove(O){if(_classPrivateFieldGet(this,z).delete(O),0===_classPrivateFieldGet(this,z).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const V of _classPrivateFieldGet(this,z).values())if(V instanceof y.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(O,V){const x=_classPrivateFieldGet(this,z).get(O);let K=!1;if(void 0!==x)for(const[te,me]of Object.entries(V))x[te]!==me&&(K=!0,x[te]=me);else K=!0,_classPrivateFieldGet(this,z).set(O,V);K&&_classPrivateMethodGet(this,J,Q).call(this),V instanceof y.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(V.constructor._type)}has(O){return _classPrivateFieldGet(this,z).has(O)}getAll(){return _classPrivateFieldGet(this,z).size>0?(0,o.objectFromMap)(_classPrivateFieldGet(this,z)):null}get size(){return _classPrivateFieldGet(this,z).size}resetModified(){_classPrivateFieldGet(this,P)&&(_classPrivateFieldSet(this,P,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new H(this)}get serializable(){if(0===_classPrivateFieldGet(this,z).size)return null;const O=new Map;for(const[V,x]of _classPrivateFieldGet(this,z)){const K=x instanceof y.AnnotationEditor?x.serialize():x;K&&O.set(V,K)}return O}static getHash(O){if(!O)return"";const V=new $.MurmurHash3_64;for(const[x,K]of O)V.update(`${x}:${JSON.stringify(K)}`);return V.hexdigest()}}function Q(){_classPrivateFieldGet(this,P)||(_classPrivateFieldSet(this,P,!0),"function"==typeof this.onSetModified&&this.onSetModified())}m.AnnotationStorage=k;var q=new WeakMap;class H extends k{constructor(O){super(),_classPrivateFieldInitSpec(this,q,{writable:!0,value:null}),_classPrivateFieldSet(this,q,structuredClone(O.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,q)}}m.PrintAnnotationStorage=H},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditor=void 0;var o=v(5),y=v(1),$=new WeakMap,P=new WeakMap,z=new WeakMap,J=new WeakMap,k=new WeakMap,Q=new WeakMap;class q{constructor(A){_classPrivateFieldInitSpec(this,$,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,z,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:!1}),_defineProperty(this,"_uiManager",null),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:q._zIndex++}),this.constructor===q&&(0,y.unreachable)("Cannot initialize AnnotationEditor."),this.parent=A.parent,this.id=A.id,this.width=this.height=null,this.pageIndex=A.parent.pageIndex,this.name=A.name,this.div=null,this._uiManager=A.uiManager;const{rotation:O,rawDims:{pageWidth:V,pageHeight:x,pageX:K,pageY:te}}=this.parent.viewport;this.rotation=O,this.pageDimensions=[V,x],this.pageTranslation=[K,te];const[me,B]=this.parentDimensions;this.x=A.x/me,this.y=A.y/B,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,y.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(A){this._uiManager.addCommands(A)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,Q)}setParent(A){null!==A&&(this.pageIndex=A.pageIndex,this.pageDimensions=A.pageDimensions),this.parent=A}focusin(A){_classPrivateFieldGet(this,z)?_classPrivateFieldSet(this,z,!1):this.parent.setSelected(this)}focusout(A){!this.isAttachedToDOM||A.relatedTarget?.closest(`#${this.id}`)||(A.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(A){const O=this.parent.div.getBoundingClientRect();this.startX=A.clientX-O.x,this.startY=A.clientY-O.y,A.dataTransfer.setData("text/plain",this.id),A.dataTransfer.effectAllowed="move"}setAt(A,O,V,x){const[K,te]=this.parentDimensions;[V,x]=this.screenToPageTranslation(V,x),this.x=(A+V)/K,this.y=(O+x)/te,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(A,O){const[V,x]=this.parentDimensions;[A,O]=this.screenToPageTranslation(A,O),this.x+=A/V,this.y+=O/x,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(A,O){switch(this.parentRotation){case 90:return[O,-A];case 180:return[-A,-O];case 270:return[-O,A];default:return[A,O]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:A}=this._uiManager.viewParameters,[O,V]=this.pageDimensions;return[O*A,V*A]}setDims(A,O){const[V,x]=this.parentDimensions;this.div.style.width=100*A/V+"%",this.div.style.height=100*O/x+"%"}fixDims(){const{style:A}=this.div,{height:O,width:V}=A,x=V.endsWith("%"),K=O.endsWith("%");if(x&&K)return;const[te,me]=this.parentDimensions;x||(A.width=100*parseFloat(V)/te+"%"),K||(A.height=100*parseFloat(O)/me+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,$)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,P));const[A,O]=this.getInitialTranslation();return this.translate(A,O),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(A){const{isMac:O}=y.FeatureTest.platform;0!==A.button||A.ctrlKey&&O?A.preventDefault():(A.ctrlKey&&!O||A.shiftKey||A.metaKey&&O?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,z,!0))}getRect(A,O){const V=this.parentScale,[x,K]=this.pageDimensions,[te,me]=this.pageTranslation,B=A/V,F=O/V,N=this.x*x,W=this.y*K,ue=this.width*x,ge=this.height*K;switch(this.rotation){case 0:return[N+B+te,K-W-F-ge+me,N+B+ue+te,K-W-F+me];case 90:return[N+F+te,K-W+B+me,N+F+ge+te,K-W+B+ue+me];case 180:return[N-B-ue+te,K-W+F+me,N-B+te,K-W+F+ge+me];case 270:return[N-F-ge+te,K-W-B-ue+me,N-F+te,K-W-B+me];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(A,O){const[V,x,K,te]=A,me=K-V,B=te-x;switch(this.rotation){case 0:return[V,O-te,me,B];case 90:return[V,O-x,B,me];case 180:return[K,O-x,me,B];case 270:return[K,O-te,B,me];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,k,!0)}disableEditMode(){_classPrivateFieldSet(this,k,!1)}isInEditMode(){return _classPrivateFieldGet(this,k)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",_classPrivateFieldGet(this,$))}serialize(){(0,y.unreachable)("An editor must be serializable")}static deserialize(A,O,V){const x=new this.prototype.constructor({parent:O,id:O.getNextId(),uiManager:V});x.rotation=A.rotation;const[K,te]=x.pageDimensions,[me,B,F,N]=x.getRectInCurrentCoords(A.rect,te);return x.x=me/K,x.y=B/te,x.width=F/K,x.height=N/te,x}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,$)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,P)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(A,O){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,J)}set isEditing(A){_classPrivateFieldSet(this,J,A),A?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(q,"_colorManager",new o.ColorManager),_defineProperty(q,"_zIndex",1),m.AnnotationEditor=q},(pe,m,v)=>{var o;Object.defineProperty(m,"__esModule",{value:!0}),m.KeyboardManager=m.CommandManager=m.ColorManager=m.AnnotationEditorUIManager=void 0,m.bindEvents=function P(Ut,Ke,It){for(const xt of It)Ke.addEventListener(xt,Ut[xt].bind(Ut))},m.opacityToHex=function z(Ut){return Math.round(Math.min(255,Math.max(1,255*Ut))).toString(16).padStart(2,"0")};var y=v(1),$=v(6),J=new WeakMap;class k{constructor(){_classPrivateFieldInitSpec(this,J,{writable:!0,value:0})}getId(){var Ke,It;return`${y.AnnotationEditorPrefix}${_classPrivateFieldSet(this,J,(Ke=_classPrivateFieldGet(this,J),It=Ke++,Ke)),It}`}}var Q=new WeakMap,q=new WeakMap,H=new WeakMap,A=new WeakMap;class O{constructor(Ke=128){_classPrivateFieldInitSpec(this,Q,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:-1}),_classPrivateFieldSet(this,H,Ke)}add({cmd:Ke,undo:It,mustExec:xt,type:Dt=NaN,overwriteIfSameType:Xt=!1,keepUndo:Ve=!1}){if(xt&&Ke(),_classPrivateFieldGet(this,q))return;const ae={cmd:Ke,undo:It,type:Dt};if(-1===_classPrivateFieldGet(this,A))return _classPrivateFieldGet(this,Q).length>0&&(_classPrivateFieldGet(this,Q).length=0),_classPrivateFieldSet(this,A,0),void _classPrivateFieldGet(this,Q).push(ae);if(Xt&&_classPrivateFieldGet(this,Q)[_classPrivateFieldGet(this,A)].type===Dt)return Ve&&(ae.undo=_classPrivateFieldGet(this,Q)[_classPrivateFieldGet(this,A)].undo),void(_classPrivateFieldGet(this,Q)[_classPrivateFieldGet(this,A)]=ae);const we=_classPrivateFieldGet(this,A)+1;we===_classPrivateFieldGet(this,H)?_classPrivateFieldGet(this,Q).splice(0,1):(_classPrivateFieldSet(this,A,we),we<_classPrivateFieldGet(this,Q).length&&_classPrivateFieldGet(this,Q).splice(we)),_classPrivateFieldGet(this,Q).push(ae)}undo(){-1!==_classPrivateFieldGet(this,A)&&(_classPrivateFieldSet(this,q,!0),_classPrivateFieldGet(this,Q)[_classPrivateFieldGet(this,A)].undo(),_classPrivateFieldSet(this,q,!1),_classPrivateFieldSet(this,A,_classPrivateFieldGet(this,A)-1))}redo(){_classPrivateFieldGet(this,A)<_classPrivateFieldGet(this,Q).length-1&&(_classPrivateFieldSet(this,A,_classPrivateFieldGet(this,A)+1),_classPrivateFieldSet(this,q,!0),_classPrivateFieldGet(this,Q)[_classPrivateFieldGet(this,A)].cmd(),_classPrivateFieldSet(this,q,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,A)}hasSomethingToRedo(){return _classPrivateFieldGet(this,A)<_classPrivateFieldGet(this,Q).length-1}destroy(){_classPrivateFieldSet(this,Q,null)}}m.CommandManager=O;var V=new WeakSet;class x{constructor(Ke){_classPrivateMethodInitSpec(this,V),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:It}=y.FeatureTest.platform;for(const[xt,Dt]of Ke)for(const Xt of xt){const Ve=Xt.startsWith("mac+");It&&Ve?(this.callbacks.set(Xt.slice(4),Dt),this.allKeys.add(Xt.split("+").at(-1))):!It&&!Ve&&(this.callbacks.set(Xt,Dt),this.allKeys.add(Xt.split("+").at(-1)))}}exec(Ke,It){if(!this.allKeys.has(It.key))return;const xt=this.callbacks.get(_classPrivateMethodGet(this,V,K).call(this,It));xt&&(xt.bind(Ke)(),It.stopPropagation(),It.preventDefault())}}function K(Ut){Ut.altKey&&this.buffer.push("alt"),Ut.ctrlKey&&this.buffer.push("ctrl"),Ut.metaKey&&this.buffer.push("meta"),Ut.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ut.key);const Ke=this.buffer.join("+");return this.buffer.length=0,Ke}m.KeyboardManager=x;class te{get _colors(){const Ke=new Map([["CanvasText",null],["Canvas",null]]);return(0,$.getColorValues)(Ke),(0,y.shadow)(this,"_colors",Ke)}convert(Ke){const It=(0,$.getRGB)(Ke);if(!window.matchMedia("(forced-colors: active)").matches)return It;for(const[xt,Dt]of this._colors)if(Dt.every((Xt,Ve)=>Xt===It[Ve]))return te._colorsMapping.get(xt);return It}getHexCode(Ke){const It=this._colors.get(Ke);return It?y.Util.makeHexColor(...It):Ke}}_defineProperty(te,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),m.ColorManager=te;var me=new WeakMap,B=new WeakMap,F=new WeakMap,N=new WeakMap,W=new WeakMap,ue=new WeakMap,ge=new WeakMap,ie=new WeakMap,Y=new WeakMap,Oe=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,Me=new WeakMap,He=new WeakMap,Fe=new WeakMap,ee=new WeakMap,_e=new WeakMap,Le=new WeakMap,de=new WeakMap,C=new WeakMap,S=new WeakMap,U=new WeakMap,X=new WeakMap,se=new WeakSet,he=new WeakSet,Ce=new WeakSet,Pe=new WeakSet,M=new WeakSet,L=new WeakSet,re=new WeakSet,fe=new WeakSet,Se=new WeakSet,Re=new WeakSet,Ue=new WeakSet;class $e{constructor(Ke,It,xt){_classPrivateMethodInitSpec(this,Ue),_classPrivateMethodInitSpec(this,Re),_classPrivateMethodInitSpec(this,Se),_classPrivateMethodInitSpec(this,fe),_classPrivateMethodInitSpec(this,re),_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,Pe),_classPrivateMethodInitSpec(this,Ce),_classPrivateMethodInitSpec(this,he),_classPrivateMethodInitSpec(this,se),_classPrivateFieldInitSpec(this,me,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:new O}),_classPrivateFieldInitSpec(this,ue,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,ge,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,ie,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,Oe,{writable:!0,value:new k}),_classPrivateFieldInitSpec(this,Ze,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Qe,{writable:!0,value:y.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,Me,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,He,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,Fe,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,_e,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,Le,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,de,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,C,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,S,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,U,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:null}),_classPrivateFieldSet(this,X,Ke),_classPrivateFieldSet(this,Y,It),_classPrivateFieldGet(this,Y)._on("editingaction",_classPrivateFieldGet(this,Le)),_classPrivateFieldGet(this,Y)._on("pagechanging",_classPrivateFieldGet(this,de)),_classPrivateFieldGet(this,Y)._on("scalechanging",_classPrivateFieldGet(this,C)),_classPrivateFieldGet(this,Y)._on("rotationchanging",_classPrivateFieldGet(this,S)),_classPrivateFieldSet(this,N,xt),this.viewParameters={realScale:$.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateMethodGet(this,he,We).call(this),_classPrivateFieldGet(this,Y)._off("editingaction",_classPrivateFieldGet(this,Le)),_classPrivateFieldGet(this,Y)._off("pagechanging",_classPrivateFieldGet(this,de)),_classPrivateFieldGet(this,Y)._off("scalechanging",_classPrivateFieldGet(this,C)),_classPrivateFieldGet(this,Y)._off("rotationchanging",_classPrivateFieldGet(this,S));for(const Ke of _classPrivateFieldGet(this,F).values())Ke.destroy();_classPrivateFieldGet(this,F).clear(),_classPrivateFieldGet(this,B).clear(),_classPrivateFieldGet(this,ie).clear(),_classPrivateFieldSet(this,me,null),_classPrivateFieldGet(this,Me).clear(),_classPrivateFieldGet(this,W).destroy()}onPageChanging({pageNumber:Ke}){_classPrivateFieldSet(this,ue,Ke-1)}focusMainContainer(){_classPrivateFieldGet(this,X).focus()}addShouldRescale(Ke){_classPrivateFieldGet(this,ie).add(Ke)}removeShouldRescale(Ke){_classPrivateFieldGet(this,ie).delete(Ke)}onScaleChanging({scale:Ke}){this.commitOrRemove(),this.viewParameters.realScale=Ke*$.PixelsPerInch.PDF_TO_CSS_UNITS;for(const It of _classPrivateFieldGet(this,ie))It.onScaleChanging()}onRotationChanging({pagesRotation:Ke}){this.commitOrRemove(),this.viewParameters.rotation=Ke}addToAnnotationStorage(Ke){!Ke.isEmpty()&&_classPrivateFieldGet(this,N)&&!_classPrivateFieldGet(this,N).has(Ke.id)&&_classPrivateFieldGet(this,N).setValue(Ke.id,Ke)}copy(Ke){if(Ke.preventDefault(),_classPrivateFieldGet(this,me)&&_classPrivateFieldGet(this,me).commitOrRemove(),!this.hasSelection)return;const It=[];for(const xt of _classPrivateFieldGet(this,Me))xt.isEmpty()||It.push(xt.serialize());0!==It.length&&Ke.clipboardData.setData("application/pdfjs",JSON.stringify(It))}cut(Ke){this.copy(Ke),this.delete()}paste(Ke){Ke.preventDefault();let It=Ke.clipboardData.getData("application/pdfjs");if(!It)return;try{It=JSON.parse(It)}catch(Dt){return void(0,y.warn)(`paste: "${Dt.message}".`)}if(!Array.isArray(It))return;this.unselectAll();const xt=_classPrivateFieldGet(this,F).get(_classPrivateFieldGet(this,ue));try{const Dt=[];for(const ae of It){const we=xt.deserialize(ae);if(!we)return;Dt.push(we)}this.addCommands({cmd:()=>{for(const ae of Dt)_classPrivateMethodGet(this,Se,_t).call(this,ae);_classPrivateMethodGet(this,Ue,In).call(this,Dt)},undo:()=>{for(const ae of Dt)ae.remove()},mustExec:!0})}catch(Dt){(0,y.warn)(`paste: "${Dt.message}".`)}}keydown(Ke){this.getActive()?.shouldGetKeyboardEvents()||$e._keyboardManager.exec(this,Ke)}onEditingAction(Ke){["undo","redo","delete","selectAll"].includes(Ke.name)&&this[Ke.name]()}setEditingState(Ke){Ke?(_classPrivateMethodGet(this,se,Ge).call(this),_classPrivateMethodGet(this,Ce,nt).call(this),_classPrivateMethodGet(this,M,vt).call(this,{isEditing:_classPrivateFieldGet(this,Qe)!==y.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,Re,Mt).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,W).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,W).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,he,We).call(this),_classPrivateMethodGet(this,Pe,Je).call(this),_classPrivateMethodGet(this,M,vt).call(this,{isEditing:!1}))}registerEditorTypes(Ke){if(!_classPrivateFieldGet(this,ge)){_classPrivateFieldSet(this,ge,Ke);for(const It of _classPrivateFieldGet(this,ge))_classPrivateMethodGet(this,L,at).call(this,It.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(this,Oe).getId()}get currentLayer(){return _classPrivateFieldGet(this,F).get(_classPrivateFieldGet(this,ue))}get currentPageIndex(){return _classPrivateFieldGet(this,ue)}addLayer(Ke){_classPrivateFieldGet(this,F).set(Ke.pageIndex,Ke),_classPrivateFieldGet(this,Ze)?Ke.enable():Ke.disable()}removeLayer(Ke){_classPrivateFieldGet(this,F).delete(Ke.pageIndex)}updateMode(Ke){if(_classPrivateFieldSet(this,Qe,Ke),Ke===y.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,fe,qt).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,re,Ct).call(this);for(const It of _classPrivateFieldGet(this,F).values())It.updateMode(Ke)}}updateToolbar(Ke){Ke!==_classPrivateFieldGet(this,Qe)&&_classPrivateFieldGet(this,Y).dispatch("switchannotationeditormode",{source:this,mode:Ke})}updateParams(Ke,It){if(_classPrivateFieldGet(this,ge)){for(const xt of _classPrivateFieldGet(this,Me))xt.updateParams(Ke,It);for(const xt of _classPrivateFieldGet(this,ge))xt.updateDefaultParams(Ke,It)}}getEditors(Ke){const It=[];for(const xt of _classPrivateFieldGet(this,B).values())xt.pageIndex===Ke&&It.push(xt);return It}getEditor(Ke){return _classPrivateFieldGet(this,B).get(Ke)}addEditor(Ke){_classPrivateFieldGet(this,B).set(Ke.id,Ke)}removeEditor(Ke){_classPrivateFieldGet(this,B).delete(Ke.id),this.unselect(Ke),_classPrivateFieldGet(this,N)?.remove(Ke.id)}setActiveEditor(Ke){_classPrivateFieldGet(this,me)!==Ke&&(_classPrivateFieldSet(this,me,Ke),Ke&&_classPrivateMethodGet(this,L,at).call(this,Ke.propertiesToUpdate))}toggleSelected(Ke){if(_classPrivateFieldGet(this,Me).has(Ke))return _classPrivateFieldGet(this,Me).delete(Ke),Ke.unselect(),void _classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,Me).add(Ke),Ke.select(),_classPrivateMethodGet(this,L,at).call(this,Ke.propertiesToUpdate),_classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:!0})}setSelected(Ke){for(const It of _classPrivateFieldGet(this,Me))It!==Ke&&It.unselect();_classPrivateFieldGet(this,Me).clear(),_classPrivateFieldGet(this,Me).add(Ke),Ke.select(),_classPrivateMethodGet(this,L,at).call(this,Ke.propertiesToUpdate),_classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:!0})}isSelected(Ke){return _classPrivateFieldGet(this,Me).has(Ke)}unselect(Ke){Ke.unselect(),_classPrivateFieldGet(this,Me).delete(Ke),_classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,Me).size}undo(){_classPrivateFieldGet(this,W).undo(),_classPrivateMethodGet(this,M,vt).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,W).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,Re,Mt).call(this)})}redo(){_classPrivateFieldGet(this,W).redo(),_classPrivateMethodGet(this,M,vt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,W).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,Re,Mt).call(this)})}addCommands(Ke){_classPrivateFieldGet(this,W).add(Ke),_classPrivateMethodGet(this,M,vt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,Re,Mt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ke=[..._classPrivateFieldGet(this,Me)];this.addCommands({cmd:()=>{for(const Dt of Ke)Dt.remove()},undo:()=>{for(const Dt of Ke)_classPrivateMethodGet(this,Se,_t).call(this,Dt)},mustExec:!0})}commitOrRemove(){_classPrivateFieldGet(this,me)?.commitOrRemove()}selectAll(){for(const Ke of _classPrivateFieldGet(this,Me))Ke.commit();_classPrivateMethodGet(this,Ue,In).call(this,_classPrivateFieldGet(this,B).values())}unselectAll(){if(_classPrivateFieldGet(this,me))_classPrivateFieldGet(this,me).commitOrRemove();else if(0!==_classPrivateFieldGet(this,Me).size){for(const Ke of _classPrivateFieldGet(this,Me))Ke.unselect();_classPrivateFieldGet(this,Me).clear(),_classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:!1})}}isActive(Ke){return _classPrivateFieldGet(this,me)===Ke}getActive(){return _classPrivateFieldGet(this,me)}getMode(){return _classPrivateFieldGet(this,Qe)}}function Ge(){_classPrivateFieldGet(this,X).addEventListener("keydown",_classPrivateFieldGet(this,_e))}function We(){_classPrivateFieldGet(this,X).removeEventListener("keydown",_classPrivateFieldGet(this,_e))}function nt(){document.addEventListener("copy",_classPrivateFieldGet(this,He)),document.addEventListener("cut",_classPrivateFieldGet(this,Fe)),document.addEventListener("paste",_classPrivateFieldGet(this,ee))}function Je(){document.removeEventListener("copy",_classPrivateFieldGet(this,He)),document.removeEventListener("cut",_classPrivateFieldGet(this,Fe)),document.removeEventListener("paste",_classPrivateFieldGet(this,ee))}function vt(Ut){Object.entries(Ut).some(([It,xt])=>_classPrivateFieldGet(this,U)[It]!==xt)&&_classPrivateFieldGet(this,Y).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,U),Ut)})}function at(Ut){_classPrivateFieldGet(this,Y).dispatch("annotationeditorparamschanged",{source:this,details:Ut})}function Ct(){if(!_classPrivateFieldGet(this,Ze)){_classPrivateFieldSet(this,Ze,!0);for(const Ut of _classPrivateFieldGet(this,F).values())Ut.enable()}}function qt(){if(this.unselectAll(),_classPrivateFieldGet(this,Ze)){_classPrivateFieldSet(this,Ze,!1);for(const Ut of _classPrivateFieldGet(this,F).values())Ut.disable()}}function _t(Ut){const Ke=_classPrivateFieldGet(this,F).get(Ut.pageIndex);Ke?Ke.addOrRebuild(Ut):this.addEditor(Ut)}function Mt(){if(0===_classPrivateFieldGet(this,B).size)return!0;if(1===_classPrivateFieldGet(this,B).size)for(const Ut of _classPrivateFieldGet(this,B).values())return Ut.isEmpty();return!1}function In(Ut){_classPrivateFieldGet(this,Me).clear();for(const Ke of Ut)Ke.isEmpty()||(_classPrivateFieldGet(this,Me).add(Ke),Ke.select());_classPrivateMethodGet(this,M,vt).call(this,{hasSelectedEditor:!0})}_defineProperty($e,"_keyboardManager",new x([[["ctrl+a","mac+meta+a"],(o=$e).prototype.selectAll],[["ctrl+z","mac+meta+z"],o.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],o.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],o.prototype.delete],[["Escape","mac+Escape"],o.prototype.unselectAll]])),m.AnnotationEditorUIManager=$e},(pe,m,v)=>{var o;Object.defineProperty(m,"__esModule",{value:!0}),m.StatTimer=m.RenderingCancelledException=m.PixelsPerInch=m.PageViewport=m.PDFDateString=m.DOMStandardFontDataFactory=m.DOMSVGFactory=m.DOMCanvasFactory=m.DOMCMapReaderFactory=m.AnnotationPrefix=void 0,m.deprecated=function ue(Fe){console.log("Deprecated API usage: "+Fe)},m.getColorValues=function Ze(Fe){const ee=document.createElement("span");ee.style.visibility="hidden",document.body.append(ee);for(const _e of Fe.keys()){ee.style.color=_e;const Le=window.getComputedStyle(ee).color;Fe.set(_e,Oe(Le))}ee.remove()},m.getCurrentTransform=function Qe(Fe){const{a:ee,b:_e,c:Le,d:de,e:C,f:S}=Fe.getTransform();return[ee,_e,Le,de,C,S]},m.getCurrentTransformInverse=function Me(Fe){const{a:ee,b:_e,c:Le,d:de,e:C,f:S}=Fe.getTransform().invertSelf();return[ee,_e,Le,de,C,S]},m.getFilenameFromUrl=function me(Fe,ee=!1){return ee||([Fe]=Fe.split(/[#?]/,1)),Fe.substring(Fe.lastIndexOf("/")+1)},m.getPdfFilenameFromUrl=function B(Fe,ee="document.pdf"){if("string"!=typeof Fe)return ee;if(K(Fe))return(0,$.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ee;const Le=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,de=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Fe);let C=Le.exec(de[1])||Le.exec(de[2])||Le.exec(de[3]);if(C&&(C=C[0],C.includes("%")))try{C=Le.exec(decodeURIComponent(C))[0]}catch{}return C||ee},m.getRGB=Oe,m.getXfaPageViewport=function Y(Fe,{scale:ee=1,rotation:_e=0}){const{width:Le,height:de}=Fe.attributes.style,C=[0,0,parseInt(Le),parseInt(de)];return new V({viewBox:C,scale:ee,rotation:_e})},m.isDataScheme=K,m.isPdfFile=function te(Fe){return"string"==typeof Fe&&/\.pdf$/i.test(Fe)},m.isValidFetchUrl=N,m.loadScript=function W(Fe,ee=!1){return new Promise((_e,Le)=>{const de=document.createElement("script");de.src=Fe,de.onload=function(C){ee&&de.remove(),_e(C)},de.onerror=function(){Le(new Error(`Cannot load script at: ${de.src}`))},(document.head||document.documentElement).append(de)})},m.setLayerDimensions=function He(Fe,ee,_e=!1,Le=!0){if(ee instanceof V){const{pageWidth:de,pageHeight:C}=ee.rawDims,{style:S}=Fe,U=`calc(var(--scale-factor) * ${de}px)`,X=`calc(var(--scale-factor) * ${C}px)`;_e&&ee.rotation%180!=0?(S.width=X,S.height=U):(S.width=U,S.height=X)}Le&&Fe.setAttribute("data-main-rotation",ee.rotation)};var y=v(7),$=v(1);m.AnnotationPrefix="pdfjs_internal_id_";class J{}function Q(Fe){return q.apply(this,arguments)}function q(){return(q=_asyncToGenerator(function*(Fe,ee=!1){if(N(Fe,document.baseURI)){const _e=yield fetch(Fe);if(!_e.ok)throw new Error(_e.statusText);return ee?new Uint8Array(yield _e.arrayBuffer()):(0,$.stringToBytes)(yield _e.text())}return new Promise((_e,Le)=>{const de=new XMLHttpRequest;de.open("GET",Fe,!0),ee&&(de.responseType="arraybuffer"),de.onreadystatechange=()=>{if(de.readyState===XMLHttpRequest.DONE){if(200===de.status||0===de.status){let C;if(ee&&de.response?C=new Uint8Array(de.response):!ee&&de.responseText&&(C=(0,$.stringToBytes)(de.responseText)),C)return void _e(C)}Le(new Error(de.statusText))}},de.send(null)})})).apply(this,arguments)}o=J,_defineProperty(J,"CSS",96),_defineProperty(J,"PDF",72),_defineProperty(J,"PDF_TO_CSS_UNITS",o.CSS/o.PDF),m.PixelsPerInch=J,m.DOMCanvasFactory=class k extends y.BaseCanvasFactory{constructor({ownerDocument:ee=globalThis.document}={}){super(),this._document=ee}_createCanvas(ee,_e){const Le=this._document.createElement("canvas");return Le.width=ee,Le.height=_e,Le}},m.DOMCMapReaderFactory=class H extends y.BaseCMapReaderFactory{_fetchData(ee,_e){return Q(ee,this.isCompressed).then(Le=>({cMapData:Le,compressionType:_e}))}},m.DOMStandardFontDataFactory=class A extends y.BaseStandardFontDataFactory{_fetchData(ee){return Q(ee,!0)}},m.DOMSVGFactory=class O extends y.BaseSVGFactory{_createSVG(ee){return document.createElementNS("http://www.w3.org/2000/svg",ee)}};class V{constructor({viewBox:ee,scale:_e,rotation:Le,offsetX:de=0,offsetY:C=0,dontFlip:S=!1}){this.viewBox=ee,this.scale=_e,this.rotation=Le,this.offsetX=de,this.offsetY=C;const U=(ee[2]+ee[0])/2,X=(ee[3]+ee[1])/2;let se,he,Ce,Pe,M,L,re,fe;switch((Le%=360)<0&&(Le+=360),Le){case 180:se=-1,he=0,Ce=0,Pe=1;break;case 90:se=0,he=1,Ce=1,Pe=0;break;case 270:se=0,he=-1,Ce=-1,Pe=0;break;case 0:se=1,he=0,Ce=0,Pe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}S&&(Ce=-Ce,Pe=-Pe),0===se?(M=Math.abs(X-ee[1])*_e+de,L=Math.abs(U-ee[0])*_e+C,re=(ee[3]-ee[1])*_e,fe=(ee[2]-ee[0])*_e):(M=Math.abs(U-ee[0])*_e+de,L=Math.abs(X-ee[1])*_e+C,re=(ee[2]-ee[0])*_e,fe=(ee[3]-ee[1])*_e),this.transform=[se*_e,he*_e,Ce*_e,Pe*_e,M-se*_e*U-Ce*_e*X,L-he*_e*U-Pe*_e*X],this.width=re,this.height=fe}get rawDims(){const{viewBox:ee}=this;return(0,$.shadow)(this,"rawDims",{pageWidth:ee[2]-ee[0],pageHeight:ee[3]-ee[1],pageX:ee[0],pageY:ee[1]})}clone({scale:ee=this.scale,rotation:_e=this.rotation,offsetX:Le=this.offsetX,offsetY:de=this.offsetY,dontFlip:C=!1}={}){return new V({viewBox:this.viewBox.slice(),scale:ee,rotation:_e,offsetX:Le,offsetY:de,dontFlip:C})}convertToViewportPoint(ee,_e){return $.Util.applyTransform([ee,_e],this.transform)}convertToViewportRectangle(ee){const _e=$.Util.applyTransform([ee[0],ee[1]],this.transform),Le=$.Util.applyTransform([ee[2],ee[3]],this.transform);return[_e[0],_e[1],Le[0],Le[1]]}convertToPdfPoint(ee,_e){return $.Util.applyInverseTransform([ee,_e],this.transform)}}function K(Fe){const ee=Fe.length;let _e=0;for(;_e<ee&&""===Fe[_e].trim();)_e++;return"data:"===Fe.substring(_e,_e+5).toLowerCase()}function N(Fe,ee){try{const{protocol:_e}=ee?new URL(Fe,ee):new URL(Fe);return"http:"===_e||"https:"===_e}catch{return!1}}let ge;function Oe(Fe){if(Fe.startsWith("#")){const ee=parseInt(Fe.slice(1),16);return[(16711680&ee)>>16,(65280&ee)>>8,255&ee]}return Fe.startsWith("rgb(")?Fe.slice(4,-1).split(",").map(ee=>parseInt(ee)):Fe.startsWith("rgba(")?Fe.slice(5,-1).split(",").map(ee=>parseInt(ee)).slice(0,3):((0,$.warn)(`Not a valid color format: "${Fe}"`),[0,0,0])}m.PageViewport=V,m.RenderingCancelledException=class x extends $.BaseException{constructor(ee,_e,Le=0){super(ee,"RenderingCancelledException"),this.type=_e,this.extraDelay=Le}},m.StatTimer=class F{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(ee){ee in this.started&&(0,$.warn)(`Timer is already running for ${ee}`),this.started[ee]=Date.now()}timeEnd(ee){ee in this.started||(0,$.warn)(`Timer has not been started for ${ee}`),this.times.push({name:ee,start:this.started[ee],end:Date.now()}),delete this.started[ee]}toString(){const ee=[];let _e=0;for(const{name:Le}of this.times)_e=Math.max(Le.length,_e);for(const{name:Le,start:de,end:C}of this.times)ee.push(`${Le.padEnd(_e)} ${C-de}ms\n`);return ee.join("")}},m.PDFDateString=class ie{static toDateObject(ee){if(!ee||"string"!=typeof ee)return null;ge||(ge=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _e=ge.exec(ee);if(!_e)return null;const Le=parseInt(_e[1],10);let de=parseInt(_e[2],10);de=de>=1&&de<=12?de-1:0;let C=parseInt(_e[3],10);C=C>=1&&C<=31?C:1;let S=parseInt(_e[4],10);S=S>=0&&S<=23?S:0;let U=parseInt(_e[5],10);U=U>=0&&U<=59?U:0;let X=parseInt(_e[6],10);X=X>=0&&X<=59?X:0;const se=_e[7]||"Z";let he=parseInt(_e[8],10);he=he>=0&&he<=23?he:0;let Ce=parseInt(_e[9],10)||0;return Ce=Ce>=0&&Ce<=59?Ce:0,"-"===se?(S+=he,U+=Ce):"+"===se&&(S-=he,U-=Ce),new Date(Date.UTC(Le,de,C,S,U,X))}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.BaseStandardFontDataFactory=m.BaseSVGFactory=m.BaseCanvasFactory=m.BaseCMapReaderFactory=void 0;var o=v(1);class y{constructor(){this.constructor===y&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(k,Q){if(k<=0||Q<=0)throw new Error("Invalid canvas size");const q=this._createCanvas(k,Q);return{canvas:q,context:q.getContext("2d")}}reset(k,Q,q){if(!k.canvas)throw new Error("Canvas is not specified");if(Q<=0||q<=0)throw new Error("Invalid canvas size");k.canvas.width=Q,k.canvas.height=q}destroy(k){if(!k.canvas)throw new Error("Canvas is not specified");k.canvas.width=0,k.canvas.height=0,k.canvas=null,k.context=null}_createCanvas(k,Q){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}m.BaseCanvasFactory=y;class ${constructor({baseUrl:k=null,isCompressed:Q=!1}){this.constructor===$&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=k,this.isCompressed=Q}fetch({name:k}){var Q=this;return _asyncToGenerator(function*(){if(!Q.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!k)throw new Error("CMap name must be specified.");const q=Q.baseUrl+k+(Q.isCompressed?".bcmap":"");return Q._fetchData(q,Q.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE).catch(A=>{throw new Error(`Unable to load ${Q.isCompressed?"binary ":""}CMap at: ${q}`)})})()}_fetchData(k,Q){(0,o.unreachable)("Abstract method `_fetchData` called.")}}m.BaseCMapReaderFactory=$;class P{constructor({baseUrl:k=null}){this.constructor===P&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=k}fetch({filename:k}){var Q=this;return _asyncToGenerator(function*(){if(!Q.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!k)throw new Error("Font filename must be specified.");const q=`${Q.baseUrl}${k}`;return Q._fetchData(q).catch(H=>{throw new Error(`Unable to load font data at: ${q}`)})})()}_fetchData(k){(0,o.unreachable)("Abstract method `_fetchData` called.")}}m.BaseStandardFontDataFactory=P;class z{constructor(){this.constructor===z&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(k,Q,q=!1){if(k<=0||Q<=0)throw new Error("Invalid SVG dimensions");const H=this._createSVG("svg:svg");return H.setAttribute("version","1.1"),q||(H.setAttribute("width",`${k}px`),H.setAttribute("height",`${Q}px`)),H.setAttribute("preserveAspectRatio","none"),H.setAttribute("viewBox",`0 0 ${k} ${Q}`),H}createElement(k){if("string"!=typeof k)throw new Error("Invalid SVG element type");return this._createSVG(k)}_createSVG(k){(0,o.unreachable)("Abstract method `_createSVG` called.")}}m.BaseSVGFactory=z},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MurmurHash3_64=void 0;var o=v(1);const y=3285377520,$=4294901760,P=65535;m.MurmurHash3_64=class z{constructor(k){this.h1=k?4294967295&k:y,this.h2=k?4294967295&k:y}update(k){let Q,q;if("string"==typeof k){Q=new Uint8Array(2*k.length),q=0;for(let W=0,ue=k.length;W<ue;W++){const ge=k.charCodeAt(W);ge<=255?Q[q++]=ge:(Q[q++]=ge>>>8,Q[q++]=255&ge)}}else{if(!(0,o.isArrayBuffer)(k))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");Q=k.slice(),q=Q.byteLength}const H=q>>2,A=q-4*H,O=new Uint32Array(Q.buffer,0,H);let V=0,x=0,K=this.h1,te=this.h2;const me=3432918353,B=461845907,F=me&P,N=B&P;for(let W=0;W<H;W++)1&W?(V=O[W],V=V*me&$|V*F&P,V=V<<15|V>>>17,V=V*B&$|V*N&P,K^=V,K=K<<13|K>>>19,K=5*K+3864292196):(x=O[W],x=x*me&$|x*F&P,x=x<<15|x>>>17,x=x*B&$|x*N&P,te^=x,te=te<<13|te>>>19,te=5*te+3864292196);switch(V=0,A){case 3:V^=Q[4*H+2]<<16;case 2:V^=Q[4*H+1]<<8;case 1:V^=Q[4*H],V=V*me&$|V*F&P,V=V<<15|V>>>17,V=V*B&$|V*N&P,1&H?K^=V:te^=V}this.h1=K,this.h2=te}hexdigest(){let k=this.h1,Q=this.h2;return k^=Q>>>1,k=3981806797*k&$|36045*k&P,Q=4283543511*Q&$|(2950163797*(Q<<16|k>>>16)&$)>>>16,k^=Q>>>1,k=444984403*k&$|60499*k&P,Q=3301882366*Q&$|(3120437893*(Q<<16|k>>>16)&$)>>>16,k^=Q>>>1,(k>>>0).toString(16).padStart(8,"0")+(Q>>>0).toString(16).padStart(8,"0")}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.FontLoader=m.FontFaceObject=void 0;var o=v(1),y=v(10);m.FontLoader=class ${constructor({onUnsupportedFeature:J,ownerDocument:k=globalThis.document,styleElement:Q=null}){this._onUnsupportedFeature=J,this._document=k,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(J){this.nativeFontFaces.push(J),this._document.fonts.add(J)}insertRule(J){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const k=this.styleElement.sheet;k.insertRule(J,k.cssRules.length)}clear(){for(const J of this.nativeFontFaces)this._document.fonts.delete(J);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(J){var k=this;return _asyncToGenerator(function*(){if(J.attached||J.missingFile)return;if(J.attached=!0,k.isFontLoadingAPISupported){const q=J.createNativeFontFace();if(q){k.addNativeFontFace(q);try{yield q.loaded}catch(H){throw k._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)(`Failed to load font '${q.family}': '${H}'.`),J.disableFontFace=!0,H}}return}const Q=J.createFontFaceRule();if(Q){if(k.insertRule(Q),k.isSyncFontLoadingSupported)return;yield new Promise(q=>{const H=k._queueLoadingCallback(q);k._prepareFontLoadEvent(J,H)})}})()}get isFontLoadingAPISupported(){return(0,o.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let J=!1;return(y.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(J=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",J)}_queueLoadingCallback(J){const{loadingRequests:Q}=this,q={done:!1,complete:function k(){for((0,o.assert)(!q.done,"completeRequest() cannot be called twice."),q.done=!0;Q.length>0&&Q[0].done;){const H=Q.shift();setTimeout(H.callback,0)}},callback:J};return Q.push(q),q}get _loadTestFont(){const J=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",J)}_prepareFontLoadEvent(J,k){function Q(Y,Oe){return Y.charCodeAt(Oe)<<24|Y.charCodeAt(Oe+1)<<16|Y.charCodeAt(Oe+2)<<8|255&Y.charCodeAt(Oe+3)}function q(Y,Oe,Ze,Qe){return Y.substring(0,Oe)+Qe+Y.substring(Oe+Ze)}let H,A;const O=this._document.createElement("canvas");O.width=1,O.height=1;const V=O.getContext("2d");let x=0;const te=`lt${Date.now()}${this.loadTestFontId++}`;let me=this._loadTestFont;me=q(me,976,te.length,te);const N=1482184792;let W=Q(me,16);for(H=0,A=te.length-3;H<A;H+=4)W=W-N+Q(te,H)|0;H<te.length&&(W=W-N+Q(te+"XXX",H)|0),me=q(me,16,4,(0,o.string32)(W));const ue=`url(data:font/opentype;base64,${btoa(me)});`;this.insertRule(`@font-face {font-family:"${te}";src:${ue}}`);const ie=this._document.createElement("div");ie.style.visibility="hidden",ie.style.width=ie.style.height="10px",ie.style.position="absolute",ie.style.top=ie.style.left="0px";for(const Y of[J.loadedName,te]){const Oe=this._document.createElement("span");Oe.textContent="Hi",Oe.style.fontFamily=Y,ie.append(Oe)}this._document.body.append(ie),function K(Y,Oe){if(++x>30)return(0,o.warn)("Load test font never loaded."),void Oe();V.font="30px "+Y,V.fillText(".",0,20),V.getImageData(0,0,1,1).data[3]>0?Oe():setTimeout(K.bind(null,Y,Oe))}(te,()=>{ie.remove(),k.complete()})}},m.FontFaceObject=class P{constructor(J,{isEvalSupported:k=!0,disableFontFace:Q=!1,ignoreErrors:q=!1,onUnsupportedFeature:H,fontRegistry:A=null}){this.compiledGlyphs=Object.create(null);for(const O in J)this[O]=J[O];this.isEvalSupported=!1!==k,this.disableFontFace=!0===Q,this.ignoreErrors=!0===q,this._onUnsupportedFeature=H,this.fontRegistry=A}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let J;if(this.cssFontInfo){const k={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(k.style=`oblique ${this.cssFontInfo.italicAngle}deg`),J=new FontFace(this.cssFontInfo.fontFamily,this.data,k)}else J=new FontFace(this.loadedName,this.data,{});return this.fontRegistry?.registerFont(this),J}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const J=(0,o.bytesToString)(this.data),k=`url(data:${this.mimetype};base64,${btoa(J)});`;let Q;if(this.cssFontInfo){let q=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(q+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Q=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${q}src:${k}}`}else Q=`@font-face {font-family:"${this.loadedName}";src:${k}}`;return this.fontRegistry?.registerFont(this,k),Q}getPathGenerator(J,k){if(void 0!==this.compiledGlyphs[k])return this.compiledGlyphs[k];let Q;try{Q=J.get(this.loadedName+"_path_"+k)}catch(q){if(!this.ignoreErrors)throw q;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)(`getPathGenerator - ignoring character: "${q}".`),this.compiledGlyphs[k]=function(H,A){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const q=[];for(const H of Q){const A=void 0!==H.args?H.args.join(","):"";q.push("c.",H.cmd,"(",A,");\n")}return this.compiledGlyphs[k]=new Function("c","size",q.join(""))}return this.compiledGlyphs[k]=function(q,H){for(const A of Q)"scale"===A.cmd&&(A.args=[H,-H]),q[A.cmd].apply(q,A.args)}}}},(pe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.isNodeJS=void 0;const v=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);m.isNodeJS=v},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CanvasGraphics=void 0;var o=v(1),y=v(6),$=v(12),P=v(13),z=v(10);const Q=4096,A=z.isNodeJS&&typeof Path2D>"u"?-1:1e3,O=16;class x{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,S,U){let X;return void 0!==this.cache[C]?(X=this.cache[C],this.canvasFactory.reset(X,S,U)):(X=this.canvasFactory.create(S,U),this.cache[C]=X),X}delete(C){delete this.cache[C]}clear(){for(const C in this.cache)this.canvasFactory.destroy(this.cache[C]),delete this.cache[C]}}function K(de,C,S,U,X,se,he,Ce,Pe,M){const[L,re,fe,Se,Re,Ue]=(0,y.getCurrentTransform)(de);if(0===re&&0===fe){const nt=Math.round(he*L+Re),vt=Math.round(Ce*Se+Ue),Ct=Math.abs(Math.round((he+Pe)*L+Re)-nt)||1,_t=Math.abs(Math.round((Ce+M)*Se+Ue)-vt)||1;return de.setTransform(Math.sign(L),0,0,Math.sign(Se),nt,vt),de.drawImage(C,S,U,X,se,0,0,Ct,_t),de.setTransform(L,re,fe,Se,Re,Ue),[Ct,_t]}if(0===L&&0===Se){const nt=Math.round(Ce*fe+Re),vt=Math.round(he*re+Ue),Ct=Math.abs(Math.round((Ce+M)*fe+Re)-nt)||1,_t=Math.abs(Math.round((he+Pe)*re+Ue)-vt)||1;return de.setTransform(0,Math.sign(re),Math.sign(fe),0,nt,vt),de.drawImage(C,S,U,X,se,0,0,_t,Ct),de.setTransform(L,re,fe,Se,Re,Ue),[_t,Ct]}return de.drawImage(C,S,U,X,se,he,Ce,Pe,M),[Math.hypot(L,re)*Pe,Math.hypot(fe,Se)*M]}class me{constructor(C,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,C,S])}clone(){const C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,S){this.x=C,this.y=S}updatePathMinMax(C,S,U){[S,U]=o.Util.applyTransform([S,U],C),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,U),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,U)}updateRectMinMax(C,S){const U=o.Util.applyTransform(S,C),X=o.Util.applyTransform(S.slice(2),C);this.minX=Math.min(this.minX,U[0],X[0]),this.minY=Math.min(this.minY,U[1],X[1]),this.maxX=Math.max(this.maxX,U[0],X[0]),this.maxY=Math.max(this.maxY,U[1],X[1])}updateScalingPathMinMax(C,S){o.Util.scaleMinMax(C,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax(C,S,U,X,se,he,Ce,Pe,M,L){const re=o.Util.bezierBoundingBox(S,U,X,se,he,Ce,Pe,M);if(L)return L[0]=Math.min(L[0],re[0],re[2]),L[1]=Math.max(L[1],re[0],re[2]),L[2]=Math.min(L[2],re[1],re[3]),void(L[3]=Math.max(L[3],re[1],re[3]));this.updateRectMinMax(C,re)}getPathBoundingBox(C=$.PathType.FILL,S=null){const U=[this.minX,this.minY,this.maxX,this.maxY];if(C===$.PathType.STROKE){S||(0,o.unreachable)("Stroke bounding box must include transform.");const X=o.Util.singularValueDecompose2dScale(S),se=X[0]*this.lineWidth/2,he=X[1]*this.lineWidth/2;U[0]-=se,U[1]-=he,U[2]+=se,U[3]+=he}return U}updateClipFromPath(){const C=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=$.PathType.FILL,S=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(C,S))}}function B(de,C,S=null){if(typeof ImageData<"u"&&C instanceof ImageData)return void de.putImageData(C,0,0);const U=C.height,X=C.width,se=U%O,he=(U-se)/O,Ce=0===se?he:he+1,Pe=de.createImageData(X,O);let L,M=0;const re=C.data,fe=Pe.data;let Se,Re,Ue,$e,Ge,We,nt,Je;if(S)switch(S.length){case 1:Ge=S[0],We=S[0],nt=S[0],Je=S[0];break;case 4:Ge=S[0],We=S[1],nt=S[2],Je=S[3]}if(C.kind===o.ImageKind.GRAYSCALE_1BPP){const vt=re.byteLength,at=new Uint32Array(fe.buffer,0,fe.byteLength>>2),Ct=at.length,qt=X+7>>3;let _t=4294967295,Mt=o.FeatureTest.isLittleEndian?4278190080:255;for(Je&&255===Je[0]&&0===Je[255]&&([_t,Mt]=[Mt,_t]),Se=0;Se<Ce;Se++){for(Ue=Se<he?O:se,L=0,Re=0;Re<Ue;Re++){const In=vt-M;let Ut=0;const Ke=In>qt?X:8*In-7,It=-8&Ke;let xt=0,Dt=0;for(;Ut<It;Ut+=8)Dt=re[M++],at[L++]=128&Dt?_t:Mt,at[L++]=64&Dt?_t:Mt,at[L++]=32&Dt?_t:Mt,at[L++]=16&Dt?_t:Mt,at[L++]=8&Dt?_t:Mt,at[L++]=4&Dt?_t:Mt,at[L++]=2&Dt?_t:Mt,at[L++]=1&Dt?_t:Mt;for(;Ut<Ke;Ut++)0===xt&&(Dt=re[M++],xt=128),at[L++]=Dt&xt?_t:Mt,xt>>=1}for(;L<Ct;)at[L++]=0;de.putImageData(Pe,0,Se*O)}}else if(C.kind===o.ImageKind.RGBA_32BPP){const vt=!!(Ge||We||nt);for(Re=0,$e=X*O*4,Se=0;Se<he;Se++){if(fe.set(re.subarray(M,M+$e)),M+=$e,vt)for(let at=0;at<$e;at+=4)Ge&&(fe[at+0]=Ge[fe[at+0]]),We&&(fe[at+1]=We[fe[at+1]]),nt&&(fe[at+2]=nt[fe[at+2]]);de.putImageData(Pe,0,Re),Re+=O}if(Se<Ce){if($e=X*se*4,fe.set(re.subarray(M,M+$e)),vt)for(let at=0;at<$e;at+=4)Ge&&(fe[at+0]=Ge[fe[at+0]]),We&&(fe[at+1]=We[fe[at+1]]),nt&&(fe[at+2]=nt[fe[at+2]]);de.putImageData(Pe,0,Re)}}else{if(C.kind!==o.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${C.kind}`);{const vt=!!(Ge||We||nt);for(Ue=O,$e=X*Ue,Se=0;Se<Ce;Se++){for(Se>=he&&(Ue=se,$e=X*Ue),L=0,Re=$e;Re--;)fe[L++]=re[M++],fe[L++]=re[M++],fe[L++]=re[M++],fe[L++]=255;if(vt)for(let at=0;at<L;at+=4)Ge&&(fe[at+0]=Ge[fe[at+0]]),We&&(fe[at+1]=We[fe[at+1]]),nt&&(fe[at+2]=nt[fe[at+2]]);de.putImageData(Pe,0,Se*O)}}}}function F(de,C){if(C.bitmap)return void de.drawImage(C.bitmap,0,0);const S=C.height,U=C.width,X=S%O,se=(S-X)/O,he=0===X?se:se+1,Ce=de.createImageData(U,O);let Pe=0;const M=C.data,L=Ce.data;for(let re=0;re<he;re++){const fe=re<se?O:X;({srcPos:Pe}=(0,P.applyMaskImageData)({src:M,srcPos:Pe,dest:L,width:U,height:fe})),de.putImageData(Ce,0,re*O)}}function N(de,C){const S=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const U of S)void 0!==de[U]&&(C[U]=de[U]);void 0!==de.setLineDash&&(C.setLineDash(de.getLineDash()),C.lineDashOffset=de.lineDashOffset)}function W(de,C){de.strokeStyle=de.fillStyle=C||"#000000",de.fillRule="nonzero",de.globalAlpha=1,de.lineWidth=1,de.lineCap="butt",de.lineJoin="miter",de.miterLimit=10,de.globalCompositeOperation="source-over",de.font="10px sans-serif",void 0!==de.setLineDash&&(de.setLineDash([]),de.lineDashOffset=0)}function ue(de,C,S,U){const X=de.length;for(let se=3;se<X;se+=4){const he=de[se];if(0===he)de[se-3]=C,de[se-2]=S,de[se-1]=U;else if(he<255){const Ce=255-he;de[se-3]=de[se-3]*he+C*Ce>>8,de[se-2]=de[se-2]*he+S*Ce>>8,de[se-1]=de[se-1]*he+U*Ce>>8}}}function ge(de,C,S){const U=de.length;for(let se=3;se<U;se+=4)C[se]=C[se]*(S?S[de[se]]:de[se])*.00392156862745098|0}function ie(de,C,S){const U=de.length;for(let X=3;X<U;X+=4){const se=77*de[X-3]+152*de[X-2]+28*de[X-1];C[X]=S?C[X]*S[se>>8]>>8:C[X]*se>>16}}function Ze(de,C){const S=o.Util.singularValueDecompose2dScale(de);S[0]=Math.fround(S[0]),S[1]=Math.fround(S[1]);const U=Math.fround((globalThis.devicePixelRatio||1)*y.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==C?C:S[0]<=U||S[1]<=U}const Qe=["butt","round","square"],Me=["miter","round","bevel"],He={},Fe={};var ee=new WeakSet;class _e{constructor(C,S,U,X,{optionalContentConfig:se,markedContentStack:he=null},Ce,Pe){_classPrivateMethodInitSpec(this,ee),this.ctx=C,this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=U,this.canvasFactory=X,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=he||[],this.optionalContentConfig=se,this.cachedCanvases=new x(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ce,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=Pe?.background||null,this.foregroundColor=Pe?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,S=null){return"string"==typeof C?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):S}beginDrawing({transform:C,viewport:S,transparency:U=!1,background:X=null}){const se=this.ctx.canvas.width,he=this.ctx.canvas.height,Ce=X||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Pe=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const M=this.backgroundColor=this.ctx.fillStyle;let L=!0,re=Ce;if(this.ctx.fillStyle=Ce,re=this.ctx.fillStyle,L="string"==typeof re&&/^#[0-9A-Fa-f]{6}$/.test(re),"#000000"===Pe&&"#ffffff"===M||Pe===M||!L)this.foregroundColor=this.backgroundColor=null;else{const[fe,Se,Re]=(0,y.getRGB)(re),Ue=Ge=>(Ge/=255)<=.03928?Ge/12.92:((Ge+.055)/1.055)**2.4,$e=Math.round(.2126*Ue(fe)+.7152*Ue(Se)+.0722*Ue(Re));this.selectColor=(Ge,We,nt)=>{const Je=.2126*Ue(Ge)+.7152*Ue(We)+.0722*Ue(nt);return Math.round(Je)===$e?M:Pe}}}if(this.ctx.fillStyle=this.backgroundColor||Ce,this.ctx.fillRect(0,0,se,he),this.ctx.restore(),U){const Pe=this.cachedCanvases.getCanvas("transparent",se,he);this.compositeCtx=this.ctx,this.transparentCanvas=Pe.canvas,this.ctx=Pe.context,this.ctx.save(),this.ctx.transform(...(0,y.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),W(this.ctx,this.foregroundColor),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,y.getCurrentTransform)(this.ctx)}executeOperatorList(C,S,U,X){const se=C.argsArray,he=C.fnArray;let Ce=S||0;const Pe=se.length;if(Pe===Ce)return Ce;const M=Pe-Ce>10&&"function"==typeof U,L=M?Date.now()+15:0;let re=0;const fe=this.commonObjs,Se=this.objs;let Re;for(;;){if(void 0!==X&&Ce===X.nextBreakPoint)return X.breakIt(Ce,U),Ce;if(Re=he[Ce],Re!==o.OPS.dependency)this[Re].apply(this,se[Ce]);else for(const Ue of se[Ce]){const $e=Ue.startsWith("g_")?fe:Se;if(!$e.has(Ue))return $e.get(Ue,U),Ce}if(Ce++,Ce===Pe)return Ce;if(M&&++re>10){if(Date.now()>L)return U(),Ce;re=0}}}endDrawing(){_classPrivateMethodGet(this,ee,Le).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const C of this._cachedBitmapsMap.values()){for(const S of C.values())typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);C.clear()}this._cachedBitmapsMap.clear()}_scaleImage(C,S){const U=C.width,X=C.height;let L,re,se=Math.max(Math.hypot(S[0],S[1]),1),he=Math.max(Math.hypot(S[2],S[3]),1),Ce=U,Pe=X,M="prescale1";for(;se>2&&Ce>1||he>2&&Pe>1;){let fe=Ce,Se=Pe;se>2&&Ce>1&&(fe=Math.ceil(Ce/2),se/=Ce/fe),he>2&&Pe>1&&(Se=Math.ceil(Pe/2),he/=Pe/Se),L=this.cachedCanvases.getCanvas(M,fe,Se),re=L.context,re.clearRect(0,0,fe,Se),re.drawImage(C,0,0,Ce,Pe,0,0,fe,Se),C=L.canvas,Ce=fe,Pe=Se,M="prescale1"===M?"prescale2":"prescale1"}return{img:C,paintWidth:Ce,paintHeight:Pe}}_createMaskCanvas(C){const S=this.ctx,{width:U,height:X}=C,se=this.current.fillColor,he=this.current.patternFill,Ce=(0,y.getCurrentTransform)(S);let Pe,M,L,re;if((C.bitmap||C.data)&&C.count>1){const Ct=C.bitmap||C.data.buffer;M=JSON.stringify(he?Ce:[Ce.slice(0,4),se]),Pe=this._cachedBitmapsMap.get(Ct),Pe||(Pe=new Map,this._cachedBitmapsMap.set(Ct,Pe));const qt=Pe.get(M);if(qt&&!he)return{canvas:qt,offsetX:Math.round(Math.min(Ce[0],Ce[2])+Ce[4]),offsetY:Math.round(Math.min(Ce[1],Ce[3])+Ce[5])};L=qt}L||(re=this.cachedCanvases.getCanvas("maskCanvas",U,X),F(re.context,C));let fe=o.Util.transform(Ce,[1/U,0,0,-1/X,0,0]);fe=o.Util.transform(fe,[1,0,0,1,0,-X]);const Se=o.Util.applyTransform([0,0],fe),Re=o.Util.applyTransform([U,X],fe),Ue=o.Util.normalizeRect([Se[0],Se[1],Re[0],Re[1]]),$e=Math.round(Ue[2]-Ue[0])||1,Ge=Math.round(Ue[3]-Ue[1])||1,We=this.cachedCanvases.getCanvas("fillCanvas",$e,Ge),nt=We.context,Je=Math.min(Se[0],Re[0]),vt=Math.min(Se[1],Re[1]);nt.translate(-Je,-vt),nt.transform(...fe),L||(L=this._scaleImage(re.canvas,(0,y.getCurrentTransformInverse)(nt)),L=L.img,Pe&&he&&Pe.set(M,L)),nt.imageSmoothingEnabled=Ze((0,y.getCurrentTransform)(nt),C.interpolate),K(nt,L,0,0,L.width,L.height,0,0,U,X),nt.globalCompositeOperation="source-in";const at=o.Util.transform((0,y.getCurrentTransformInverse)(nt),[1,0,0,1,-Je,-vt]);return nt.fillStyle=he?se.getPattern(S,this,at,$.PathType.FILL):se,nt.fillRect(0,0,U,X),Pe&&!he&&(this.cachedCanvases.delete("fillCanvas"),Pe.set(M,We.canvas)),{canvas:We.canvas,offsetX:Math.round(Je),offsetY:Math.round(vt)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=Qe[C]}setLineJoin(C){this.ctx.lineJoin=Me[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,S){const U=this.ctx;void 0!==U.setLineDash&&(U.setLineDash(C),U.lineDashOffset=S)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[S,U]of C)switch(S){case"LW":this.setLineWidth(U);break;case"LC":this.setLineCap(U);break;case"LJ":this.setLineJoin(U);break;case"ML":this.setMiterLimit(U);break;case"D":this.setDash(U[0],U[1]);break;case"RI":this.setRenderingIntent(U);break;case"FL":this.setFlatness(U);break;case"Font":this.setFont(U[0],U[1]);break;case"CA":this.current.strokeAlpha=U;break;case"ca":this.current.fillAlpha=U,this.ctx.globalAlpha=U;break;case"BM":this.ctx.globalCompositeOperation=U;break;case"SMask":this.current.activeSMask=U?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=U}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const X=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=X.context;const se=this.ctx;se.setTransform(...(0,y.getCurrentTransform)(this.suspendedCtx)),N(this.suspendedCtx,se),function V(de,C){if(de._removeMirroring)throw new Error("Context is already forwarding operations.");de.__originalSave=de.save,de.__originalRestore=de.restore,de.__originalRotate=de.rotate,de.__originalScale=de.scale,de.__originalTranslate=de.translate,de.__originalTransform=de.transform,de.__originalSetTransform=de.setTransform,de.__originalResetTransform=de.resetTransform,de.__originalClip=de.clip,de.__originalMoveTo=de.moveTo,de.__originalLineTo=de.lineTo,de.__originalBezierCurveTo=de.bezierCurveTo,de.__originalRect=de.rect,de.__originalClosePath=de.closePath,de.__originalBeginPath=de.beginPath,de._removeMirroring=()=>{de.save=de.__originalSave,de.restore=de.__originalRestore,de.rotate=de.__originalRotate,de.scale=de.__originalScale,de.translate=de.__originalTranslate,de.transform=de.__originalTransform,de.setTransform=de.__originalSetTransform,de.resetTransform=de.__originalResetTransform,de.clip=de.__originalClip,de.moveTo=de.__originalMoveTo,de.lineTo=de.__originalLineTo,de.bezierCurveTo=de.__originalBezierCurveTo,de.rect=de.__originalRect,de.closePath=de.__originalClosePath,de.beginPath=de.__originalBeginPath,delete de._removeMirroring},de.save=function(){C.save(),this.__originalSave()},de.restore=function(){C.restore(),this.__originalRestore()},de.translate=function(U,X){C.translate(U,X),this.__originalTranslate(U,X)},de.scale=function(U,X){C.scale(U,X),this.__originalScale(U,X)},de.transform=function(U,X,se,he,Ce,Pe){C.transform(U,X,se,he,Ce,Pe),this.__originalTransform(U,X,se,he,Ce,Pe)},de.setTransform=function(U,X,se,he,Ce,Pe){C.setTransform(U,X,se,he,Ce,Pe),this.__originalSetTransform(U,X,se,he,Ce,Pe)},de.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},de.rotate=function(U){C.rotate(U),this.__originalRotate(U)},de.clip=function(U){C.clip(U),this.__originalClip(U)},de.moveTo=function(S,U){C.moveTo(S,U),this.__originalMoveTo(S,U)},de.lineTo=function(S,U){C.lineTo(S,U),this.__originalLineTo(S,U)},de.bezierCurveTo=function(S,U,X,se,he,Ce){C.bezierCurveTo(S,U,X,se,he,Ce),this.__originalBezierCurveTo(S,U,X,se,he,Ce)},de.rect=function(S,U,X,se){C.rect(S,U,X,se),this.__originalRect(S,U,X,se)},de.closePath=function(){C.closePath(),this.__originalClosePath()},de.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}(se,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){this.current.activeSMask&&(C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Oe(de,C,S,U){const X=U[0],se=U[1],he=U[2]-X,Ce=U[3]-se;0===he||0===Ce||(function Y(de,C,S,U,X,se,he,Ce,Pe,M,L){const re=!!se,fe=re?se[0]:0,Se=re?se[1]:0,Re=re?se[2]:0;let Ue;Ue="Luminosity"===X?ie:ge;const Ge=Math.min(U,Math.ceil(1048576/S));for(let We=0;We<U;We+=Ge){const nt=Math.min(Ge,U-We),Je=de.getImageData(Ce-M,We+(Pe-L),S,nt),vt=C.getImageData(Ce,We+Pe,S,nt);re&&ue(Je.data,fe,Se,Re),Ue(Je.data,vt.data,he),C.putImageData(vt,Ce,We+Pe)}}(C.context,S,he,Ce,C.subtype,C.backdrop,C.transferMap,X,se,C.offsetX,C.offsetY),de.save(),de.globalAlpha=1,de.globalCompositeOperation="source-over",de.setTransform(1,0,0,1,0,0),de.drawImage(S.canvas,0,0),de.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(N(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),N(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(C,S,U,X,se,he){this.ctx.transform(C,S,U,X,se,he),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(C,S,U){const X=this.ctx,se=this.current;let Pe,M,he=se.x,Ce=se.y;const L=(0,y.getCurrentTransform)(X),re=0===L[0]&&0===L[3]||0===L[1]&&0===L[2],fe=re?U.slice(0):null;for(let Se=0,Re=0,Ue=C.length;Se<Ue;Se++)switch(0|C[Se]){case o.OPS.rectangle:he=S[Re++],Ce=S[Re++];const $e=S[Re++],Ge=S[Re++],We=he+$e,nt=Ce+Ge;X.moveTo(he,Ce),0===$e||0===Ge?X.lineTo(We,nt):(X.lineTo(We,Ce),X.lineTo(We,nt),X.lineTo(he,nt)),re||se.updateRectMinMax(L,[he,Ce,We,nt]),X.closePath();break;case o.OPS.moveTo:he=S[Re++],Ce=S[Re++],X.moveTo(he,Ce),re||se.updatePathMinMax(L,he,Ce);break;case o.OPS.lineTo:he=S[Re++],Ce=S[Re++],X.lineTo(he,Ce),re||se.updatePathMinMax(L,he,Ce);break;case o.OPS.curveTo:Pe=he,M=Ce,he=S[Re+4],Ce=S[Re+5],X.bezierCurveTo(S[Re],S[Re+1],S[Re+2],S[Re+3],he,Ce),se.updateCurvePathMinMax(L,Pe,M,S[Re],S[Re+1],S[Re+2],S[Re+3],he,Ce,fe),Re+=6;break;case o.OPS.curveTo2:Pe=he,M=Ce,X.bezierCurveTo(he,Ce,S[Re],S[Re+1],S[Re+2],S[Re+3]),se.updateCurvePathMinMax(L,Pe,M,he,Ce,S[Re],S[Re+1],S[Re+2],S[Re+3],fe),he=S[Re+2],Ce=S[Re+3],Re+=4;break;case o.OPS.curveTo3:Pe=he,M=Ce,he=S[Re+2],Ce=S[Re+3],X.bezierCurveTo(S[Re],S[Re+1],he,Ce,he,Ce),se.updateCurvePathMinMax(L,Pe,M,S[Re],S[Re+1],he,Ce,he,Ce,fe),Re+=4;break;case o.OPS.closePath:X.closePath()}re&&se.updateScalingPathMinMax(L,fe),se.setCurrentPoint(he,Ce)}closePath(){this.ctx.closePath()}stroke(C=!0){const S=this.ctx,U=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof U&&U?.getPattern?(S.save(),S.strokeStyle=U.getPattern(S,this,(0,y.getCurrentTransformInverse)(S),$.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C=!0){const S=this.ctx,U=this.current.fillColor;let se=!1;this.current.patternFill&&(S.save(),S.fillStyle=U.getPattern(S,this,(0,y.getCurrentTransformInverse)(S),$.PathType.FILL),se=!0);const he=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==he&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),se&&S.restore(),C&&this.consumePath(he)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=He}eoClip(){this.pendingClip=Fe}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const C=this.pendingTextPaths,S=this.ctx;if(void 0!==C){S.save(),S.beginPath();for(const U of C)S.setTransform(...U.transform),S.translate(U.x,U.y),U.addToPath(S,U.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}else S.beginPath()}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,S){const U=this.commonObjs.get(C),X=this.current;if(!U)throw new Error(`Can't find font for ${C}`);if(X.fontMatrix=U.fontMatrix||o.FONT_IDENTITY_MATRIX,(0===X.fontMatrix[0]||0===X.fontMatrix[3])&&(0,o.warn)("Invalid font matrix for font "+C),S<0?(S=-S,X.fontDirection=-1):X.fontDirection=1,this.current.font=U,this.current.fontSize=S,U.isType3Font)return;let he="normal";U.black?he="900":U.bold&&(he="bold");const Ce=U.italic?"italic":"normal",Pe=`"${U.loadedName||"sans-serif"}", ${U.fallbackName}`;let M=S;S<16?M=16:S>100&&(M=100),this.current.fontSizeScale=S/M,this.ctx.font=`${Ce} ${he} ${M}px ${Pe}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,S){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=S}setLeadingMoveText(C,S){this.setLeading(-S),this.moveText(C,S)}setTextMatrix(C,S,U,X,se,he){this.current.textMatrix=[C,S,U,X,se,he],this.current.textMatrixScale=Math.hypot(C,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,S,U,X){const se=this.ctx,he=this.current,Ce=he.font,Pe=he.textRenderingMode,M=he.fontSize/he.fontSizeScale,L=Pe&o.TextRenderingMode.FILL_STROKE_MASK,re=!!(Pe&o.TextRenderingMode.ADD_TO_PATH_FLAG),fe=he.patternFill&&!Ce.missingFile;let Se;(Ce.disableFontFace||re||fe)&&(Se=Ce.getPathGenerator(this.commonObjs,C)),Ce.disableFontFace||fe?(se.save(),se.translate(S,U),se.beginPath(),Se(se,M),X&&se.setTransform(...X),(L===o.TextRenderingMode.FILL||L===o.TextRenderingMode.FILL_STROKE)&&se.fill(),(L===o.TextRenderingMode.STROKE||L===o.TextRenderingMode.FILL_STROKE)&&se.stroke(),se.restore()):((L===o.TextRenderingMode.FILL||L===o.TextRenderingMode.FILL_STROKE)&&se.fillText(C,S,U),(L===o.TextRenderingMode.STROKE||L===o.TextRenderingMode.FILL_STROKE)&&se.strokeText(C,S,U)),re&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,y.getCurrentTransform)(se),x:S,y:U,fontSize:M,addToPath:Se})}get isFontSubpixelAAEnabled(){const{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);const S=C.getImageData(0,0,10,10).data;let U=!1;for(let X=3;X<S.length;X+=4)if(S[X]>0&&S[X]<255){U=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",U)}showText(C){const S=this.current,U=S.font;if(U.isType3Font)return this.showType3Text(C);const X=S.fontSize;if(0===X)return;const se=this.ctx,he=S.fontSizeScale,Ce=S.charSpacing,Pe=S.wordSpacing,M=S.fontDirection,L=S.textHScale*M,re=C.length,fe=U.vertical,Se=fe?1:-1,Re=U.defaultVMetrics,Ue=X*S.fontMatrix[0],$e=S.textRenderingMode===o.TextRenderingMode.FILL&&!U.disableFontFace&&!S.patternFill;let Ge;if(se.save(),se.transform(...S.textMatrix),se.translate(S.x,S.y+S.textRise),se.scale(L,M>0?-1:1),S.patternFill){se.save();const at=S.fillColor.getPattern(se,this,(0,y.getCurrentTransformInverse)(se),$.PathType.FILL);Ge=(0,y.getCurrentTransform)(se),se.restore(),se.fillStyle=at}let We=S.lineWidth;const nt=S.textMatrixScale;if(0===nt||0===We){const at=S.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(at===o.TextRenderingMode.STROKE||at===o.TextRenderingMode.FILL_STROKE)&&(We=this.getSinglePixelWidth())}else We/=nt;if(1!==he&&(se.scale(he,he),We/=he),se.lineWidth=We,U.isInvalidPDFjsFont){const at=[];let Ct=0;for(const qt of C)at.push(qt.unicode),Ct+=qt.width;return se.fillText(at.join(""),0,0),S.x+=Ct*Ue*L,se.restore(),void this.compose()}let vt,Je=0;for(vt=0;vt<re;++vt){const at=C[vt];if("number"==typeof at){Je+=Se*at*X/1e3;continue}let Ct=!1;const qt=(at.isSpace?Pe:0)+Ce,_t=at.fontChar,Mt=at.accent;let In,Ut,It,Ke=at.width;if(fe){const xt=at.vmetric||Re,Dt=-(at.vmetric?xt[1]:.5*Ke)*Ue;Ke=xt?-xt[0]:Ke,In=Dt/he,Ut=(Je+xt[2]*Ue)/he}else In=Je/he,Ut=0;if(U.remeasure&&Ke>0){const xt=1e3*se.measureText(_t).width/X*he;if(Ke<xt&&this.isFontSubpixelAAEnabled){const Dt=Ke/xt;Ct=!0,se.save(),se.scale(Dt,1),In/=Dt}else Ke!==xt&&(In+=(Ke-xt)/2e3*X/he)}this.contentVisible&&(at.isInFont||U.missingFile)&&($e&&!Mt?se.fillText(_t,In,Ut):(this.paintChar(_t,In,Ut,Ge),Mt&&this.paintChar(Mt.fontChar,In+X*Mt.offset.x/he,Ut-X*Mt.offset.y/he,Ge))),It=fe?Ke*Ue-qt*M:Ke*Ue+qt*M,Je+=It,Ct&&se.restore()}fe?S.y-=Je:S.x+=Je*L,se.restore(),this.compose()}showType3Text(C){const S=this.ctx,U=this.current,X=U.font,se=U.fontSize,he=U.fontDirection,Ce=X.vertical?1:-1,Pe=U.charSpacing,M=U.wordSpacing,L=U.textHScale*he,re=U.fontMatrix||o.FONT_IDENTITY_MATRIX,fe=C.length;let Re,Ue,$e,Ge;if(U.textRenderingMode!==o.TextRenderingMode.INVISIBLE&&0!==se){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,S.save(),S.transform(...U.textMatrix),S.translate(U.x,U.y),S.scale(L,he),Re=0;Re<fe;++Re){if(Ue=C[Re],"number"==typeof Ue){Ge=Ce*Ue*se/1e3,this.ctx.translate(Ge,0),U.x+=Ge*L;continue}const We=(Ue.isSpace?M:0)+Pe,nt=X.charProcOperatorList[Ue.operatorListId];nt?(this.contentVisible&&(this.processingType3=Ue,this.save(),S.scale(se,se),S.transform(...re),this.executeOperatorList(nt),this.restore()),$e=o.Util.applyTransform([Ue.width,0],re)[0]*se+We,S.translate($e,0),U.x+=$e*L):(0,o.warn)(`Type3 character "${Ue.operatorListId}" is not available.`)}S.restore(),this.processingType3=null}}setCharWidth(C,S){}setCharWidthAndBounds(C,S,U,X,se,he){this.ctx.rect(U,X,se-U,he-X),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let S;if("TilingPattern"===C[0]){const U=C[1],X=this.baseTransform||(0,y.getCurrentTransform)(this.ctx);S=new $.TilingPattern(C,U,this.ctx,{createCanvasGraphics:he=>new _e(he,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},X)}else S=this._getPattern(C[1],C[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,S,U){const X=this.selectColor?.(C,S,U)||o.Util.makeHexColor(C,S,U);this.ctx.strokeStyle=X,this.current.strokeColor=X}setFillRGBColor(C,S,U){const X=this.selectColor?.(C,S,U)||o.Util.makeHexColor(C,S,U);this.ctx.fillStyle=X,this.current.fillColor=X,this.current.patternFill=!1}_getPattern(C,S=null){let U;return this.cachedPatterns.has(C)?U=this.cachedPatterns.get(C):(U=(0,$.getShadingPattern)(this.objs.get(C)),this.cachedPatterns.set(C,U)),S&&(U.matrix=S),U}shadingFill(C){if(!this.contentVisible)return;const S=this.ctx;this.save();const U=this._getPattern(C);S.fillStyle=U.getPattern(S,this,(0,y.getCurrentTransformInverse)(S),$.PathType.SHADING);const X=(0,y.getCurrentTransformInverse)(S);if(X){const se=S.canvas,he=se.width,Ce=se.height,Pe=o.Util.applyTransform([0,0],X),M=o.Util.applyTransform([0,Ce],X),L=o.Util.applyTransform([he,0],X),re=o.Util.applyTransform([he,Ce],X),fe=Math.min(Pe[0],M[0],L[0],re[0]),Se=Math.min(Pe[1],M[1],L[1],re[1]),Re=Math.max(Pe[0],M[0],L[0],re[0]),Ue=Math.max(Pe[1],M[1],L[1],re[1]);this.ctx.fillRect(fe,Se,Re-fe,Ue-Se)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,S){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&6===C.length&&this.transform(...C),this.baseTransform=(0,y.getCurrentTransform)(this.ctx),S)&&(this.ctx.rect(S[0],S[1],S[2]-S[0],S[3]-S[1]),this.current.updateRectMinMax((0,y.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const S=this.ctx;C.isolated||(0,o.info)("TODO: Support non-isolated groups."),C.knockout&&(0,o.warn)("Knockout groups not supported.");const U=(0,y.getCurrentTransform)(S);if(C.matrix&&S.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let X=o.Util.getAxialAlignedBoundingBox(C.bbox,(0,y.getCurrentTransform)(S));X=o.Util.intersect(X,[0,0,S.canvas.width,S.canvas.height])||[0,0,0,0];const he=Math.floor(X[0]),Ce=Math.floor(X[1]);let Pe=Math.max(Math.ceil(X[2])-he,1),M=Math.max(Math.ceil(X[3])-Ce,1),L=1,re=1;Pe>Q&&(L=Pe/Q,Pe=Q),M>Q&&(re=M/Q,M=Q),this.current.startNewPathAndClipBox([0,0,Pe,M]);let fe="groupAt"+this.groupLevel;C.smask&&(fe+="_smask_"+this.smaskCounter++%2);const Se=this.cachedCanvases.getCanvas(fe,Pe,M),Re=Se.context;Re.scale(1/L,1/re),Re.translate(-he,-Ce),Re.transform(...U),C.smask?this.smaskStack.push({canvas:Se.canvas,context:Re,offsetX:he,offsetY:Ce,scaleX:L,scaleY:re,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(he,Ce),S.scale(L,re),S.save()),N(S,Re),this.ctx=Re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;const S=this.ctx,U=this.groupStack.pop();if(this.ctx=U,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const X=(0,y.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...X);const se=o.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],X);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(se)}}beginAnnotation(C,S,U,X,se){if(_classPrivateMethodGet(this,ee,Le).call(this),W(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&4===S.length){const he=S[2]-S[0],Ce=S[3]-S[1];if(se&&this.annotationCanvasMap){(U=U.slice())[4]-=S[0],U[5]-=S[1],(S=S.slice())[0]=S[1]=0,S[2]=he,S[3]=Ce;const[Pe,M]=o.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(this.ctx)),{viewportScale:L}=this,re=Math.ceil(he*this.outputScaleX*L),fe=Math.ceil(Ce*this.outputScaleY*L);this.annotationCanvas=this.canvasFactory.create(re,fe);const{canvas:Se,context:Re}=this.annotationCanvas;this.annotationCanvasMap.set(C,Se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Re,this.ctx.setTransform(Pe,0,0,-M,0,Ce*M),W(this.ctx,this.foregroundColor)}else W(this.ctx,this.foregroundColor),this.ctx.rect(S[0],S[1],he,Ce),this.ctx.clip(),this.endPath()}this.current=new me(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...U),this.transform(...X)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;const S=C.count;(C=this.getObject(C.data,C)).count=S;const U=this.ctx,X=this.processingType3;if(X&&(void 0===X.compiled&&(X.compiled=function te(de){const{width:C,height:S}=de;if(C>A||S>A)return null;const X=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),se=C+1;let Ce,Pe,M,he=new Uint8Array(se*(S+1));const L=C+7&-8;let re=new Uint8Array(L*S),fe=0;for(const Ge of de.data){let We=128;for(;We>0;)re[fe++]=Ge&We?0:255,We>>=1}let Se=0;for(fe=0,0!==re[fe]&&(he[0]=1,++Se),Pe=1;Pe<C;Pe++)re[fe]!==re[fe+1]&&(he[Pe]=re[fe]?2:1,++Se),fe++;for(0!==re[fe]&&(he[Pe]=2,++Se),Ce=1;Ce<S;Ce++){fe=Ce*L,M=Ce*se,re[fe-L]!==re[fe]&&(he[M]=re[fe]?1:8,++Se);let Ge=(re[fe]?4:0)+(re[fe-L]?8:0);for(Pe=1;Pe<C;Pe++)Ge=(Ge>>2)+(re[fe+1]?4:0)+(re[fe-L+1]?8:0),X[Ge]&&(he[M+Pe]=X[Ge],++Se),fe++;if(re[fe-L]!==re[fe]&&(he[M+Pe]=re[fe]?2:4,++Se),Se>1e3)return null}for(fe=L*(S-1),M=Ce*se,0!==re[fe]&&(he[M]=8,++Se),Pe=1;Pe<C;Pe++)re[fe]!==re[fe+1]&&(he[M+Pe]=re[fe]?4:8,++Se),fe++;if(0!==re[fe]&&(he[M+Pe]=4,++Se),Se>1e3)return null;const Re=new Int32Array([0,se,-1,0,-se,0,0,0,1]),Ue=new Path2D;for(Ce=0;Se&&Ce<=S;Ce++){let Ge=Ce*se;const We=Ge+C;for(;Ge<We&&!he[Ge];)Ge++;if(Ge===We)continue;Ue.moveTo(Ge%se,Ce);const nt=Ge;let Je=he[Ge];do{const vt=Re[Je];do{Ge+=vt}while(!he[Ge]);const at=he[Ge];5!==at&&10!==at?(Je=at,he[Ge]=0):(Je=at&51*Je>>4,he[Ge]&=Je>>2|Je<<2),Ue.lineTo(Ge%se,Ge/se|0),he[Ge]||--Se}while(nt!==Ge);--Ce}return re=null,he=null,function(Ge){Ge.save(),Ge.scale(1/C,-1/S),Ge.translate(0,-S),Ge.fill(Ue),Ge.beginPath(),Ge.restore()}}(C)),X.compiled))return void X.compiled(U);const se=this._createMaskCanvas(C),he=se.canvas;U.save(),U.setTransform(1,0,0,1,0,0),U.drawImage(he,se.offsetX,se.offsetY),U.restore(),this.compose()}paintImageMaskXObjectRepeat(C,S,U=0,X=0,se,he){if(!this.contentVisible)return;C=this.getObject(C.data,C);const Ce=this.ctx;Ce.save();const Pe=(0,y.getCurrentTransform)(Ce);Ce.transform(S,U,X,se,0,0);const M=this._createMaskCanvas(C);Ce.setTransform(1,0,0,1,M.offsetX-Pe[4],M.offsetY-Pe[5]);for(let L=0,re=he.length;L<re;L+=2){const fe=o.Util.transform(Pe,[S,U,X,se,he[L],he[L+1]]),[Se,Re]=o.Util.applyTransform([0,0],fe);Ce.drawImage(M.canvas,Se,Re)}Ce.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;const S=this.ctx,U=this.current.fillColor,X=this.current.patternFill;for(const se of C){const{data:he,width:Ce,height:Pe,transform:M}=se,L=this.cachedCanvases.getCanvas("maskCanvas",Ce,Pe),re=L.context;re.save(),F(re,this.getObject(he,se)),re.globalCompositeOperation="source-in",re.fillStyle=X?U.getPattern(re,this,(0,y.getCurrentTransformInverse)(S),$.PathType.FILL):U,re.fillRect(0,0,Ce,Pe),re.restore(),S.save(),S.transform(...M),S.scale(1,-1),K(S,L.canvas,0,0,Ce,Pe,0,-1,1,1),S.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;const S=this.getObject(C);S?this.paintInlineImageXObject(S):(0,o.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(C,S,U,X){if(!this.contentVisible)return;const se=this.getObject(C);if(!se)return void(0,o.warn)("Dependent image isn't ready yet");const he=se.width,Ce=se.height,Pe=[];for(let M=0,L=X.length;M<L;M+=2)Pe.push({transform:[S,0,0,U,X[M],X[M+1]],x:0,y:0,w:he,h:Ce});this.paintInlineImageXObjectGroup(se,Pe)}paintInlineImageXObject(C){if(!this.contentVisible)return;const S=C.width,U=C.height,X=this.ctx;let se;if(this.save(),X.scale(1/S,-1/U),"function"==typeof HTMLElement&&C instanceof HTMLElement||!C.data)se=C;else{const Ce=this.cachedCanvases.getCanvas("inlineImage",S,U);B(Ce.context,C,this.current.transferMaps),se=Ce.canvas}const he=this._scaleImage(se,(0,y.getCurrentTransformInverse)(X));X.imageSmoothingEnabled=Ze((0,y.getCurrentTransform)(X),C.interpolate),K(X,he.img,0,0,he.paintWidth,he.paintHeight,0,-U,S,U),this.compose(),this.restore()}paintInlineImageXObjectGroup(C,S){if(!this.contentVisible)return;const U=this.ctx,he=this.cachedCanvases.getCanvas("inlineImage",C.width,C.height);B(he.context,C,this.current.transferMaps);for(const Pe of S)U.save(),U.transform(...Pe.transform),U.scale(1,-1),K(U,he.canvas,Pe.x,Pe.y,Pe.w,Pe.h,0,-1,1,1),U.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,S){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,S){this.markedContentStack.push("OC"===C?{visible:this.optionalContentConfig.isVisible(S)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){const S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);const U=this.ctx;this.pendingClip&&(S||(this.pendingClip===Fe?U.clip("evenodd"):U.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),U.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const C=(0,y.getCurrentTransform)(this.ctx);if(0===C[1]&&0===C[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{const S=Math.abs(C[0]*C[3]-C[2]*C[1]),U=Math.hypot(C[0],C[2]),X=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(U,X)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:C}=this.current,S=(0,y.getCurrentTransform)(this.ctx);let U,X;if(0===S[1]&&0===S[2]){const se=Math.abs(S[0]),he=Math.abs(S[3]);if(0===C)U=1/se,X=1/he;else{const Ce=se*C,Pe=he*C;U=Ce<1?1/Ce:1,X=Pe<1?1/Pe:1}}else{const se=Math.abs(S[0]*S[3]-S[2]*S[1]),he=Math.hypot(S[0],S[1]),Ce=Math.hypot(S[2],S[3]);if(0===C)U=Ce/se,X=he/se;else{const Pe=C*se;U=Ce>Pe?Ce/Pe:1,X=he>Pe?he/Pe:1}}this._cachedScaleForStroking=[U,X]}return this._cachedScaleForStroking}rescaleAndStroke(C){const{ctx:S}=this,{lineWidth:U}=this.current,[X,se]=this.getScaleForStroking();if(S.lineWidth=U||1,1===X&&1===se)return void S.stroke();let he,Ce,Pe;C&&(he=(0,y.getCurrentTransform)(S),Ce=S.getLineDash().slice(),Pe=S.lineDashOffset),S.scale(X,se);const M=Math.max(X,se);S.setLineDash(S.getLineDash().map(L=>L/M)),S.lineDashOffset/=M,S.stroke(),C&&(S.setTransform(...he),S.setLineDash(Ce),S.lineDashOffset=Pe)}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}function Le(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}m.CanvasGraphics=_e;for(const de in o.OPS)void 0!==_e.prototype[de]&&(_e.prototype[o.OPS[de]]=_e.prototype[de])},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TilingPattern=m.PathType=void 0,m.getShadingPattern=function O(K){switch(K[0]){case"RadialAxial":return new k(K);case"Mesh":return new H(K);case"Dummy":return new A}throw new Error(`Unknown IR type: ${K[0]}`)};var o=v(1),y=v(6),$=v(10);const P={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function z(K,te){if(!te||$.isNodeJS)return;const me=te[2]-te[0],B=te[3]-te[1],F=new Path2D;F.rect(te[0],te[1],me,B),K.clip(F)}m.PathType=P;class J{constructor(){this.constructor===J&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class k extends J{constructor(te){super(),this._type=te[1],this._bbox=te[2],this._colorStops=te[3],this._p0=te[4],this._p1=te[5],this._r0=te[6],this._r1=te[7],this.matrix=null}_createGradient(te){let me;"axial"===this._type?me=te.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(me=te.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const B of this._colorStops)me.addColorStop(B[0],B[1]);return me}getPattern(te,me,B,F){let N;if(F===P.STROKE||F===P.FILL){const W=me.current.getClippedPathBoundingBox(F,(0,y.getCurrentTransform)(te))||[0,0,0,0],ue=Math.ceil(W[2]-W[0])||1,ge=Math.ceil(W[3]-W[1])||1,ie=me.cachedCanvases.getCanvas("pattern",ue,ge,!0),Y=ie.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-W[0],-W[1]),B=o.Util.transform(B,[1,0,0,1,W[0],W[1]]),Y.transform(...me.baseTransform),this.matrix&&Y.transform(...this.matrix),z(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),N=te.createPattern(ie.canvas,"no-repeat");const Oe=new DOMMatrix(B);N.setTransform(Oe)}else z(te,this._bbox),N=this._createGradient(te);return N}}function Q(K,te,me,B,F,N,W,ue){const ge=te.coords,ie=te.colors,Y=K.data,Oe=4*K.width;let Ze;ge[me+1]>ge[B+1]&&(Ze=me,me=B,B=Ze,Ze=N,N=W,W=Ze),ge[B+1]>ge[F+1]&&(Ze=B,B=F,F=Ze,Ze=W,W=ue,ue=Ze),ge[me+1]>ge[B+1]&&(Ze=me,me=B,B=Ze,Ze=N,N=W,W=Ze);const Qe=(ge[me]+te.offsetX)*te.scaleX,Me=(ge[me+1]+te.offsetY)*te.scaleY,He=(ge[B]+te.offsetX)*te.scaleX,Fe=(ge[B+1]+te.offsetY)*te.scaleY,ee=(ge[F]+te.offsetX)*te.scaleX,_e=(ge[F+1]+te.offsetY)*te.scaleY;if(Me>=_e)return;const Le=ie[N],de=ie[N+1],C=ie[N+2],S=ie[W],U=ie[W+1],X=ie[W+2],se=ie[ue],he=ie[ue+1],Ce=ie[ue+2],Pe=Math.round(Me),M=Math.round(_e);let L,re,fe,Se,Re,Ue,$e,Ge;for(let We=Pe;We<=M;We++){if(We<Fe){let Ct;Ct=We<Me?0:(Me-We)/(Me-Fe),L=Qe-(Qe-He)*Ct,re=Le-(Le-S)*Ct,fe=de-(de-U)*Ct,Se=C-(C-X)*Ct}else{let Ct;Ct=We>_e?1:Fe===_e?0:(Fe-We)/(Fe-_e),L=He-(He-ee)*Ct,re=S-(S-se)*Ct,fe=U-(U-he)*Ct,Se=X-(X-Ce)*Ct}let nt;nt=We<Me?0:We>_e?1:(Me-We)/(Me-_e),Re=Qe-(Qe-ee)*nt,Ue=Le-(Le-se)*nt,$e=de-(de-he)*nt,Ge=C-(C-Ce)*nt;const Je=Math.round(Math.min(L,Re)),vt=Math.round(Math.max(L,Re));let at=Oe*We+4*Je;for(let Ct=Je;Ct<=vt;Ct++)nt=(L-Ct)/(L-Re),nt<0?nt=0:nt>1&&(nt=1),Y[at++]=re-(re-Ue)*nt|0,Y[at++]=fe-(fe-$e)*nt|0,Y[at++]=Se-(Se-Ge)*nt|0,Y[at++]=255}}function q(K,te,me){const B=te.coords,F=te.colors;let N,W;switch(te.type){case"lattice":const ue=te.verticesPerRow,ge=Math.floor(B.length/ue)-1,ie=ue-1;for(N=0;N<ge;N++){let Y=N*ue;for(let Oe=0;Oe<ie;Oe++,Y++)Q(K,me,B[Y],B[Y+1],B[Y+ue],F[Y],F[Y+1],F[Y+ue]),Q(K,me,B[Y+ue+1],B[Y+1],B[Y+ue],F[Y+ue+1],F[Y+1],F[Y+ue])}break;case"triangles":for(N=0,W=B.length;N<W;N+=3)Q(K,me,B[N],B[N+1],B[N+2],F[N],F[N+1],F[N+2]);break;default:throw new Error("illegal figure")}}class H extends J{constructor(te){super(),this._coords=te[2],this._colors=te[3],this._figures=te[4],this._bounds=te[5],this._bbox=te[7],this._background=te[8],this.matrix=null}_createMeshCanvas(te,me,B){const ue=Math.floor(this._bounds[0]),ge=Math.floor(this._bounds[1]),ie=Math.ceil(this._bounds[2])-ue,Y=Math.ceil(this._bounds[3])-ge,Oe=Math.min(Math.ceil(Math.abs(ie*te[0]*1.1)),3e3),Ze=Math.min(Math.ceil(Math.abs(Y*te[1]*1.1)),3e3),Qe=ie/Oe,Me=Y/Ze,He={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-ge,scaleX:1/Qe,scaleY:1/Me},_e=B.getCanvas("mesh",Oe+4,Ze+4,!1),Le=_e.context,de=Le.createImageData(Oe,Ze);if(me){const S=de.data;for(let U=0,X=S.length;U<X;U+=4)S[U]=me[0],S[U+1]=me[1],S[U+2]=me[2],S[U+3]=255}for(const S of this._figures)q(de,S,He);return Le.putImageData(de,2,2),{canvas:_e.canvas,offsetX:ue-2*Qe,offsetY:ge-2*Me,scaleX:Qe,scaleY:Me}}getPattern(te,me,B,F){let N;if(z(te,this._bbox),F===P.SHADING)N=o.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(te));else if(N=o.Util.singularValueDecompose2dScale(me.baseTransform),this.matrix){const ue=o.Util.singularValueDecompose2dScale(this.matrix);N=[N[0]*ue[0],N[1]*ue[1]]}const W=this._createMeshCanvas(N,F===P.SHADING?null:this._background,me.cachedCanvases);return F!==P.SHADING&&(te.setTransform(...me.baseTransform),this.matrix&&te.transform(...this.matrix)),te.translate(W.offsetX,W.offsetY),te.scale(W.scaleX,W.scaleY),te.createPattern(W.canvas,"no-repeat")}}class A extends J{getPattern(){return"hotpink"}}class x{static get MAX_PATTERN_SIZE(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(te,me,B,F,N){this.operatorList=te[2],this.matrix=te[3]||[1,0,0,1,0,0],this.bbox=te[4],this.xstep=te[5],this.ystep=te[6],this.paintType=te[7],this.tilingType=te[8],this.color=me,this.ctx=B,this.canvasGraphicsFactory=F,this.baseTransform=N}createPatternCanvas(te){const me=this.operatorList,B=this.bbox,F=this.xstep,N=this.ystep,W=this.paintType,ge=this.color,ie=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+this.tilingType);const Y=B[0],Oe=B[1],Ze=B[2],Qe=B[3],Me=o.Util.singularValueDecompose2dScale(this.matrix),He=o.Util.singularValueDecompose2dScale(this.baseTransform),Fe=[Me[0]*He[0],Me[1]*He[1]],ee=this.getSizeAndScale(F,this.ctx.canvas.width,Fe[0]),_e=this.getSizeAndScale(N,this.ctx.canvas.height,Fe[1]),Le=te.cachedCanvases.getCanvas("pattern",ee.size,_e.size,!0),de=Le.context,C=ie.createCanvasGraphics(de);C.groupLevel=te.groupLevel,this.setFillAndStrokeStyleToContext(C,W,ge);let S=Y,U=Oe,X=Ze,se=Qe;return Y<0&&(S=0,X+=Math.abs(Y)),Oe<0&&(U=0,se+=Math.abs(Oe)),de.translate(-ee.scale*S,-_e.scale*U),C.transform(ee.scale,0,0,_e.scale,0,0),de.save(),this.clipBbox(C,S,U,X,se),C.baseTransform=(0,y.getCurrentTransform)(C.ctx),C.executeOperatorList(me),C.endDrawing(),{canvas:Le.canvas,scaleX:ee.scale,scaleY:_e.scale,offsetX:S,offsetY:U}}getSizeAndScale(te,me,B){te=Math.abs(te);const F=Math.max(x.MAX_PATTERN_SIZE,me);let N=Math.ceil(te*B);return N>=F?N=F:B=N/te,{scale:B,size:N}}clipBbox(te,me,B,F,N){te.ctx.rect(me,B,F-me,N-B),te.current.updateRectMinMax((0,y.getCurrentTransform)(te.ctx),[me,B,F,N]),te.clip(),te.endPath()}setFillAndStrokeStyleToContext(te,me,B){const F=te.ctx,N=te.current;switch(me){case 1:const W=this.ctx;F.fillStyle=W.fillStyle,F.strokeStyle=W.strokeStyle,N.fillColor=W.fillStyle,N.strokeColor=W.strokeStyle;break;case 2:const ue=o.Util.makeHexColor(B[0],B[1],B[2]);F.fillStyle=ue,F.strokeStyle=ue,N.fillColor=ue,N.strokeColor=ue;break;default:throw new o.FormatError(`Unsupported paint type: ${me}`)}}getPattern(te,me,B,F){let N=B;F!==P.SHADING&&(N=o.Util.transform(N,me.baseTransform),this.matrix&&(N=o.Util.transform(N,this.matrix)));const W=this.createPatternCanvas(me);let ue=new DOMMatrix(N);ue=ue.translate(W.offsetX,W.offsetY),ue=ue.scale(1/W.scaleX,1/W.scaleY);const ge=te.createPattern(W.canvas,"repeat");return ge.setTransform(ue),ge}}m.TilingPattern=x},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.applyMaskImageData=function y({src:$,srcPos:P=0,dest:z,destPos:J=0,width:k,height:Q,inverseDecode:q=!1}){const H=o.FeatureTest.isLittleEndian?4278190080:255,[A,O]=q?[0,H]:[H,0],V=k>>3,x=7&k,K=$.length;z=new Uint32Array(z.buffer);for(let te=0;te<Q;te++){for(const B=P+V;P<B;P++){const F=P<K?$[P]:255;z[J++]=128&F?O:A,z[J++]=64&F?O:A,z[J++]=32&F?O:A,z[J++]=16&F?O:A,z[J++]=8&F?O:A,z[J++]=4&F?O:A,z[J++]=2&F?O:A,z[J++]=1&F?O:A}if(0===x)continue;const me=P<K?$[P++]:255;for(let B=0;B<x;B++)z[J++]=me&1<<7-B?O:A}return{srcPos:P,destPos:J}};var o=v(1)},(pe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GlobalWorkerOptions=void 0;const v=Object.create(null);m.GlobalWorkerOptions=v,v.workerPort=void 0===v.workerPort?null:v.workerPort,v.workerSrc=void 0===v.workerSrc?"":v.workerSrc},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.MessageHandler=void 0;var o=v(1);function P(J){switch(J instanceof Error||"object"==typeof J&&null!==J||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),J.name){case"AbortException":return new o.AbortException(J.message);case"MissingPDFException":return new o.MissingPDFException(J.message);case"PasswordException":return new o.PasswordException(J.message,J.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(J.message,J.status);case"UnknownErrorException":return new o.UnknownErrorException(J.message,J.details);default:return new o.UnknownErrorException(J.message,J.toString())}}m.MessageHandler=class z{constructor(k,Q,q){this.sourceName=k,this.targetName=Q,this.comObj=q,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=H=>{const A=H.data;if(A.targetName!==this.sourceName)return;if(A.stream)return void this._processStreamMessage(A);if(A.callback){const V=A.callbackId,x=this.callbackCapabilities[V];if(!x)throw new Error(`Cannot resolve callback ${V}`);if(delete this.callbackCapabilities[V],1===A.callback)x.resolve(A.data);else{if(2!==A.callback)throw new Error("Unexpected callback case");x.reject(P(A.reason))}return}const O=this.actionHandler[A.action];if(!O)throw new Error(`Unknown action from worker: ${A.action}`);if(A.callbackId){const V=this.sourceName,x=A.sourceName;new Promise(function(K){K(O(A.data))}).then(function(K){q.postMessage({sourceName:V,targetName:x,callback:1,callbackId:A.callbackId,data:K})},function(K){q.postMessage({sourceName:V,targetName:x,callback:2,callbackId:A.callbackId,reason:P(K)})})}else A.streamId?this._createStreamSink(A):O(A.data)},q.addEventListener("message",this._onComObjOnMessage)}on(k,Q){const q=this.actionHandler;if(q[k])throw new Error(`There is already an actionName called "${k}"`);q[k]=Q}send(k,Q,q){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,data:Q},q)}sendWithPromise(k,Q,q){const H=this.callbackId++,A=(0,o.createPromiseCapability)();this.callbackCapabilities[H]=A;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:k,callbackId:H,data:Q},q)}catch(O){A.reject(O)}return A.promise}sendWithStream(k,Q,q,H){const A=this.streamId++,O=this.sourceName,V=this.targetName,x=this.comObj;return new ReadableStream({start:K=>{const te=(0,o.createPromiseCapability)();return this.streamControllers[A]={controller:K,startCall:te,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:O,targetName:V,action:k,streamId:A,data:Q,desiredSize:K.desiredSize},H),te.promise},pull:K=>{const te=(0,o.createPromiseCapability)();return this.streamControllers[A].pullCall=te,x.postMessage({sourceName:O,targetName:V,stream:6,streamId:A,desiredSize:K.desiredSize}),te.promise},cancel:K=>{(0,o.assert)(K instanceof Error,"cancel must have a valid reason");const te=(0,o.createPromiseCapability)();return this.streamControllers[A].cancelCall=te,this.streamControllers[A].isClosed=!0,x.postMessage({sourceName:O,targetName:V,stream:1,streamId:A,reason:P(K)}),te.promise}},q)}_createStreamSink(k){const Q=k.streamId,q=this.sourceName,H=k.sourceName,A=this.comObj,O=this,V=this.actionHandler[k.action],x={enqueue(K,te=1,me){if(this.isCancelled)return;const B=this.desiredSize;this.desiredSize-=te,B>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),A.postMessage({sourceName:q,targetName:H,stream:4,streamId:Q,chunk:K},me)},close(){this.isCancelled||(this.isCancelled=!0,A.postMessage({sourceName:q,targetName:H,stream:3,streamId:Q}),delete O.streamSinks[Q])},error(K){(0,o.assert)(K instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,A.postMessage({sourceName:q,targetName:H,stream:5,streamId:Q,reason:P(K)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[Q]=x,new Promise(function(K){K(V(k.data,x))}).then(function(){A.postMessage({sourceName:q,targetName:H,stream:8,streamId:Q,success:!0})},function(K){A.postMessage({sourceName:q,targetName:H,stream:8,streamId:Q,reason:P(K)})})}_processStreamMessage(k){const Q=k.streamId,q=this.sourceName,H=k.sourceName,A=this.comObj,O=this.streamControllers[Q],V=this.streamSinks[Q];switch(k.stream){case 8:k.success?O.startCall.resolve():O.startCall.reject(P(k.reason));break;case 7:k.success?O.pullCall.resolve():O.pullCall.reject(P(k.reason));break;case 6:if(!V){A.postMessage({sourceName:q,targetName:H,stream:7,streamId:Q,success:!0});break}V.desiredSize<=0&&k.desiredSize>0&&V.sinkCapability.resolve(),V.desiredSize=k.desiredSize,new Promise(function(x){x(V.onPull&&V.onPull())}).then(function(){A.postMessage({sourceName:q,targetName:H,stream:7,streamId:Q,success:!0})},function(x){A.postMessage({sourceName:q,targetName:H,stream:7,streamId:Q,reason:P(x)})});break;case 4:if((0,o.assert)(O,"enqueue should have stream controller"),O.isClosed)break;O.controller.enqueue(k.chunk);break;case 3:if((0,o.assert)(O,"close should have stream controller"),O.isClosed)break;O.isClosed=!0,O.controller.close(),this._deleteStreamController(O,Q);break;case 5:(0,o.assert)(O,"error should have stream controller"),O.controller.error(P(k.reason)),this._deleteStreamController(O,Q);break;case 2:k.success?O.cancelCall.resolve():O.cancelCall.reject(P(k.reason)),this._deleteStreamController(O,Q);break;case 1:if(!V)break;new Promise(function(x){x(V.onCancel&&V.onCancel(P(k.reason)))}).then(function(){A.postMessage({sourceName:q,targetName:H,stream:2,streamId:Q,success:!0})},function(x){A.postMessage({sourceName:q,targetName:H,stream:2,streamId:Q,reason:P(x)})}),V.sinkCapability.reject(P(k.reason)),V.isCancelled=!0,delete this.streamSinks[Q];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(k,Q){var q=this;return _asyncToGenerator(function*(){yield Promise.allSettled([k.startCall&&k.startCall.promise,k.pullCall&&k.pullCall.promise,k.cancelCall&&k.cancelCall.promise]),delete q.streamControllers[Q]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.Metadata=void 0;var o=v(1),y=new WeakMap,$=new WeakMap;m.Metadata=class P{constructor({parsedData:J,rawData:k}){_classPrivateFieldInitSpec(this,y,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:void 0}),_classPrivateFieldSet(this,y,J),_classPrivateFieldSet(this,$,k)}getRaw(){return _classPrivateFieldGet(this,$)}get(J){return _classPrivateFieldGet(this,y).get(J)??null}getAll(){return(0,o.objectFromMap)(_classPrivateFieldGet(this,y))}has(J){return _classPrivateFieldGet(this,y).has(J)}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.OptionalContentConfig=void 0;var o=v(1),y=v(8);const $=Symbol("INTERNAL");var P=new WeakMap;class z{constructor(x,K){_classPrivateFieldInitSpec(this,P,{writable:!0,value:!0}),this.name=x,this.intent=K}get visible(){return _classPrivateFieldGet(this,P)}_setVisible(x,K){x!==$&&(0,o.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,P,K)}}var J=new WeakMap,k=new WeakMap,Q=new WeakMap,q=new WeakMap,H=new WeakSet;function O(V){const x=V.length;if(x<2)return!0;const K=V[0];for(let te=1;te<x;te++){const me=V[te];let B;if(Array.isArray(me))B=_classPrivateMethodGet(this,H,O).call(this,me);else{if(!_classPrivateFieldGet(this,k).has(me))return(0,o.warn)(`Optional content group not found: ${me}`),!0;B=_classPrivateFieldGet(this,k).get(me).visible}switch(K){case"And":if(!B)return!1;break;case"Or":if(B)return!0;break;case"Not":return!B;default:return!0}}return"And"===K}m.OptionalContentConfig=class A{constructor(x){if(_classPrivateMethodInitSpec(this,H),_classPrivateFieldInitSpec(this,J,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:null}),this.name=null,this.creator=null,null!==x){this.name=x.name,this.creator=x.creator,_classPrivateFieldSet(this,q,x.order);for(const K of x.groups)_classPrivateFieldGet(this,k).set(K.id,new z(K.name,K.intent));if("OFF"===x.baseState)for(const K of _classPrivateFieldGet(this,k).values())K._setVisible($,!1);for(const K of x.on)_classPrivateFieldGet(this,k).get(K)._setVisible($,!0);for(const K of x.off)_classPrivateFieldGet(this,k).get(K)._setVisible($,!1);_classPrivateFieldSet(this,Q,this.getHash())}}isVisible(x){if(0===_classPrivateFieldGet(this,k).size)return!0;if(!x)return(0,o.warn)("Optional content group not defined."),!0;if("OCG"===x.type)return _classPrivateFieldGet(this,k).has(x.id)?_classPrivateFieldGet(this,k).get(x.id).visible:((0,o.warn)(`Optional content group not found: ${x.id}`),!0);if("OCMD"===x.type){if(x.expression)return _classPrivateMethodGet(this,H,O).call(this,x.expression);if(!x.policy||"AnyOn"===x.policy){for(const K of x.ids){if(!_classPrivateFieldGet(this,k).has(K))return(0,o.warn)(`Optional content group not found: ${K}`),!0;if(_classPrivateFieldGet(this,k).get(K).visible)return!0}return!1}if("AllOn"===x.policy){for(const K of x.ids){if(!_classPrivateFieldGet(this,k).has(K))return(0,o.warn)(`Optional content group not found: ${K}`),!0;if(!_classPrivateFieldGet(this,k).get(K).visible)return!1}return!0}if("AnyOff"===x.policy){for(const K of x.ids){if(!_classPrivateFieldGet(this,k).has(K))return(0,o.warn)(`Optional content group not found: ${K}`),!0;if(!_classPrivateFieldGet(this,k).get(K).visible)return!0}return!1}if("AllOff"===x.policy){for(const K of x.ids){if(!_classPrivateFieldGet(this,k).has(K))return(0,o.warn)(`Optional content group not found: ${K}`),!0;if(_classPrivateFieldGet(this,k).get(K).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,o.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,K=!0){_classPrivateFieldGet(this,k).has(x)?(_classPrivateFieldGet(this,k).get(x)._setVisible($,!!K),_classPrivateFieldSet(this,J,null)):(0,o.warn)(`Optional content group not found: ${x}`)}get hasInitialVisibility(){return this.getHash()===_classPrivateFieldGet(this,Q)}getOrder(){return _classPrivateFieldGet(this,k).size?_classPrivateFieldGet(this,q)?_classPrivateFieldGet(this,q).slice():[..._classPrivateFieldGet(this,k).keys()]:null}getGroups(){return _classPrivateFieldGet(this,k).size>0?(0,o.objectFromMap)(_classPrivateFieldGet(this,k)):null}getGroup(x){return _classPrivateFieldGet(this,k).get(x)||null}getHash(){if(null!==_classPrivateFieldGet(this,J))return _classPrivateFieldGet(this,J);const x=new y.MurmurHash3_64;for(const[K,te]of _classPrivateFieldGet(this,k))x.update(`${K}:${te.visible}`);return _classPrivateFieldSet(this,J,x.hexdigest())}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFDataTransportStream=void 0;var o=v(1),y=v(6);m.PDFDataTransportStream=class ${constructor(k,Q){(0,o.assert)(Q,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=k.progressiveDone||!1,this._contentDispositionFilename=k.contentDispositionFilename||null;const q=k.initialData;if(q?.length>0){const H=new Uint8Array(q).buffer;this._queuedChunks.push(H)}this._pdfDataRangeTransport=Q,this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._contentLength=k.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((H,A)=>{this._onReceiveData({begin:H,chunk:A})}),this._pdfDataRangeTransport.addProgressListener((H,A)=>{this._onProgress({loaded:H,total:A})}),this._pdfDataRangeTransport.addProgressiveReadListener(H=>{this._onReceiveData({chunk:H})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(k){const Q=new Uint8Array(k.chunk).buffer;if(void 0===k.begin)this._fullRequestReader?this._fullRequestReader._enqueue(Q):this._queuedChunks.push(Q);else{const q=this._rangeReaders.some(function(H){return H._begin===k.begin&&(H._enqueue(Q),!0)});(0,o.assert)(q,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(k){void 0===k.total?this._rangeReaders[0]?.onProgress?.({loaded:k.loaded}):this._fullRequestReader?.onProgress?.({loaded:k.loaded,total:k.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(k){const Q=this._rangeReaders.indexOf(k);Q>=0&&this._rangeReaders.splice(Q,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const k=this._queuedChunks;return this._queuedChunks=null,new P(this,k,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(k,Q){if(Q<=this._progressiveDataLength)return null;const q=new z(this,k,Q);return this._pdfDataRangeTransport.requestDataRange(k,Q),this._rangeReaders.push(q),q}cancelAllRequests(k){this._fullRequestReader?.cancel(k);for(const Q of this._rangeReaders.slice(0))Q.cancel(k);this._pdfDataRangeTransport.abort()}};class P{constructor(k,Q,q=!1,H=null){this._stream=k,this._done=q||!1,this._filename=(0,y.isPdfFile)(H)?H:null,this._queuedChunks=Q||[],this._loaded=0;for(const A of this._queuedChunks)this._loaded+=A.byteLength;this._requests=[],this._headersReady=Promise.resolve(),k._fullRequestReader=this,this.onProgress=null}_enqueue(k){this._done||(this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunks.push(k),this._loaded+=k.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var k=this;return _asyncToGenerator(function*(){if(k._queuedChunks.length>0)return{value:k._queuedChunks.shift(),done:!1};if(k._done)return{value:void 0,done:!0};const Q=(0,o.createPromiseCapability)();return k._requests.push(Q),Q.promise})()}cancel(k){this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class z{constructor(k,Q,q){this._stream=k,this._begin=Q,this._end=q,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(k){if(!this._done){if(0===this._requests.length)this._queuedChunk=k;else{this._requests.shift().resolve({value:k,done:!1});for(const q of this._requests)q.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var k=this;return _asyncToGenerator(function*(){if(k._queuedChunk){const q=k._queuedChunk;return k._queuedChunk=null,{value:q,done:!1}}if(k._done)return{value:void 0,done:!0};const Q=(0,o.createPromiseCapability)();return k._requests.push(Q),Q.promise})()}cancel(k){this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(pe,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaText=void 0;class v{static textContent(y){const $=[],P={items:$,styles:Object.create(null)};return function z(J){if(!J)return;let k=null;const Q=J.name;if("#text"===Q)k=J.value;else{if(!v.shouldBuildText(Q))return;J?.attributes?.textContent?k=J.attributes.textContent:J.value&&(k=J.value)}if(null!==k&&$.push({str:k}),J.children)for(const q of J.children)z(q)}(y),P}static shouldBuildText(y){return!("textarea"===y||"input"===y||"option"===y||"select"===y)}}m.XfaText=v},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NodeStandardFontDataFactory=m.NodeCanvasFactory=m.NodeCMapReaderFactory=void 0;var o=v(7);const y=function(J){return new Promise((k,Q)=>{__webpack_require__(172).readFile(J,(H,A)=>{!H&&A?k(new Uint8Array(A)):Q(new Error(H))})})};m.NodeCanvasFactory=class $ extends o.BaseCanvasFactory{_createCanvas(k,Q){return __webpack_require__(3414).createCanvas(k,Q)}},m.NodeCMapReaderFactory=class P extends o.BaseCMapReaderFactory{_fetchData(k,Q){return y(k).then(q=>({cMapData:q,compressionType:Q}))}},m.NodeStandardFontDataFactory=class z extends o.BaseStandardFontDataFactory{_fetchData(k){return y(k)}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerRenderTask=void 0,m.renderTextLayer=function V(K){!K.textContentSource&&(K.textContent||K.textContentStream)&&((0,y.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),K.textContentSource=K.textContent||K.textContentStream);const te=new O(K);return te._render(),te},m.updateTextLayer=function x({container:K,viewport:te,textDivs:me,textDivProperties:B,isOffscreenCanvasSupported:F,mustRotate:N=!0,mustRescale:W=!0}){if(N&&(0,y.setLayerDimensions)(K,{rotation:te.rotation}),W){const ue=k(0,F),ie={prevFontSize:null,prevFontFamily:null,div:null,scale:te.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ue};for(const Y of me)ie.properties=B.get(Y),ie.div=Y,H(ie)}};var o=v(1),y=v(6);const P=30,J=new Map;function k(K,te){let me;if(te&&o.FeatureTest.isOffscreenCanvasSupported)me=new OffscreenCanvas(K,K).getContext("2d",{alpha:!1});else{const B=document.createElement("canvas");B.width=B.height=K,me=B.getContext("2d",{alpha:!1})}return me}function q(K,te,me){const B=document.createElement("span"),F={angle:0,canvasWidth:0,hasText:""!==te.str,hasEOL:te.hasEOL,fontSize:0};K._textDivs.push(B);const N=o.Util.transform(K._transform,te.transform);let W=Math.atan2(N[1],N[0]);const ue=me[te.fontName];ue.vertical&&(W+=Math.PI/2);const ge=Math.hypot(N[2],N[3]),ie=ge*function Q(K,te){const me=J.get(K);if(me)return me;const B=k(P,te);B.font=`30px ${K}`;const F=B.measureText("");let N=F.fontBoundingBoxAscent,W=Math.abs(F.fontBoundingBoxDescent);if(N){const ge=N/(N+W);return J.set(K,ge),B.canvas.width=B.canvas.height=0,ge}B.strokeStyle="red",B.clearRect(0,0,P,P),B.strokeText("g",0,0);let ue=B.getImageData(0,0,P,P).data;W=0;for(let ge=ue.length-1-3;ge>=0;ge-=4)if(ue[ge]>0){W=Math.ceil(ge/4/P);break}B.clearRect(0,0,P,P),B.strokeText("A",0,P),ue=B.getImageData(0,0,P,P).data,N=0;for(let ge=0,ie=ue.length;ge<ie;ge+=4)if(ue[ge]>0){N=P-Math.floor(ge/4/P);break}if(B.canvas.width=B.canvas.height=0,N){const ge=N/(N+W);return J.set(K,ge),ge}return J.set(K,.8),.8}(ue.fontFamily,K._isOffscreenCanvasSupported);let Y,Oe;0===W?(Y=N[4],Oe=N[5]-ie):(Y=N[4]+ie*Math.sin(W),Oe=N[5]-ie*Math.cos(W));const Ze="calc(var(--scale-factor)*",Qe=B.style;K._container===K._rootContainer?(Qe.left=`${(100*Y/K._pageWidth).toFixed(2)}%`,Qe.top=`${(100*Oe/K._pageHeight).toFixed(2)}%`):(Qe.left=`${Ze}${Y.toFixed(2)}px)`,Qe.top=`${Ze}${Oe.toFixed(2)}px)`),Qe.fontSize=`${Ze}${ge.toFixed(2)}px)`,Qe.fontFamily=ue.fontFamily,F.fontSize=ge,B.setAttribute("role","presentation"),B.textContent=te.str,B.dir=te.dir,K._fontInspectorEnabled&&(B.dataset.fontName=te.fontName),0!==W&&(F.angle=W*(180/Math.PI));let Me=!1;if(te.str.length>1)Me=!0;else if(" "!==te.str&&te.transform[0]!==te.transform[3]){const He=Math.abs(te.transform[0]),Fe=Math.abs(te.transform[3]);He!==Fe&&Math.max(He,Fe)/Math.min(He,Fe)>1.5&&(Me=!0)}Me&&(F.canvasWidth=ue.vertical?te.height:te.width),K._textDivProperties.set(B,F),K._isReadableStream&&K._layoutText(B)}function H(K){const{div:te,scale:me,properties:B,ctx:F,prevFontSize:N,prevFontFamily:W}=K,{style:ue}=te;let ge="";if(0!==B.canvasWidth&&B.hasText){const{fontFamily:ie}=ue,{canvasWidth:Y,fontSize:Oe}=B;(N!==Oe||W!==ie)&&(F.font=`${Oe*me}px ${ie}`,K.prevFontSize=Oe,K.prevFontFamily=ie);const{width:Ze}=F.measureText(te.textContent);Ze>0&&(ge=`scaleX(${Y*me/Ze})`)}0!==B.angle&&(ge=`rotate(${B.angle}deg) ${ge}`),ge.length>0&&(ue.transform=ge)}class O{constructor({textContentSource:te,container:me,viewport:B,textDivs:F,textDivProperties:N,textContentItemsStr:W,isOffscreenCanvasSupported:ue}){this._textContentSource=te,this._isReadableStream=te instanceof ReadableStream,this._container=this._rootContainer=me,this._textDivs=F||[],this._textContentItemsStr=W||[],this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=N||new WeakMap,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:B.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:k(0,ue)};const{pageWidth:ge,pageHeight:ie,pageX:Y,pageY:Oe}=B.rawDims;this._transform=[1,0,0,-1,-Y,Oe+ie],this._pageWidth=ge,this._pageHeight=ie,(0,y.setLayerDimensions)(me,B),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(te,me){for(const B of te)if(void 0!==B.str)this._textContentItemsStr.push(B.str),q(this,B,me);else if("beginMarkedContentProps"===B.type||"beginMarkedContent"===B.type){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==B.id&&this._container.setAttribute("id",`${B.id}`),F.append(this._container)}else"endMarkedContent"===B.type&&(this._container=this._container.parentNode)}_layoutText(te){const me=this._layoutTextParams.properties=this._textDivProperties.get(te);if(this._layoutTextParams.div=te,H(this._layoutTextParams),me.hasText&&this._container.append(te),me.hasEOL){const B=document.createElement("br");B.setAttribute("role","presentation"),this._container.append(B)}}_render(){const te=(0,o.createPromiseCapability)();let me=Object.create(null);if(this._isReadableStream){const B=()=>{this._reader.read().then(({value:F,done:N})=>{N?te.resolve():(Object.assign(me,F.styles),this._processItems(F.items,me),B())},te.reject)};this._reader=this._textContentSource.getReader(),B()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:B,styles:F}=this._textContentSource;this._processItems(B,F),te.resolve()}}te.promise.then(()=>{me=null,function A(K){if(K._canceled)return;const te=K._textDivs,me=K._capability;if(te.length>1e5)me.resolve();else{if(!K._isReadableStream)for(const F of te)K._layoutText(F);me.resolve()}}(this)},this._capability.reject)}}m.TextLayerRenderTask=O},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationEditorLayer=void 0;var o=v(1),y=v(5),$=v(23),P=v(24),z=v(6);m.AnnotationEditorLayer=(()=>{var k=new WeakMap,Q=new WeakMap,q=new WeakMap,H=new WeakMap,A=new WeakMap,O=new WeakMap,V=new WeakMap,x=new WeakMap,K=new WeakSet,te=new WeakSet,me=new WeakSet,B=new WeakSet;class F{constructor(Y){_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,me),_classPrivateMethodInitSpec(this,te),_classPrivateMethodInitSpec(this,K),_classPrivateFieldInitSpec(this,k,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:void 0}),F._initialized||(F._initialized=!0,$.FreeTextEditor.initialize(Y.l10n),P.InkEditor.initialize(Y.l10n)),Y.uiManager.registerEditorTypes([$.FreeTextEditor,P.InkEditor]),_classPrivateFieldSet(this,x,Y.uiManager),this.pageIndex=Y.pageIndex,this.div=Y.div,_classPrivateFieldSet(this,k,Y.accessibilityManager),_classPrivateFieldGet(this,x).addLayer(this)}updateToolbar(Y){_classPrivateFieldGet(this,x).updateToolbar(Y)}updateMode(Y=_classPrivateFieldGet(this,x).getMode()){_classPrivateMethodGet(this,B,ge).call(this),Y===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,x).unselectAll(),this.div.classList.toggle("freeTextEditing",Y===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Y===o.AnnotationEditorType.INK)}addInkEditorIfNeeded(Y){if(Y||_classPrivateFieldGet(this,x).getMode()===o.AnnotationEditorType.INK){if(!Y)for(const Ze of _classPrivateFieldGet(this,A).values())if(Ze.isEmpty())return void Ze.setInBackground();_classPrivateMethodGet(this,me,ue).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(Y){_classPrivateFieldGet(this,x).setEditingState(Y)}addCommands(Y){_classPrivateFieldGet(this,x).addCommands(Y)}enable(){this.div.style.pointerEvents="auto";for(const Y of _classPrivateFieldGet(this,A).values())Y.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Y of _classPrivateFieldGet(this,A).values())Y.disableEditing()}setActiveEditor(Y){_classPrivateFieldGet(this,x).getActive()!==Y&&_classPrivateFieldGet(this,x).setActiveEditor(Y)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,H)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,q))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,H)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,q))}attach(Y){_classPrivateFieldGet(this,A).set(Y.id,Y)}detach(Y){_classPrivateFieldGet(this,A).delete(Y.id),_classPrivateFieldGet(this,k)?.removePointerInTextLayer(Y.contentDiv)}remove(Y){_classPrivateFieldGet(this,x).removeEditor(Y),this.detach(Y),Y.div.style.display="none",setTimeout(()=>{Y.div.style.display="",Y.div.remove(),Y.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(this,x).focusMainContainer()},0),_classPrivateFieldGet(this,V)||this.addInkEditorIfNeeded(!1)}add(Y){if(_classPrivateMethodGet(this,K,N).call(this,Y),_classPrivateFieldGet(this,x).addEditor(Y),this.attach(Y),!Y.isAttachedToDOM){const Oe=Y.render();this.div.append(Oe),Y.isAttachedToDOM=!0}this.moveEditorInDOM(Y),Y.onceAdded(),_classPrivateFieldGet(this,x).addToAnnotationStorage(Y)}moveEditorInDOM(Y){_classPrivateFieldGet(this,k)?.moveElementInDOM(this.div,Y.div,Y.contentDiv,!0)}addOrRebuild(Y){Y.needsToBeRebuilt()?Y.rebuild():this.add(Y)}addANewEditor(Y){this.addCommands({cmd:()=>{this.addOrRebuild(Y)},undo:()=>{Y.remove()},mustExec:!0})}addUndoableEditor(Y){this.addCommands({cmd:()=>{this.addOrRebuild(Y)},undo:()=>{Y.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,x).getId()}deserialize(Y){switch(Y.annotationType){case o.AnnotationEditorType.FREETEXT:return $.FreeTextEditor.deserialize(Y,this,_classPrivateFieldGet(this,x));case o.AnnotationEditorType.INK:return P.InkEditor.deserialize(Y,this,_classPrivateFieldGet(this,x))}return null}setSelected(Y){_classPrivateFieldGet(this,x).setSelected(Y)}toggleSelected(Y){_classPrivateFieldGet(this,x).toggleSelected(Y)}isSelected(Y){return _classPrivateFieldGet(this,x).isSelected(Y)}unselect(Y){_classPrivateFieldGet(this,x).unselect(Y)}pointerup(Y){const{isMac:Oe}=o.FeatureTest.platform;if(!(0!==Y.button||Y.ctrlKey&&Oe)&&Y.target===this.div&&_classPrivateFieldGet(this,O)){if(_classPrivateFieldSet(this,O,!1),!_classPrivateFieldGet(this,Q))return void _classPrivateFieldSet(this,Q,!0);_classPrivateMethodGet(this,me,ue).call(this,Y)}}pointerdown(Y){const{isMac:Oe}=o.FeatureTest.platform;if(0!==Y.button||Y.ctrlKey&&Oe||Y.target!==this.div)return;_classPrivateFieldSet(this,O,!0);const Ze=_classPrivateFieldGet(this,x).getActive();_classPrivateFieldSet(this,Q,!Ze||Ze.isEmpty())}drop(Y){const Oe=Y.dataTransfer.getData("text/plain"),Ze=_classPrivateFieldGet(this,x).getEditor(Oe);if(!Ze)return;Y.preventDefault(),Y.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,K,N).call(this,Ze);const Qe=this.div.getBoundingClientRect();Ze.translate(Y.clientX-Qe.x-Ze.startX,Y.clientY-Qe.y-Ze.startY),this.moveEditorInDOM(Ze),Ze.div.focus()}dragover(Y){Y.preventDefault()}destroy(){_classPrivateFieldGet(this,x).getActive()?.parent===this&&_classPrivateFieldGet(this,x).setActiveEditor(null);for(const Y of _classPrivateFieldGet(this,A).values())_classPrivateFieldGet(this,k)?.removePointerInTextLayer(Y.contentDiv),Y.setParent(null),Y.isAttachedToDOM=!1,Y.div.remove();this.div=null,_classPrivateFieldGet(this,A).clear(),_classPrivateFieldGet(this,x).removeLayer(this)}render({viewport:Y}){this.viewport=Y,(0,z.setLayerDimensions)(this.div,Y),(0,y.bindEvents)(this,this.div,["dragover","drop"]);for(const Oe of _classPrivateFieldGet(this,x).getEditors(this.pageIndex))this.add(Oe);this.updateMode()}update({viewport:Y}){_classPrivateFieldGet(this,x).commitOrRemove(),this.viewport=Y,(0,z.setLayerDimensions)(this.div,{rotation:Y.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Y,pageHeight:Oe}=this.viewport.rawDims;return[Y,Oe]}}function N(ie){ie.parent!==this&&(this.attach(ie),ie.parent?.detach(ie),ie.setParent(this),ie.div&&ie.isAttachedToDOM&&(ie.div.remove(),this.div.append(ie.div)))}function W(ie){switch(_classPrivateFieldGet(this,x).getMode()){case o.AnnotationEditorType.FREETEXT:return new $.FreeTextEditor(ie);case o.AnnotationEditorType.INK:return new P.InkEditor(ie)}return null}function ue(ie){const Y=this.getNextId(),Oe=_classPrivateMethodGet(this,te,W).call(this,{parent:this,id:Y,x:ie.offsetX,y:ie.offsetY,uiManager:_classPrivateFieldGet(this,x)});return Oe&&this.add(Oe),Oe}function ge(){_classPrivateFieldSet(this,V,!0);for(const ie of _classPrivateFieldGet(this,A).values())ie.isEmpty()&&ie.remove();_classPrivateFieldSet(this,V,!1)}return _defineProperty(F,"_initialized",!1),F})()},(pe,m,v)=>{var o;Object.defineProperty(m,"__esModule",{value:!0}),m.FreeTextEditor=void 0;var y=v(1),$=v(5),P=v(4),z=new WeakMap,J=new WeakMap,k=new WeakMap,Q=new WeakMap,q=new WeakMap,H=new WeakMap,A=new WeakMap,O=new WeakMap,V=new WeakMap,x=new WeakSet,K=new WeakSet,te=new WeakSet,me=new WeakSet;class B extends P.AnnotationEditor{constructor(ie){super({...ie,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,me),_classPrivateMethodInitSpec(this,te),_classPrivateMethodInitSpec(this,K),_classPrivateMethodInitSpec(this,x),_classPrivateFieldInitSpec(this,z,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.editorDivInput.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:`${this.id}-editor`}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:void 0}),_classPrivateFieldSet(this,q,ie.color||B._defaultColor||P.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,V,ie.fontSize||B._defaultFontSize)}static initialize(ie){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Oe=>[Oe,ie.get(Oe)]));const Y=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Y.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ie,Y){switch(ie){case y.AnnotationEditorParamsType.FREETEXT_SIZE:B._defaultFontSize=Y;break;case y.AnnotationEditorParamsType.FREETEXT_COLOR:B._defaultColor=Y}}updateParams(ie,Y){switch(ie){case y.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,x,F).call(this,Y);break;case y.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,K,N).call(this,Y)}}static get defaultPropertiesToUpdate(){return[[y.AnnotationEditorParamsType.FREETEXT_SIZE,B._defaultFontSize],[y.AnnotationEditorParamsType.FREETEXT_COLOR,B._defaultColor||P.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[y.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,V)],[y.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,q)]]}getInitialTranslation(){const ie=this.parentScale;return[-B._internalPadding*ie,-(B._internalPadding+_classPrivateFieldGet(this,V))*ie]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(y.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,Q)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,J)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,z)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,k)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,A)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,Q)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,J)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,z)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,k)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ie){super.focusin(ie),ie.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),_classPrivateFieldGet(this,O)||(_classPrivateFieldSet(this,O,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,H,_classPrivateMethodGet(this,te,W).call(this).trimEnd()),_classPrivateMethodGet(this,me,ue).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ie){this.enableEditMode(),this.editorDiv.focus()}keydown(ie){ie.target===this.div&&"Enter"===ie.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ie){B._keyboardManager.exec(this,ie)}editorDivFocus(ie){this.isEditing=!0}editorDivBlur(ie){this.isEditing=!1}editorDivInput(ie){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ie,Y;this.width&&(ie=this.x,Y=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,A)),this.enableEditing(),B._l10nPromise.get("editor_free_text2_aria_label").then(Ze=>this.editorDiv?.setAttribute("aria-label",Ze)),B._l10nPromise.get("free_text2_default_content").then(Ze=>this.editorDiv?.setAttribute("default-content",Ze)),this.editorDiv.contentEditable=!0;const{style:Oe}=this.editorDiv;if(Oe.fontSize=`calc(${_classPrivateFieldGet(this,V)}px * var(--scale-factor))`,Oe.color=_classPrivateFieldGet(this,q),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,$.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ze,Qe]=this.parentDimensions;this.setAt(ie*Ze,Y*Qe,this.width*Ze,this.height*Qe);for(const Me of _classPrivateFieldGet(this,H).split("\n")){const He=document.createElement("div");He.append(Me?document.createTextNode(Me):document.createElement("br")),this.editorDiv.append(He)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ie,Y,Oe){const Ze=super.deserialize(ie,Y,Oe);return _classPrivateFieldSet(Ze,V,ie.fontSize),_classPrivateFieldSet(Ze,q,y.Util.makeHexColor(...ie.color)),_classPrivateFieldSet(Ze,H,ie.value),Ze}serialize(){if(this.isEmpty())return null;const ie=B._internalPadding*this.parentScale,Y=this.getRect(ie,ie),Oe=P.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,q));return{annotationType:y.AnnotationEditorType.FREETEXT,color:Oe,fontSize:_classPrivateFieldGet(this,V),value:_classPrivateFieldGet(this,H),pageIndex:this.pageIndex,rect:Y,rotation:this.rotation}}}function F(ge){const ie=Oe=>{this.editorDiv.style.fontSize=`calc(${Oe}px * var(--scale-factor))`,this.translate(0,-(Oe-_classPrivateFieldGet(this,V))*this.parentScale),_classPrivateFieldSet(this,V,Oe),_classPrivateMethodGet(this,me,ue).call(this)},Y=_classPrivateFieldGet(this,V);this.addCommands({cmd:()=>{ie(ge)},undo:()=>{ie(Y)},mustExec:!0,type:y.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function N(ge){const ie=_classPrivateFieldGet(this,q);this.addCommands({cmd:()=>{_classPrivateFieldSet(this,q,this.editorDiv.style.color=ge)},undo:()=>{_classPrivateFieldSet(this,q,this.editorDiv.style.color=ie)},mustExec:!0,type:y.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function W(){const ge=this.editorDiv.getElementsByTagName("div");if(0===ge.length)return this.editorDiv.innerText;const ie=[];for(const Y of ge)ie.push(Y.innerText.replace(/\r\n?|\n/,""));return ie.join("\n")}function ue(){const[ge,ie]=this.parentDimensions;let Y;if(this.isAttachedToDOM)Y=this.div.getBoundingClientRect();else{const{currentLayer:Oe,div:Ze}=this,Qe=Ze.style.display;Ze.style.display="hidden",Oe.div.append(this.div),Y=Ze.getBoundingClientRect(),Ze.remove(),Ze.style.display=Qe}this.width=Y.width/ge,this.height=Y.height/ie}o=B,_defineProperty(B,"_freeTextDefaultContent",""),_defineProperty(B,"_l10nPromise",void 0),_defineProperty(B,"_internalPadding",0),_defineProperty(B,"_defaultColor",null),_defineProperty(B,"_defaultFontSize",10),_defineProperty(B,"_keyboardManager",new $.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.prototype.commitOrRemove]])),_defineProperty(B,"_type","freetext"),m.FreeTextEditor=B},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.InkEditor=void 0,Object.defineProperty(m,"fitCurve",{enumerable:!0,get:function(){return $.fitCurve}});var o=v(1),y=v(4),$=v(25),P=v(5);const z=16;m.InkEditor=(()=>{var Q,q=new WeakMap,H=new WeakMap,A=new WeakMap,O=new WeakMap,V=new WeakMap,x=new WeakMap,K=new WeakMap,te=new WeakMap,me=new WeakMap,B=new WeakMap,F=new WeakMap,N=new WeakMap,W=new WeakMap,ue=new WeakMap,ge=new WeakSet,ie=new WeakSet,Y=new WeakSet,Oe=new WeakSet,Ze=new WeakSet,Qe=new WeakSet,Me=new WeakSet,He=new WeakSet,Fe=new WeakSet,ee=new WeakSet,_e=new WeakSet,Le=new WeakSet,de=new WeakSet,C=new WeakSet,S=new WeakSet,U=new WeakSet,X=new WeakSet,se=new WeakSet,he=new WeakSet,Ce=new WeakSet,Pe=new WeakSet,M=new WeakSet;class L extends y.AnnotationEditor{constructor(ae){super({...ae,name:"inkEditor"}),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,Pe),_classPrivateMethodInitSpec(this,Ce),_classPrivateMethodInitSpec(this,he),_classPrivateMethodInitSpec(this,se),_classPrivateMethodInitSpec(this,X),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,de),_classPrivateMethodInitSpec(this,Le),_classPrivateMethodInitSpec(this,_e),_classPrivateMethodInitSpec(this,ee),_classPrivateMethodInitSpec(this,Fe),_classPrivateMethodInitSpec(this,He),_classPrivateMethodInitSpec(this,Me),_classPrivateMethodInitSpec(this,Qe),_classPrivateMethodInitSpec(this,Ze),_classPrivateMethodInitSpec(this,Oe),_classPrivateMethodInitSpec(this,Y),_classPrivateMethodInitSpec(this,ie),_classPrivateMethodInitSpec(this,ge),_classPrivateFieldInitSpec(this,q,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,K,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,me,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,F,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,ue,{writable:!0,value:null}),this.color=ae.color||null,this.thickness=ae.thickness||null,this.opacity=ae.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ae){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(we=>[we,ae.get(we)]))}static updateDefaultParams(ae,we){switch(ae){case o.AnnotationEditorParamsType.INK_THICKNESS:L._defaultThickness=we;break;case o.AnnotationEditorParamsType.INK_COLOR:L._defaultColor=we;break;case o.AnnotationEditorParamsType.INK_OPACITY:L._defaultOpacity=we/100}}updateParams(ae,we){switch(ae){case o.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,ge,re).call(this,we);break;case o.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,ie,fe).call(this,we);break;case o.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,Y,Se).call(this,we)}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,L._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,L._defaultColor||y.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*L._defaultOpacity)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||L._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||L._defaultColor||y.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??L._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,_e,vt).call(this),_classPrivateMethodGet(this,Le,at).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,de,Ct).call(this)),_classPrivateMethodGet(this,Pe,Dt).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,F).disconnect(),_classPrivateFieldSet(this,F,null),super.remove())}setParent(ae){!this.parent&&ae?this._uiManager.removeShouldRescale(this):this.parent&&null===ae&&this._uiManager.addShouldRescale(this),super.setParent(ae)}onScaleChanging(){const[ae,we]=this.parentDimensions;this.setDimensions(this.width*ae,this.height*we)}enableEditMode(){_classPrivateFieldGet(this,te)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,K)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,x)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,K)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,x)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,te)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,te,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,Pe,Dt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(ae){super.focusin(ae),this.enableEditMode()}canvasPointerdown(ae){0!==ae.button||!this.isInEditMode()||_classPrivateFieldGet(this,te)||(this.setInForeground(),"mouse"!==ae.type&&this.div.focus(),ae.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,V)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,O)),_classPrivateMethodGet(this,Qe,$e).call(this,ae.offsetX,ae.offsetY))}canvasPointermove(ae){ae.stopPropagation(),_classPrivateMethodGet(this,Me,Ge).call(this,ae.offsetX,ae.offsetY)}canvasPointerup(ae){0===ae.button&&this.isInEditMode()&&0!==this.currentPath.length&&(ae.stopPropagation(),_classPrivateMethodGet(this,ee,Je).call(this,ae),this.setInBackground())}canvasPointerleave(ae){_classPrivateMethodGet(this,ee,Je).call(this,ae),this.setInBackground()}render(){if(this.div)return this.div;let ae,we;this.width&&(ae=this.x,we=this.y),super.render(),L._l10nPromise.get("editor_ink2_aria_label").then(zt=>this.div?.setAttribute("aria-label",zt));const[rt,lt,Bt,wt]=_classPrivateMethodGet(this,Oe,Re).call(this);if(this.setAt(rt,lt,0,0),this.setDims(Bt,wt),_classPrivateMethodGet(this,_e,vt).call(this),this.width){const[zt,Qt]=this.parentDimensions;this.setAt(ae*zt,we*Qt,this.width*zt,this.height*Qt),_classPrivateFieldSet(this,me,!0),_classPrivateMethodGet(this,de,Ct).call(this),this.setDims(this.width*zt,this.height*Qt),_classPrivateMethodGet(this,Fe,nt).call(this),_classPrivateMethodGet(this,M,Xt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,Le,at).call(this),this.div}setDimensions(ae,we){const rt=Math.round(ae),lt=Math.round(we);if(_classPrivateFieldGet(this,N)===rt&&_classPrivateFieldGet(this,W)===lt)return;_classPrivateFieldSet(this,N,rt),_classPrivateFieldSet(this,W,lt),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,q)&&Math.abs(_classPrivateFieldGet(this,q)-ae/we)>.01&&(we=Math.ceil(ae/_classPrivateFieldGet(this,q)),this.setDims(ae,we));const[Bt,wt]=this.parentDimensions;this.width=ae/Bt,this.height=we/wt,_classPrivateFieldGet(this,te)&&_classPrivateMethodGet(this,C,qt).call(this,ae,we),_classPrivateMethodGet(this,de,Ct).call(this),_classPrivateMethodGet(this,Fe,nt).call(this),this.canvas.style.visibility="visible"}static deserialize(ae,we,rt){const lt=super.deserialize(ae,we,rt);lt.thickness=ae.thickness,lt.color=o.Util.makeHexColor(...ae.color),lt.opacity=ae.opacity;const[Bt,wt]=lt.pageDimensions,zt=lt.width*Bt,Qt=lt.height*wt,on=lt.parentScale,Kt=ae.thickness/2;_classPrivateFieldSet(lt,q,zt/Qt),_classPrivateFieldSet(lt,te,!0),_classPrivateFieldSet(lt,N,Math.round(zt)),_classPrivateFieldSet(lt,W,Math.round(Qt));for(const{bezier:Gt}of ae.paths){const On=[];lt.paths.push(On);let un=on*(Gt[0]-Kt),st=on*(Qt-Gt[1]-Kt);for(let Xe=2,Ne=Gt.length;Xe<Ne;Xe+=6){const dn=on*(Gt[Xe+4]-Kt),An=on*(Qt-Gt[Xe+5]-Kt);On.push([[un,st],[on*(Gt[Xe]-Kt),on*(Qt-Gt[Xe+1]-Kt)],[on*(Gt[Xe+2]-Kt),on*(Qt-Gt[Xe+3]-Kt)],[dn,An]]),un=dn,st=An}const ke=_classStaticPrivateMethodGet(this,L,Mt).call(this,On);lt.bezierPath2D.push(ke)}const Yt=_classPrivateMethodGet(lt,he,It).call(lt);return _classPrivateFieldSet(lt,A,Math.max(z,Yt[2]-Yt[0])),_classPrivateFieldSet(lt,H,Math.max(z,Yt[3]-Yt[1])),_classPrivateMethodGet(lt,C,qt).call(lt,zt,Qt),lt}serialize(){if(this.isEmpty())return null;const ae=this.getRect(0,0),we=this.rotation%180==0?ae[3]-ae[1]:ae[2]-ae[0],rt=y.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:rt,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,U,In).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,we),pageIndex:this.pageIndex,rect:ae,rotation:this.rotation}}}function re(Ve){const ae=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ve,_classPrivateMethodGet(this,Pe,Dt).call(this)},undo:()=>{this.thickness=ae,_classPrivateMethodGet(this,Pe,Dt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function fe(Ve){const ae=this.color;this.addCommands({cmd:()=>{this.color=Ve,_classPrivateMethodGet(this,Fe,nt).call(this)},undo:()=>{this.color=ae,_classPrivateMethodGet(this,Fe,nt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Se(Ve){Ve/=100;const ae=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ve,_classPrivateMethodGet(this,Fe,nt).call(this)},undo:()=>{this.opacity=ae,_classPrivateMethodGet(this,Fe,nt).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Re(){const{parentRotation:Ve,parentDimensions:[ae,we]}=this;switch(Ve){case 90:return[0,we,we,ae];case 180:return[ae,we,ae,we];case 270:return[ae,0,we,ae];default:return[0,0,ae,we]}}function Ue(){const{ctx:Ve,color:ae,opacity:we,thickness:rt,parentScale:lt,scaleFactor:Bt}=this;Ve.lineWidth=rt*lt/Bt,Ve.lineCap="round",Ve.lineJoin="round",Ve.miterLimit=10,Ve.strokeStyle=`${ae}${(0,P.opacityToHex)(we)}`}function $e(Ve,ae){this.isEditing=!0,_classPrivateFieldGet(this,me)||(_classPrivateFieldSet(this,me,!0),_classPrivateMethodGet(this,de,Ct).call(this),this.thickness||=Q._defaultThickness,this.color||=Q._defaultColor||y.AnnotationEditor._defaultLineColor,this.opacity??=Q._defaultOpacity),this.currentPath.push([Ve,ae]),_classPrivateFieldSet(this,B,null),_classPrivateMethodGet(this,Ze,Ue).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ve,ae),_classPrivateFieldSet(this,ue,()=>{_classPrivateFieldGet(this,ue)&&(_classPrivateFieldGet(this,B)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_classPrivateMethodGet(this,Fe,nt).call(this),this.ctx.lineTo(..._classPrivateFieldGet(this,B)),_classPrivateFieldSet(this,B,null),this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(this,ue)))}),window.requestAnimationFrame(_classPrivateFieldGet(this,ue))}function Ge(Ve,ae){const[we,rt]=this.currentPath.at(-1);Ve===we&&ae===rt||(this.currentPath.push([Ve,ae]),_classPrivateFieldSet(this,B,[Ve,ae]))}function We(Ve,ae){this.ctx.closePath(),_classPrivateFieldSet(this,ue,null),Ve=Math.min(Math.max(Ve,0),this.canvas.width),ae=Math.min(Math.max(ae,0),this.canvas.height);const[we,rt]=this.currentPath.at(-1);let lt;if((Ve!==we||ae!==rt)&&this.currentPath.push([Ve,ae]),1!==this.currentPath.length)lt=(0,$.fitCurve)(this.currentPath,30,null);else{const Qt=[Ve,ae];lt=[[Qt,Qt.slice(),Qt.slice(),Qt]]}const Bt=_classStaticPrivateMethodGet(Q,Q,Mt).call(Q,lt);this.currentPath.length=0,this.addCommands({cmd:()=>{this.paths.push(lt),this.bezierPath2D.push(Bt),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,_e,vt).call(this),_classPrivateMethodGet(this,Le,at).call(this)),_classPrivateMethodGet(this,Pe,Dt).call(this))},mustExec:!0})}function nt(){if(this.isEmpty())return void _classPrivateMethodGet(this,S,_t).call(this);_classPrivateMethodGet(this,Ze,Ue).call(this);const{canvas:Ve,ctx:ae}=this;ae.setTransform(1,0,0,1,0,0),ae.clearRect(0,0,Ve.width,Ve.height),_classPrivateMethodGet(this,S,_t).call(this);for(const we of this.bezierPath2D)ae.stroke(we)}function Je(Ve){_classPrivateMethodGet(this,He,We).call(this,Ve.offsetX,Ve.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,V)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,O)),this.addToAnnotationStorage()}function vt(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Q._l10nPromise.get("editor_ink_canvas_aria_label").then(Ve=>this.canvas?.setAttribute("aria-label",Ve)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function at(){let Ve=null;_classPrivateFieldSet(this,F,new ResizeObserver(ae=>{const we=ae[0].contentRect;we.width&&we.height&&(null!==Ve&&clearTimeout(Ve),Ve=setTimeout(()=>{this.fixDims(),Ve=null},100),this.setDimensions(we.width,we.height))})),_classPrivateFieldGet(this,F).observe(this.div)}function Ct(){if(!_classPrivateFieldGet(this,me))return;const[Ve,ae]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ve),this.canvas.height=Math.ceil(this.height*ae),_classPrivateMethodGet(this,S,_t).call(this)}function qt(Ve,ae){const we=_classPrivateMethodGet(this,Ce,xt).call(this),rt=(Ve-we)/_classPrivateFieldGet(this,A),lt=(ae-we)/_classPrivateFieldGet(this,H);this.scaleFactor=Math.min(rt,lt)}function _t(){const Ve=_classPrivateMethodGet(this,Ce,xt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ve,this.translationY*this.scaleFactor+Ve)}function Mt(Ve){const ae=new Path2D;for(let we=0,rt=Ve.length;we<rt;we++){const[lt,Bt,wt,zt]=Ve[we];0===we&&ae.moveTo(...lt),ae.bezierCurveTo(Bt[0],Bt[1],wt[0],wt[1],zt[0],zt[1])}return ae}function In(Ve,ae,we,rt){const Bt=[],wt=this.thickness/2;let zt,Qt;for(const on of this.paths){zt=[],Qt=[];for(let Kt=0,Yt=on.length;Kt<Yt;Kt++){const[Gt,On,un,st]=on[Kt],ke=Ve*(Gt[0]+ae)+wt,Xe=rt-Ve*(Gt[1]+we)-wt,Ne=Ve*(On[0]+ae)+wt,et=rt-Ve*(On[1]+we)-wt,ct=Ve*(un[0]+ae)+wt,Pt=rt-Ve*(un[1]+we)-wt,$t=Ve*(st[0]+ae)+wt,dn=rt-Ve*(st[1]+we)-wt;0===Kt&&(zt.push(ke,Xe),Qt.push(ke,Xe)),zt.push(Ne,et,ct,Pt,$t,dn),_classPrivateMethodGet(this,X,Ut).call(this,ke,Xe,Ne,et,ct,Pt,$t,dn,4,Qt)}Bt.push({bezier:zt,points:Qt})}return Bt}function Ut(Ve,ae,we,rt,lt,Bt,wt,zt,Qt,on){if(_classPrivateMethodGet(this,se,Ke).call(this,Ve,ae,we,rt,lt,Bt,wt,zt))on.push(wt,zt);else{for(let Kt=1;Kt<Qt-1;Kt++){const Yt=Kt/Qt,Gt=1-Yt;let On=Yt*Ve+Gt*we,un=Yt*ae+Gt*rt,st=Yt*we+Gt*lt,ke=Yt*rt+Gt*Bt;On=Yt*On+Gt*st,un=Yt*un+Gt*ke,st=Yt*st+Gt*(Yt*lt+Gt*wt),ke=Yt*ke+Gt*(Yt*Bt+Gt*zt),On=Yt*On+Gt*st,un=Yt*un+Gt*ke,on.push(On,un)}on.push(wt,zt)}}function Ke(Ve,ae,we,rt,lt,Bt,wt,zt){const Kt=(3*rt-2*ae-zt)**2,Gt=(3*Bt-ae-2*zt)**2;return Math.max((3*we-2*Ve-wt)**2,(3*lt-Ve-2*wt)**2)+Math.max(Kt,Gt)<=10}function It(){let Ve=1/0,ae=-1/0,we=1/0,rt=-1/0;for(const lt of this.paths)for(const[Bt,wt,zt,Qt]of lt){const on=o.Util.bezierBoundingBox(...Bt,...wt,...zt,...Qt);Ve=Math.min(Ve,on[0]),we=Math.min(we,on[1]),ae=Math.max(ae,on[2]),rt=Math.max(rt,on[3])}return[Ve,we,ae,rt]}function xt(){return _classPrivateFieldGet(this,te)?Math.ceil(this.thickness*this.parentScale):0}function Dt(Ve=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(this,te))return void _classPrivateMethodGet(this,Fe,nt).call(this);const ae=_classPrivateMethodGet(this,he,It).call(this),we=_classPrivateMethodGet(this,Ce,xt).call(this);_classPrivateFieldSet(this,A,Math.max(z,ae[2]-ae[0])),_classPrivateFieldSet(this,H,Math.max(z,ae[3]-ae[1]));const rt=Math.ceil(we+_classPrivateFieldGet(this,A)*this.scaleFactor),lt=Math.ceil(we+_classPrivateFieldGet(this,H)*this.scaleFactor),[Bt,wt]=this.parentDimensions;this.width=rt/Bt,this.height=lt/wt,_classPrivateFieldSet(this,q,rt/lt),_classPrivateMethodGet(this,M,Xt).call(this);const zt=this.translationX,Qt=this.translationY;this.translationX=-ae[0],this.translationY=-ae[1],_classPrivateMethodGet(this,de,Ct).call(this),_classPrivateMethodGet(this,Fe,nt).call(this),_classPrivateFieldSet(this,N,rt),_classPrivateFieldSet(this,W,lt),this.setDims(rt,lt);const on=Ve?we/this.scaleFactor/2:0;this.translate(zt-this.translationX-on,Qt-this.translationY-on)}function Xt(){const{style:Ve}=this.div;_classPrivateFieldGet(this,q)>=1?(Ve.minHeight="16px",Ve.minWidth=`${Math.round(_classPrivateFieldGet(this,q)*z)}px`):(Ve.minWidth="16px",Ve.minHeight=`${Math.round(z/_classPrivateFieldGet(this,q))}px`)}return Q=L,_defineProperty(L,"_defaultColor",null),_defineProperty(L,"_defaultOpacity",1),_defineProperty(L,"_defaultThickness",1),_defineProperty(L,"_l10nPromise",void 0),_defineProperty(L,"_type","ink"),L})()},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.fitCurve=void 0;const o=v(26);m.fitCurve=o},pe=>{function v(O,V,x,K,te){var B,F,N,W,ue,ge,ie,Y,Oe,Ze,Qe,Me,He;if(2===O.length)return Me=H.vectorLen(H.subtract(O[0],O[1]))/3,[B=[O[0],H.addArrays(O[0],H.mulItems(V,Me)),H.addArrays(O[1],H.mulItems(x,Me)),O[1]]];if(F=function z(O){var x,K,te,V=[];return O.forEach((me,B)=>{x=B?K+H.vectorLen(H.subtract(me,te)):0,V.push(x),K=x,te=me}),V=V.map(me=>me/K)}(O),[B,W,ge]=o(O,F,F,V,x,te),0===W||W<K)return[B];if(W<K*K)for(N=F,ue=W,ie=ge,He=0;He<20;He++){if(N=$(B,O,N),[B,W,ge]=o(O,F,N,V,x,te),W<K)return[B];if(ge===ie){let Fe=W/ue;if(Fe>.9999&&Fe<1.0001)break}ue=W,ie=ge}return Qe=[],(Y=H.subtract(O[ge-1],O[ge+1])).every(Fe=>0===Fe)&&(Y=H.subtract(O[ge-1],O[ge]),[Y[0],Y[1]]=[-Y[1],Y[0]]),Oe=H.normalize(Y),Ze=H.mulItems(Oe,-1),(Qe=Qe.concat(v(O.slice(0,ge+1),V,Oe,K,te))).concat(v(O.slice(ge),Ze,x,K,te))}function o(O,V,x,K,te,me){var B,F,N;return B=function y(O,V,x,K){var te,me,B,F,N,W,ie,Y,Oe,Ze,Qe,Me,He,Fe,ee,_e=O[0],Le=O[O.length-1];for(te=[_e,null,null,Le],me=H.zeros_Xx2x2(V.length),Qe=0,Me=V.length;Qe<Me;Qe++)(B=me[Qe])[0]=H.mulItems(x,3*(Fe=V[Qe])*((ee=1-Fe)*ee)),B[1]=H.mulItems(K,3*ee*(Fe*Fe));for(F=[[0,0],[0,0]],N=[0,0],Qe=0,Me=O.length;Qe<Me;Qe++)Fe=V[Qe],F[0][0]+=H.dot((B=me[Qe])[0],B[0]),F[0][1]+=H.dot(B[0],B[1]),F[1][0]+=H.dot(B[0],B[1]),F[1][1]+=H.dot(B[1],B[1]),He=H.subtract(O[Qe],A.q([_e,_e,Le,Le],Fe)),N[0]+=H.dot(B[0],He),N[1]+=H.dot(B[1],He);return ie=0==(W=F[0][0]*F[1][1]-F[1][0]*F[0][1])?0:(N[0]*F[1][1]-N[1]*F[0][1])/W,Y=0===W?0:(F[0][0]*N[1]-F[1][0]*N[0])/W,ie<(Oe=1e-6*(Ze=H.vectorLen(H.subtract(_e,Le))))||Y<Oe?(te[1]=H.addArrays(_e,H.mulItems(x,Ze/3)),te[2]=H.addArrays(Le,H.mulItems(K,Ze/3))):(te[1]=H.addArrays(_e,H.mulItems(x,ie)),te[2]=H.addArrays(Le,H.mulItems(K,Y))),te}(O,x,K,te),[F,N]=function J(O,V,x){var K,te,me,B,F,N,W,ue;te=0,me=Math.floor(O.length/2);const ge=k(V,10);for(F=0,N=O.length;F<N;F++)W=O[F],ue=Q(0,x[F],ge,10),(K=(B=H.subtract(A.q(V,ue),W))[0]*B[0]+B[1]*B[1])>te&&(te=K,me=F);return[te,me]}(O,B,V),me&&me({bez:B,points:O,params:V,maxErr:F,maxPoint:N}),[B,F,N]}function $(O,V,x){return x.map((K,te)=>function P(O,V,x){var K=H.subtract(A.q(O,x),V),te=A.qprime(O,x),me=H.mulMatrix(K,te),B=H.sum(H.squareItems(te))+2*H.mulMatrix(K,A.qprimeprime(O,x));return 0===B?x:x-me/B}(O,V[te],K))}var k=function(O,V){for(var x,K=[0],te=O[0],me=0,B=1;B<=V;B++)x=A.q(O,B/V),me+=H.vectorLen(H.subtract(x,te)),K.push(me),te=x;return K.map(F=>F/me)};function Q(O,V,x,K){if(V<0)return 0;if(V>1)return 1;for(var me,F,N,W=1;W<=K;W++)if(V<=x[W]){N=(V-(me=x[W-1]))/(x[W]-me)*(W/K-(F=(W-1)/K))+F;break}return N}function q(O,V){return H.normalize(H.subtract(O,V))}class H{static zeros_Xx2x2(V){for(var x=[];V--;)x.push([0,0]);return x}static mulItems(V,x){return V.map(K=>K*x)}static mulMatrix(V,x){return V.reduce((K,te,me)=>K+te*x[me],0)}static subtract(V,x){return V.map((K,te)=>K-x[te])}static addArrays(V,x){return V.map((K,te)=>K+x[te])}static addItems(V,x){return V.map(K=>K+x)}static sum(V){return V.reduce((x,K)=>x+K)}static dot(V,x){return H.mulMatrix(V,x)}static vectorLen(V){return Math.hypot(...V)}static divItems(V,x){return V.map(K=>K/x)}static squareItems(V){return V.map(x=>x*x)}static normalize(V){return this.divItems(V,this.vectorLen(V))}}class A{static q(V,x){var K=1-x,te=H.mulItems(V[0],K*K*K),me=H.mulItems(V[1],3*K*K*x),B=H.mulItems(V[2],3*K*x*x),F=H.mulItems(V[3],x*x*x);return H.addArrays(H.addArrays(te,me),H.addArrays(B,F))}static qprime(V,x){var K=1-x,te=H.mulItems(H.subtract(V[1],V[0]),3*K*K),me=H.mulItems(H.subtract(V[2],V[1]),6*K*x),B=H.mulItems(H.subtract(V[3],V[2]),3*x*x);return H.addArrays(H.addArrays(te,me),B)}static qprimeprime(V,x){return H.addArrays(H.mulItems(H.addArrays(H.subtract(V[2],H.mulItems(V[1],2)),V[0]),6*(1-x)),H.mulItems(H.addArrays(H.subtract(V[3],H.mulItems(V[2],2)),V[1]),6*x))}}pe.exports=function m(O,V,x){if(!Array.isArray(O))throw new TypeError("First argument should be an array");if(O.forEach(B=>{if(!Array.isArray(B)||B.some(F=>"number"!=typeof F)||B.length!==O[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(O=O.filter((B,F)=>0===F||!B.every((N,W)=>N===O[F-1][W]))).length<2)return[];const K=O.length,te=q(O[1],O[0]),me=q(O[K-2],O[K-1]);return v(O,te,me,V,x)},pe.exports.fitCubic=v,pe.exports.createTangent=q},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayer=void 0;var o=v(1),y=v(6),$=v(3),P=v(28),z=v(29);const J=1e3,Q=new WeakSet;function q(Pe){return{width:Pe[2]-Pe[0],height:Pe[3]-Pe[1]}}class H{static create(M){switch(M.data.annotationType){case o.AnnotationType.LINK:return new x(M);case o.AnnotationType.TEXT:return new me(M);case o.AnnotationType.WIDGET:switch(M.data.fieldType){case"Tx":return new F(M);case"Btn":return M.data.radioButton?new W(M):M.data.checkBox?new N(M):new ue(M);case"Ch":return new ge(M)}return new B(M);case o.AnnotationType.POPUP:return new ie(M);case o.AnnotationType.FREETEXT:return new Oe(M);case o.AnnotationType.LINE:return new Ze(M);case o.AnnotationType.SQUARE:return new Qe(M);case o.AnnotationType.CIRCLE:return new Me(M);case o.AnnotationType.POLYLINE:return new He(M);case o.AnnotationType.CARET:return new ee(M);case o.AnnotationType.INK:return new _e(M);case o.AnnotationType.POLYGON:return new Fe(M);case o.AnnotationType.HIGHLIGHT:return new Le(M);case o.AnnotationType.UNDERLINE:return new de(M);case o.AnnotationType.SQUIGGLY:return new C(M);case o.AnnotationType.STRIKEOUT:return new S(M);case o.AnnotationType.STAMP:return new U(M);case o.AnnotationType.FILEATTACHMENT:return new X(M);default:return new A(M)}}}class A{constructor(M,{isRenderable:L=!1,ignoreBorder:re=!1,createQuadrilaterals:fe=!1}={}){this.isRenderable=L,this.data=M.data,this.layer=M.layer,this.page=M.page,this.viewport=M.viewport,this.linkService=M.linkService,this.downloadManager=M.downloadManager,this.imageResourcesPath=M.imageResourcesPath,this.renderForms=M.renderForms,this.svgFactory=M.svgFactory,this.annotationStorage=M.annotationStorage,this.enableScripting=M.enableScripting,this.hasJSActions=M.hasJSActions,this._fieldObjects=M.fieldObjects,L&&(this.container=this._createContainer(re)),fe&&(this.quadrilaterals=this._createQuadrilaterals(re))}_createContainer(M=!1){const{data:L,page:re,viewport:fe}=this,Se=document.createElement("section");Se.setAttribute("data-annotation-id",L.id);const{pageWidth:Re,pageHeight:Ue,pageX:$e,pageY:Ge}=fe.rawDims,{width:We,height:nt}=q(L.rect),Je=o.Util.normalizeRect([L.rect[0],re.view[3]-L.rect[1]+re.view[1],L.rect[2],re.view[3]-L.rect[3]+re.view[1]]);if(!M&&L.borderStyle.width>0){Se.style.borderWidth=`${L.borderStyle.width}px`;const at=L.borderStyle.horizontalCornerRadius,Ct=L.borderStyle.verticalCornerRadius;switch(at>0||Ct>0?Se.style.borderRadius=`calc(${at}px * var(--scale-factor)) / calc(${Ct}px * var(--scale-factor))`:this instanceof W&&(Se.style.borderRadius=`calc(${We}px * var(--scale-factor)) / calc(${nt}px * var(--scale-factor))`),L.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:Se.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:Se.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:Se.style.borderBottomStyle="solid"}const qt=L.borderColor||null;qt?Se.style.borderColor=o.Util.makeHexColor(0|qt[0],0|qt[1],0|qt[2]):Se.style.borderWidth=0}Se.style.left=100*(Je[0]-$e)/Re+"%",Se.style.top=100*(Je[1]-Ge)/Ue+"%";const{rotation:vt}=L;return L.hasOwnCanvas||0===vt?(Se.style.width=100*We/Re+"%",Se.style.height=100*nt/Ue+"%"):this.setRotation(vt,Se),Se}setRotation(M,L=this.container){const{pageWidth:re,pageHeight:fe}=this.viewport.rawDims,{width:Se,height:Re}=q(this.data.rect);let Ue,$e;M%180==0?(Ue=100*Se/re,$e=100*Re/fe):(Ue=100*Re/re,$e=100*Se/fe),L.style.width=`${Ue}%`,L.style.height=`${$e}%`,L.setAttribute("data-main-rotation",(360-M)%360)}get _commonActions(){const M=(L,re,fe)=>{const Se=fe.detail[L];fe.target.style[re]=P.ColorConverters[`${Se[0]}_HTML`](Se.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:L=>{const re=L.detail.display%2==1;this.container.style.visibility=re?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:re,print:0===L.detail.display||3===L.detail.display})},print:L=>{this.annotationStorage.setValue(this.data.id,{print:L.detail.print})},hidden:L=>{this.container.style.visibility=L.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L.detail.hidden})},focus:L=>{setTimeout(()=>L.target.focus({preventScroll:!1}),0)},userName:L=>{L.target.title=L.detail.userName},readonly:L=>{L.detail.readonly?L.target.setAttribute("readonly",""):L.target.removeAttribute("readonly")},required:L=>{this._setRequired(L.target,L.detail.required)},bgColor:L=>{M("bgColor","backgroundColor",L)},fillColor:L=>{M("fillColor","backgroundColor",L)},fgColor:L=>{M("fgColor","color",L)},textColor:L=>{M("textColor","color",L)},borderColor:L=>{M("borderColor","borderColor",L)},strokeColor:L=>{M("strokeColor","borderColor",L)},rotation:L=>{const re=L.detail.rotation;this.setRotation(re),this.annotationStorage.setValue(this.data.id,{rotation:re})}})}_dispatchEventFromSandbox(M,L){const re=this._commonActions;for(const fe of Object.keys(L.detail))(M[fe]||re[fe])?.(L)}_setDefaultPropertiesFromJS(M){if(!this.enableScripting)return;const L=this.annotationStorage.getRawValue(this.data.id);if(!L)return;const re=this._commonActions;for(const[fe,Se]of Object.entries(L)){const Re=re[fe];Re&&(Re({detail:{[fe]:Se},target:M}),delete L[fe])}}_createQuadrilaterals(M=!1){if(!this.data.quadPoints)return null;const L=[],re=this.data.rect;for(const fe of this.data.quadPoints)this.data.rect=[fe[2].x,fe[2].y,fe[1].x,fe[1].y],L.push(this._createContainer(M));return this.data.rect=re,L}_createPopup(M,L){let re=this.container;this.quadrilaterals&&(M=M||this.quadrilaterals,re=this.quadrilaterals[0]),M||((M=document.createElement("div")).className="popupTriggerArea",re.append(M));const Se=new Y({container:re,trigger:M,color:L.color,titleObj:L.titleObj,modificationDate:L.modificationDate,contentsObj:L.contentsObj,richText:L.richText,hideWrapper:!0}).render();Se.style.left="100%",re.append(Se)}_renderQuadrilaterals(M){for(const L of this.quadrilaterals)L.className=M;return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(M,L=null){const re=[];if(this._fieldObjects){const fe=this._fieldObjects[M];if(fe)for(const{page:Se,id:Re,exportValues:Ue}of fe){if(-1===Se||Re===L)continue;const $e="string"==typeof Ue?Ue:null,Ge=document.querySelector(`[data-element-id="${Re}"]`);!Ge||Q.has(Ge)?re.push({id:Re,exportValue:$e,domElement:Ge}):(0,o.warn)(`_getElementsByName - element not allowed: ${Re}`)}return re}for(const fe of document.getElementsByName(M)){const{exportValue:Se}=fe,Re=fe.getAttribute("data-element-id");Re!==L&&Q.has(fe)&&re.push({id:Re,exportValue:Se,domElement:fe})}return re}}var O=new WeakSet,V=new WeakSet;class x extends A{constructor(M,L=null){super(M,{isRenderable:!0,ignoreBorder:!!L?.ignoreBorder,createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,V),_classPrivateMethodInitSpec(this,O),this.isTooltipOnly=M.data.isTooltipOnly}render(){const{data:M,linkService:L}=this,re=document.createElement("a");re.setAttribute("data-element-id",M.id);let fe=!1;return M.url?(L.addLinkAttributes(re,M.url,M.newWindow),fe=!0):M.action?(this._bindNamedAction(re,M.action),fe=!0):M.attachment?(this._bindAttachment(re,M.attachment),fe=!0):M.setOCGState?(_classPrivateMethodGet(this,V,te).call(this,re,M.setOCGState),fe=!0):M.dest?(this._bindLink(re,M.dest),fe=!0):(M.actions&&(M.actions.Action||M.actions["Mouse Up"]||M.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(re,M),fe=!0),M.resetForm?(this._bindResetFormAction(re,M.resetForm),fe=!0):this.isTooltipOnly&&!fe&&(this._bindLink(re,""),fe=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Se,Re)=>{const Ue=0===Re?re:re.cloneNode();return Se.append(Ue),Se}):(this.container.className="linkAnnotation",fe&&this.container.append(re),this.container)}_bindLink(M,L){M.href=this.linkService.getDestinationHash(L),M.onclick=()=>(L&&this.linkService.goToDestination(L),!1),(L||""===L)&&_classPrivateMethodGet(this,O,K).call(this)}_bindNamedAction(M,L){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.linkService.executeNamedAction(L),!1),_classPrivateMethodGet(this,O,K).call(this)}_bindAttachment(M,L){M.href=this.linkService.getAnchorUrl(""),M.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,L.content,L.filename),!1),_classPrivateMethodGet(this,O,K).call(this)}_bindJSAction(M,L){M.href=this.linkService.getAnchorUrl("");const re=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const fe of Object.keys(L.actions)){const Se=re.get(fe);Se&&(M[Se]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L.id,name:fe}}),!1))}M.onclick||(M.onclick=()=>!1),_classPrivateMethodGet(this,O,K).call(this)}_bindResetFormAction(M,L){const re=M.onclick;if(re||(M.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,O,K).call(this),!this._fieldObjects)return(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(re||(M.onclick=()=>!1));M.onclick=()=>{re?.();const{fields:fe,refs:Se,include:Re}=L,Ue=[];if(0!==fe.length||0!==Se.length){const We=new Set(Se);for(const nt of fe){const Je=this._fieldObjects[nt]||[];for(const{id:vt}of Je)We.add(vt)}for(const nt of Object.values(this._fieldObjects))for(const Je of nt)We.has(Je.id)===Re&&Ue.push(Je)}else for(const We of Object.values(this._fieldObjects))Ue.push(...We);const $e=this.annotationStorage,Ge=[];for(const We of Ue){const{id:nt}=We;switch(Ge.push(nt),We.type){case"text":case"combobox":case"listbox":$e.setValue(nt,{value:We.defaultValue||""});break;case"checkbox":case"radiobutton":$e.setValue(nt,{value:We.defaultValue===We.exportValues});break;default:continue}const Je=document.querySelector(`[data-element-id="${nt}"]`);Je&&(Q.has(Je)?Je.dispatchEvent(new Event("resetform")):(0,o.warn)(`_bindResetFormAction - element not allowed: ${nt}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ge,name:"ResetForm"}}),!1}}}function K(){this.container.setAttribute("data-internal-link","")}function te(Pe,M){Pe.href=this.linkService.getAnchorUrl(""),Pe.onclick=()=>(this.linkService.executeSetOCGState(M),!1),_classPrivateMethodGet(this,O,K).call(this)}class me extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str)})}render(){this.container.className="textAnnotation";const M=document.createElement("img");return M.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",M.alt="[{{type}} Annotation]",M.dataset.l10nId="text_annotation_type",M.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(M,this.data),this.container.append(M),this.container}}class B extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(M){const{isWin:L,isMac:re}=o.FeatureTest.platform;return L&&M.ctrlKey||re&&M.metaKey}_setEventListener(M,L,re,fe){L.includes("mouse")?M.addEventListener(L,Se=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:re,value:fe(Se),shift:Se.shiftKey,modifier:this._getKeyModifier(Se)}})}):M.addEventListener(L,Se=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:re,value:fe(Se)}})})}_setEventListeners(M,L,re){for(const[fe,Se]of L)("Action"===Se||this.data.actions?.[Se])&&this._setEventListener(M,fe,Se,re)}_setBackgroundColor(M){const L=this.data.backgroundColor||null;M.style.backgroundColor=null===L?"transparent":o.Util.makeHexColor(L[0],L[1],L[2])}_setTextStyle(M){const{fontColor:re}=this.data.defaultAppearanceData,fe=this.data.defaultAppearanceData.fontSize||9,Se=M.style;let Re;const $e=Ge=>Math.round(10*Ge)/10;if(this.data.multiLine){const Ge=Math.abs(this.data.rect[3]-this.data.rect[1]-2),We=Math.round(Ge/(o.LINE_FACTOR*fe))||1;Re=Math.min(fe,$e(Ge/We/o.LINE_FACTOR))}else{const Ge=Math.abs(this.data.rect[3]-this.data.rect[1]-2);Re=Math.min(fe,$e(Ge/o.LINE_FACTOR))}Se.fontSize=`calc(${Re}px * var(--scale-factor))`,Se.color=o.Util.makeHexColor(re[0],re[1],re[2]),null!==this.data.textAlignment&&(Se.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(M,L){L?M.setAttribute("required",!0):M.removeAttribute("required"),M.setAttribute("aria-required",L)}}class F extends B{constructor(M){super(M,{isRenderable:M.renderForms||!M.data.hasAppearance&&!!M.data.fieldValue})}setPropertyOnSiblings(M,L,re,fe){const Se=this.annotationStorage;for(const Re of this._getElementsByName(M.name,M.id))Re.domElement&&(Re.domElement[L]=re),Se.setValue(Re.id,{[fe]:re})}render(){const M=this.annotationStorage,L=this.data.id;this.container.className="textWidgetAnnotation";let re=null;if(this.renderForms){const fe=M.getValue(L,{value:this.data.fieldValue});let Se=fe.formattedValue||fe.value||"";const Re=M.getValue(L,{charLimit:this.data.maxLen}).charLimit;Re&&Se.length>Re&&(Se=Se.slice(0,Re));const Ue={userValue:Se,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(re=document.createElement("textarea"),re.textContent=Se,this.data.doNotScroll&&(re.style.overflowY="hidden")):(re=document.createElement("input"),re.type="text",re.setAttribute("value",Se),this.data.doNotScroll&&(re.style.overflowX="hidden")),Q.add(re),re.setAttribute("data-element-id",L),re.disabled=this.data.readOnly,re.name=this.data.fieldName,re.tabIndex=J,this._setRequired(re,this.data.required),Re&&(re.maxLength=Re),re.addEventListener("input",Ge=>{M.setValue(L,{value:Ge.target.value}),this.setPropertyOnSiblings(re,"value",Ge.target.value,"value")}),re.addEventListener("resetform",Ge=>{re.value=Ue.userValue=this.data.defaultFieldValue??"",Ue.formattedValue=null});let $e=Ge=>{const{formattedValue:We}=Ue;null!=We&&(Ge.target.value=We),Ge.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){re.addEventListener("focus",We=>{const{target:nt}=We;Ue.userValue&&(nt.value=Ue.userValue),Ue.lastCommittedValue=nt.value,Ue.commitKey=1}),re.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value(Je){Ue.userValue=Je.detail.value??"",M.setValue(L,{value:Ue.userValue.toString()}),Je.target.value=Ue.userValue},formattedValue(Je){const{formattedValue:vt}=Je.detail;Ue.formattedValue=vt,null!=vt&&Je.target!==document.activeElement&&(Je.target.value=vt),M.setValue(L,{formattedValue:vt})},selRange(Je){Je.target.setSelectionRange(...Je.detail.selRange)},charLimit:Je=>{const{charLimit:vt}=Je.detail,{target:at}=Je;if(0===vt)return void at.removeAttribute("maxLength");at.setAttribute("maxLength",vt);let Ct=Ue.userValue;!Ct||Ct.length<=vt||(Ct=Ct.slice(0,vt),at.value=Ue.userValue=Ct,M.setValue(L,{value:Ct}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L,name:"Keystroke",value:Ct,willCommit:!0,commitKey:1,selStart:at.selectionStart,selEnd:at.selectionEnd}}))}},We)}),re.addEventListener("keydown",We=>{Ue.commitKey=1;let nt=-1;if("Escape"===We.key?nt=0:"Enter"!==We.key||this.data.multiLine?"Tab"===We.key&&(Ue.commitKey=3):nt=2,-1===nt)return;const{value:Je}=We.target;Ue.lastCommittedValue!==Je&&(Ue.lastCommittedValue=Je,Ue.userValue=Je,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L,name:"Keystroke",value:Je,willCommit:!0,commitKey:nt,selStart:We.target.selectionStart,selEnd:We.target.selectionEnd}}))});const Ge=$e;$e=null,re.addEventListener("blur",We=>{if(!We.relatedTarget)return;const{value:nt}=We.target;Ue.userValue=nt,Ue.lastCommittedValue!==nt&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L,name:"Keystroke",value:nt,willCommit:!0,commitKey:Ue.commitKey,selStart:We.target.selectionStart,selEnd:We.target.selectionEnd}}),Ge(We)}),this.data.actions?.Keystroke&&re.addEventListener("beforeinput",We=>{Ue.lastCommittedValue=null;const{data:nt,target:Je}=We,{value:vt,selectionStart:at,selectionEnd:Ct}=Je;let qt=at,_t=Ct;switch(We.inputType){case"deleteWordBackward":{const Mt=vt.substring(0,at).match(/\w*[^\w]*$/);Mt&&(qt-=Mt[0].length);break}case"deleteWordForward":{const Mt=vt.substring(at).match(/^[^\w]*\w*/);Mt&&(_t+=Mt[0].length);break}case"deleteContentBackward":at===Ct&&(qt-=1);break;case"deleteContentForward":at===Ct&&(_t+=1)}We.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L,name:"Keystroke",value:vt,change:nt||"",willCommit:!1,selStart:qt,selEnd:_t}})}),this._setEventListeners(re,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],We=>We.target.value)}if($e&&re.addEventListener("blur",$e),this.data.comb){const We=(this.data.rect[2]-this.data.rect[0])/Re;re.classList.add("comb"),re.style.letterSpacing=`calc(${We}px * var(--scale-factor) - 1ch)`}}else re=document.createElement("div"),re.textContent=this.data.fieldValue,re.style.verticalAlign="middle",re.style.display="table-cell";return this._setTextStyle(re),this._setBackgroundColor(re),this._setDefaultPropertiesFromJS(re),this.container.append(re),this.container}}class N extends B{constructor(M){super(M,{isRenderable:M.renderForms})}render(){const M=this.annotationStorage,L=this.data,re=L.id;let fe=M.getValue(re,{value:L.exportValue===L.fieldValue}).value;"string"==typeof fe&&(fe="Off"!==fe,M.setValue(re,{value:fe})),this.container.className="buttonWidgetAnnotation checkBox";const Se=document.createElement("input");return Q.add(Se),Se.setAttribute("data-element-id",re),Se.disabled=L.readOnly,this._setRequired(Se,this.data.required),Se.type="checkbox",Se.name=L.fieldName,fe&&Se.setAttribute("checked",!0),Se.setAttribute("exportValue",L.exportValue),Se.tabIndex=J,Se.addEventListener("change",Re=>{const{name:Ue,checked:$e}=Re.target;for(const Ge of this._getElementsByName(Ue,re)){const We=$e&&Ge.exportValue===L.exportValue;Ge.domElement&&(Ge.domElement.checked=We),M.setValue(Ge.id,{value:We})}M.setValue(re,{value:$e})}),Se.addEventListener("resetform",Re=>{Re.target.checked=(L.defaultFieldValue||"Off")===L.exportValue}),this.enableScripting&&this.hasJSActions&&(Se.addEventListener("updatefromsandbox",Re=>{this._dispatchEventFromSandbox({value($e){$e.target.checked="Off"!==$e.detail.value,M.setValue(re,{value:$e.target.checked})}},Re)}),this._setEventListeners(Se,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Re=>Re.target.checked)),this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class W extends B{constructor(M){super(M,{isRenderable:M.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const M=this.annotationStorage,L=this.data,re=L.id;let fe=M.getValue(re,{value:L.fieldValue===L.buttonValue}).value;"string"==typeof fe&&(fe=fe!==L.buttonValue,M.setValue(re,{value:fe}));const Se=document.createElement("input");if(Q.add(Se),Se.setAttribute("data-element-id",re),Se.disabled=L.readOnly,this._setRequired(Se,this.data.required),Se.type="radio",Se.name=L.fieldName,fe&&Se.setAttribute("checked",!0),Se.tabIndex=J,Se.addEventListener("change",Re=>{const{name:Ue,checked:$e}=Re.target;for(const Ge of this._getElementsByName(Ue,re))M.setValue(Ge.id,{value:!1});M.setValue(re,{value:$e})}),Se.addEventListener("resetform",Re=>{const Ue=L.defaultFieldValue;Re.target.checked=null!=Ue&&Ue===L.buttonValue}),this.enableScripting&&this.hasJSActions){const Re=L.buttonValue;Se.addEventListener("updatefromsandbox",Ue=>{this._dispatchEventFromSandbox({value:Ge=>{const We=Re===Ge.detail.value;for(const nt of this._getElementsByName(Ge.target.name)){const Je=We&&nt.id===re;nt.domElement&&(nt.domElement.checked=Je),M.setValue(nt.id,{value:Je})}}},Ue)}),this._setEventListeners(Se,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.checked)}return this._setBackgroundColor(Se),this._setDefaultPropertiesFromJS(Se),this.container.append(Se),this.container}}class ue extends x{constructor(M){super(M,{ignoreBorder:M.data.hasAppearance})}render(){const M=super.render();M.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(M.title=this.data.alternativeText);const L=M.lastChild;return this.enableScripting&&this.hasJSActions&&L&&(this._setDefaultPropertiesFromJS(L),L.addEventListener("updatefromsandbox",re=>{this._dispatchEventFromSandbox({},re)})),M}}class ge extends B{constructor(M){super(M,{isRenderable:M.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const M=this.annotationStorage,L=this.data.id,re=M.getValue(L,{value:this.data.fieldValue}),fe=document.createElement("select");Q.add(fe),fe.setAttribute("data-element-id",L),fe.disabled=this.data.readOnly,this._setRequired(fe,this.data.required),fe.name=this.data.fieldName,fe.tabIndex=J;let Se=this.data.combo&&this.data.options.length>0;this.data.combo||(fe.size=this.data.options.length,this.data.multiSelect&&(fe.multiple=!0)),fe.addEventListener("resetform",We=>{const nt=this.data.defaultFieldValue;for(const Je of fe.options)Je.selected=Je.value===nt});for(const We of this.data.options){const nt=document.createElement("option");nt.textContent=We.displayValue,nt.value=We.exportValue,re.value.includes(We.exportValue)&&(nt.setAttribute("selected",!0),Se=!1),fe.append(nt)}let Re=null;if(Se){const We=document.createElement("option");We.value=" ",We.setAttribute("hidden",!0),We.setAttribute("selected",!0),fe.prepend(We),Re=()=>{We.remove(),fe.removeEventListener("input",Re),Re=null},fe.addEventListener("input",Re)}const Ue=We=>{const nt=We?"value":"textContent",{options:Je,multiple:vt}=fe;return vt?Array.prototype.filter.call(Je,at=>at.selected).map(at=>at[nt]):-1===Je.selectedIndex?null:Je[Je.selectedIndex][nt]};let $e=Ue(!1);const Ge=We=>Array.prototype.map.call(We.target.options,Je=>({displayValue:Je.textContent,exportValue:Je.value}));return this.enableScripting&&this.hasJSActions?(fe.addEventListener("updatefromsandbox",We=>{this._dispatchEventFromSandbox({value(Je){Re?.();const vt=Je.detail.value,at=new Set(Array.isArray(vt)?vt:[vt]);for(const Ct of fe.options)Ct.selected=at.has(Ct.value);M.setValue(L,{value:Ue(!0)}),$e=Ue(!1)},multipleSelection(Je){fe.multiple=!0},remove(Je){const vt=fe.options,at=Je.detail.remove;vt[at].selected=!1,fe.remove(at),vt.length>0&&-1===Array.prototype.findIndex.call(vt,qt=>qt.selected)&&(vt[0].selected=!0),M.setValue(L,{value:Ue(!0),items:Ge(Je)}),$e=Ue(!1)},clear(Je){for(;0!==fe.length;)fe.remove(0);M.setValue(L,{value:null,items:[]}),$e=Ue(!1)},insert(Je){const{index:vt,displayValue:at,exportValue:Ct}=Je.detail.insert,qt=fe.children[vt],_t=document.createElement("option");_t.textContent=at,_t.value=Ct,qt?qt.before(_t):fe.append(_t),M.setValue(L,{value:Ue(!0),items:Ge(Je)}),$e=Ue(!1)},items(Je){const{items:vt}=Je.detail;for(;0!==fe.length;)fe.remove(0);for(const at of vt){const{displayValue:Ct,exportValue:qt}=at,_t=document.createElement("option");_t.textContent=Ct,_t.value=qt,fe.append(_t)}fe.options.length>0&&(fe.options[0].selected=!0),M.setValue(L,{value:Ue(!0),items:Ge(Je)}),$e=Ue(!1)},indices(Je){const vt=new Set(Je.detail.indices);for(const at of Je.target.options)at.selected=vt.has(at.index);M.setValue(L,{value:Ue(!0)}),$e=Ue(!1)},editable(Je){Je.target.disabled=!Je.detail.editable}},We)}),fe.addEventListener("input",We=>{const nt=Ue(!0);M.setValue(L,{value:nt}),We.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:L,name:"Keystroke",value:$e,changeEx:nt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(fe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],We=>We.target.checked)):fe.addEventListener("input",function(We){M.setValue(L,{value:Ue(!0)})}),this.data.combo&&this._setTextStyle(fe),this._setBackgroundColor(fe),this._setDefaultPropertiesFromJS(fe),this.container.append(fe),this.container}}class ie extends A{constructor(M){const{data:L}=M;super(M,{isRenderable:!ie.IGNORE_TYPES.has(L.parentType)&&!!(L.titleObj?.str||L.contentsObj?.str||L.richText?.str)})}render(){this.container.className="popupAnnotation";const M=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===M.length)return this.container;const L=new Y({container:this.container,trigger:Array.from(M),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),re=this.page,fe=o.Util.normalizeRect([this.data.parentRect[0],re.view[3]-this.data.parentRect[1]+re.view[1],this.data.parentRect[2],re.view[3]-this.data.parentRect[3]+re.view[1]]),Se=fe[0]+this.data.parentRect[2]-this.data.parentRect[0],Re=fe[1],{pageWidth:Ue,pageHeight:$e,pageX:Ge,pageY:We}=this.viewport.rawDims;return this.container.style.left=100*(Se-Ge)/Ue+"%",this.container.style.top=100*(Re-We)/$e+"%",this.container.append(L.render()),this.container}}_defineProperty(ie,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class Y{constructor(M){this.container=M.container,this.trigger=M.trigger,this.color=M.color,this.titleObj=M.titleObj,this.modificationDate=M.modificationDate,this.contentsObj=M.contentsObj,this.richText=M.richText,this.hideWrapper=M.hideWrapper||!1,this.pinned=!1}render(){const L=document.createElement("div");L.className="popupWrapper",this.hideElement=this.hideWrapper?L:this.container,this.hideElement.hidden=!0;const re=document.createElement("div");re.className="popup";const fe=this.color;fe&&(re.style.backgroundColor=o.Util.makeHexColor(0|.7*(255-fe[0])+fe[0],0|.7*(255-fe[1])+fe[1],0|.7*(255-fe[2])+fe[2]));const Se=document.createElement("h1");Se.dir=this.titleObj.dir,Se.textContent=this.titleObj.str,re.append(Se);const Re=y.PDFDateString.toDateObject(this.modificationDate);if(Re){const Ue=document.createElement("span");Ue.className="popupDate",Ue.textContent="{{date}}, {{time}}",Ue.dataset.l10nId="annotation_date_string",Ue.dataset.l10nArgs=JSON.stringify({date:Re.toLocaleDateString(),time:Re.toLocaleTimeString()}),re.append(Ue)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Ue=this._formatContents(this.contentsObj);re.append(Ue)}else z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:re}),re.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ue of this.trigger)Ue.addEventListener("click",this._toggle.bind(this)),Ue.addEventListener("mouseover",this._show.bind(this,!1)),Ue.addEventListener("mouseout",this._hide.bind(this,!1));return re.addEventListener("click",this._hide.bind(this,!0)),L.append(re),L}_formatContents({str:M,dir:L}){const re=document.createElement("p");re.className="popupContent",re.dir=L;const fe=M.split(/(?:\r\n?|\n)/);for(let Se=0,Re=fe.length;Se<Re;++Se)re.append(document.createTextNode(fe[Se])),Se<Re-1&&re.append(document.createElement("br"));return re}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(M=!1){M&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(M=!0){M&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Oe extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0}),this.textContent=M.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const M=document.createElement("div");M.className="annotationTextContent",M.setAttribute("role","comment");for(const L of this.textContent){const re=document.createElement("span");re.textContent=L,M.append(re)}this.container.append(M)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ze extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const M=this.data,{width:L,height:re}=q(M.rect),fe=this.svgFactory.create(L,re,!0),Se=this.svgFactory.createElement("svg:line");return Se.setAttribute("x1",M.rect[2]-M.lineCoordinates[0]),Se.setAttribute("y1",M.rect[3]-M.lineCoordinates[1]),Se.setAttribute("x2",M.rect[2]-M.lineCoordinates[2]),Se.setAttribute("y2",M.rect[3]-M.lineCoordinates[3]),Se.setAttribute("stroke-width",M.borderStyle.width||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),fe.append(Se),this.container.append(fe),this._createPopup(Se,M),this.container}}class Qe extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const M=this.data,{width:L,height:re}=q(M.rect),fe=this.svgFactory.create(L,re,!0),Se=M.borderStyle.width,Re=this.svgFactory.createElement("svg:rect");return Re.setAttribute("x",Se/2),Re.setAttribute("y",Se/2),Re.setAttribute("width",L-Se),Re.setAttribute("height",re-Se),Re.setAttribute("stroke-width",Se||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),fe.append(Re),this.container.append(fe),this._createPopup(Re,M),this.container}}class Me extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const M=this.data,{width:L,height:re}=q(M.rect),fe=this.svgFactory.create(L,re,!0),Se=M.borderStyle.width,Re=this.svgFactory.createElement("svg:ellipse");return Re.setAttribute("cx",L/2),Re.setAttribute("cy",re/2),Re.setAttribute("rx",L/2-Se/2),Re.setAttribute("ry",re/2-Se/2),Re.setAttribute("stroke-width",Se||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),fe.append(Re),this.container.append(fe),this._createPopup(Re,M),this.container}}class He extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const M=this.data,{width:L,height:re}=q(M.rect),fe=this.svgFactory.create(L,re,!0);let Se=[];for(const Ue of M.vertices)Se.push(Ue.x-M.rect[0]+","+(M.rect[3]-Ue.y));Se=Se.join(" ");const Re=this.svgFactory.createElement(this.svgElementName);return Re.setAttribute("points",Se),Re.setAttribute("stroke-width",M.borderStyle.width||1),Re.setAttribute("stroke","transparent"),Re.setAttribute("fill","transparent"),fe.append(Re),this.container.append(fe),this._createPopup(Re,M),this.container}}class Fe extends He{constructor(M){super(M),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ee extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const M=this.data,{width:L,height:re}=q(M.rect),fe=this.svgFactory.create(L,re,!0);for(const Se of M.inkLists){let Re=[];for(const $e of Se)Re.push(`${$e.x-M.rect[0]},${M.rect[3]-$e.y}`);Re=Re.join(" ");const Ue=this.svgFactory.createElement(this.svgElementName);Ue.setAttribute("points",Re),Ue.setAttribute("stroke-width",M.borderStyle.width||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),this._createPopup(Ue,M),fe.append(Ue)}return this.container.append(fe),this.container}}class Le extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class de extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class C extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class S extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class U extends A{constructor(M){super(M,{isRenderable:!!(M.data.hasPopup||M.data.titleObj?.str||M.data.contentsObj?.str||M.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends A{constructor(M){super(M,{isRenderable:!0});const{filename:L,content:re}=this.data.file;this.filename=(0,y.getFilenameFromUrl)(L,!0),this.content=re,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:L,content:re})}render(){let M;return this.container.className="fileAttachmentAnnotation",this.data.hasAppearance?M=document.createElement("div"):(M=document.createElement("img"),M.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),M.className="popupTriggerArea",M.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(M,this.data),this.container.append(M),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class se{static render(M){const{annotations:L,div:re,viewport:fe,accessibilityManager:Se}=M;(0,y.setLayerDimensions)(re,fe);const Re={data:null,layer:re,page:M.page,viewport:fe,linkService:M.linkService,downloadManager:M.downloadManager,imageResourcesPath:M.imageResourcesPath||"",renderForms:!1!==M.renderForms,svgFactory:new y.DOMSVGFactory,annotationStorage:M.annotationStorage||new $.AnnotationStorage,enableScripting:!0===M.enableScripting,hasJSActions:M.hasJSActions,fieldObjects:M.fieldObjects};let Ue=0;for(const $e of L){if($e.annotationType!==o.AnnotationType.POPUP){const{width:nt,height:Je}=q($e.rect);if(nt<=0||Je<=0)continue}Re.data=$e;const Ge=H.create(Re);if(!Ge.isRenderable)continue;const We=Ge.render();if($e.hidden&&(We.style.visibility="hidden"),Array.isArray(We))for(const nt of We)nt.style.zIndex=Ue++,_classStaticPrivateMethodGet(se,se,he).call(se,nt,$e.id,re,Se);else We.style.zIndex=Ue++,Ge instanceof ie?re.prepend(We):_classStaticPrivateMethodGet(se,se,he).call(se,We,$e.id,re,Se)}_classStaticPrivateMethodGet(this,se,Ce).call(this,re,M.annotationCanvasMap)}static update(M){const{annotationCanvasMap:L,div:re,viewport:fe}=M;(0,y.setLayerDimensions)(re,{rotation:fe.rotation}),_classStaticPrivateMethodGet(this,se,Ce).call(this,re,L),re.hidden=!1}}function he(Pe,M,L,re){const fe=Pe.firstChild||Pe;fe.id=`${y.AnnotationPrefix}${M}`,L.append(Pe),re?.moveElementInDOM(L,Pe,fe,!1)}function Ce(Pe,M){if(M){for(const[L,re]of M){const fe=Pe.querySelector(`[data-annotation-id="${L}"]`);if(!fe)continue;const{firstChild:Se}=fe;Se?"CANVAS"===Se.nodeName?Se.replaceWith(re):Se.before(re):fe.append(re)}M.clear()}}m.AnnotationLayer=se},(pe,m)=>{function v(y){return Math.floor(255*Math.max(0,Math.min(1,y))).toString(16).padStart(2,"0")}Object.defineProperty(m,"__esModule",{value:!0}),m.ColorConverters=void 0,m.ColorConverters=class o{static CMYK_G([$,P,z,J]){return["G",1-Math.min(1,.3*$+.59*z+.11*P+J)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_HTML([$]){const P=v($);return`#${P}${P}${P}`}static RGB_G([$,P,z]){return["G",.3*$+.59*P+.11*z]}static RGB_HTML([$,P,z]){return`#${v($)}${v(P)}${v(z)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([$,P,z,J]){return["RGB",1-Math.min(1,$+J),1-Math.min(1,z+J),1-Math.min(1,P+J)]}static CMYK_HTML($){const P=this.CMYK_RGB($).slice(1);return this.RGB_HTML(P)}static RGB_CMYK([$,P,z]){const J=1-$,k=1-P,Q=1-z;return["CMYK",J,k,Q,Math.min(J,k,Q)]}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayer=void 0;var o=v(19);m.XfaLayer=class y{static setupStorage(P,z,J,k,Q){const q=k.getValue(z,{value:null});switch(J.name){case"textarea":if(null!==q.value&&(P.textContent=q.value),"print"===Q)break;P.addEventListener("input",H=>{k.setValue(z,{value:H.target.value})});break;case"input":if("radio"===J.attributes.type||"checkbox"===J.attributes.type){if(q.value===J.attributes.xfaOn?P.setAttribute("checked",!0):q.value===J.attributes.xfaOff&&P.removeAttribute("checked"),"print"===Q)break;P.addEventListener("change",H=>{k.setValue(z,{value:H.target.getAttribute(H.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==q.value&&P.setAttribute("value",q.value),"print"===Q)break;P.addEventListener("input",H=>{k.setValue(z,{value:H.target.value})})}break;case"select":if(null!==q.value)for(const H of J.children)H.attributes.value===q.value&&(H.attributes.selected=!0);P.addEventListener("input",H=>{const A=H.target.options;k.setValue(z,{value:-1===A.selectedIndex?"":A[A.selectedIndex].value})})}}static setAttributes({html:P,element:z,storage:J=null,intent:k,linkService:Q}){const{attributes:q}=z,H=P instanceof HTMLAnchorElement;"radio"===q.type&&(q.name=`${q.name}-${k}`);for(const[A,O]of Object.entries(q))if(null!=O)switch(A){case"class":O.length&&P.setAttribute(A,O.join(" "));break;case"dataId":break;case"id":P.setAttribute("data-element-id",O);break;case"style":Object.assign(P.style,O);break;case"textContent":P.textContent=O;break;default:(!H||"href"!==A&&"newWindow"!==A)&&P.setAttribute(A,O)}H&&Q.addLinkAttributes(P,q.href,q.newWindow),J&&q.dataId&&this.setupStorage(P,q.dataId,z,J)}static render(P){const z=P.annotationStorage,J=P.linkService,k=P.xfaHtml,Q=P.intent||"display",q=document.createElement(k.name);k.attributes&&this.setAttributes({html:q,element:k,intent:Q,linkService:J});const H=[[k,-1,q]],A=P.div;if(A.append(q),P.viewport){const V=`matrix(${P.viewport.transform.join(",")})`;A.style.transform=V}"richText"!==Q&&A.setAttribute("class","xfaLayer xfaFont");const O=[];for(;H.length>0;){const[V,x,K]=H.at(-1);if(x+1===V.children.length){H.pop();continue}const te=V.children[++H.at(-1)[1]];if(null===te)continue;const{name:me}=te;if("#text"===me){const F=document.createTextNode(te.value);O.push(F),K.append(F);continue}let B;if(B=te?.attributes?.xmlns?document.createElementNS(te.attributes.xmlns,me):document.createElement(me),K.append(B),te.attributes&&this.setAttributes({html:B,element:te,storage:z,intent:Q,linkService:J}),te.children&&te.children.length>0)H.push([te,-1,B]);else if(te.value){const F=document.createTextNode(te.value);o.XfaText.shouldBuildText(me)&&O.push(F),B.append(F)}}for(const V of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))V.setAttribute("readOnly",!0);return{textDivs:O}}static update(P){const z=`matrix(${P.viewport.transform.join(",")})`;P.div.style.transform=z,P.div.hidden=!1}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SVGGraphics=void 0;var o=v(6),y=v(1),$=v(10);let P=class{constructor(){(0,y.unreachable)("Not implemented: SVGGraphics")}};m.SVGGraphics=P;{let V=function(F){let N=[];const W=[];for(const ue of F)"save"!==ue.fn?"restore"===ue.fn?N=W.pop():N.push(ue):(N.push({fnId:92,fn:"group",items:[]}),W.push(N),N=N.at(-1).items);return N},x=function(F){if(Number.isInteger(F))return F.toString();const N=F.toFixed(10);let W=N.length-1;if("0"!==N[W])return N;do{W--}while("0"===N[W]);return N.substring(0,"."===N[W]?W:W+1)},K=function(F){if(0===F[4]&&0===F[5]){if(0===F[1]&&0===F[2])return 1===F[0]&&1===F[3]?"":`scale(${x(F[0])} ${x(F[3])})`;if(F[0]===F[3]&&F[1]===-F[2]){const N=180*Math.acos(F[0])/Math.PI;return`rotate(${x(N)})`}}else if(1===F[0]&&0===F[1]&&0===F[2]&&1===F[3])return`translate(${x(F[4])} ${x(F[5])})`;return`matrix(${x(F[0])} ${x(F[1])} ${x(F[2])} ${x(F[3])} ${x(F[4])} ${x(F[5])})`};const z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},J="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",Q=["butt","round","square"],q=["miter","round","bevel"],H=function(F,N="",W=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!W)return URL.createObjectURL(new Blob([F],{type:N}));const ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ge=`data:${N};base64,`;for(let ie=0,Y=F.length;ie<Y;ie+=3){const Oe=255&F[ie],Ze=255&F[ie+1],Qe=255&F[ie+2];ge+=ue[Oe>>2]+ue[(3&Oe)<<4|Ze>>4]+ue[ie+1<Y?(15&Ze)<<2|Qe>>6:64]+ue[ie+2<Y?63&Qe:64]}return ge},A=function(){const F=new Uint8Array([137,80,78,71,13,10,26,10]),W=new Int32Array(256);for(let Qe=0;Qe<256;Qe++){let Me=Qe;for(let He=0;He<8;He++)Me=1&Me?3988292384^Me>>1&2147483647:Me>>1&2147483647;W[Qe]=Me}function ge(Qe,Me,He,Fe){let ee=Fe;const _e=Me.length;He[ee]=_e>>24&255,He[ee+1]=_e>>16&255,He[ee+2]=_e>>8&255,He[ee+3]=255&_e,ee+=4,He[ee]=255&Qe.charCodeAt(0),He[ee+1]=255&Qe.charCodeAt(1),He[ee+2]=255&Qe.charCodeAt(2),He[ee+3]=255&Qe.charCodeAt(3),ee+=4,He.set(Me,ee),ee+=Me.length;const Le=function ue(Qe,Me,He){let Fe=-1;for(let ee=Me;ee<He;ee++)Fe=Fe>>>8^W[255&(Fe^Qe[ee])];return-1^Fe}(He,Fe+4,ee);He[ee]=Le>>24&255,He[ee+1]=Le>>16&255,He[ee+2]=Le>>8&255,He[ee+3]=255&Le}function Oe(Qe){let Me=Qe.length;const He=65535,Fe=Math.ceil(Me/He),ee=new Uint8Array(2+Me+5*Fe+4);let _e=0;ee[_e++]=120,ee[_e++]=156;let Le=0;for(;Me>He;)ee[_e++]=0,ee[_e++]=255,ee[_e++]=255,ee[_e++]=0,ee[_e++]=0,ee.set(Qe.subarray(Le,Le+He),_e),_e+=He,Le+=He,Me-=He;ee[_e++]=1,ee[_e++]=255&Me,ee[_e++]=Me>>8&255,ee[_e++]=255&~Me,ee[_e++]=(65535&~Me)>>8&255,ee.set(Qe.subarray(Le),_e),_e+=Qe.length-Le;const de=function ie(Qe,Me,He){let Fe=1,ee=0;for(let _e=Me;_e<He;++_e)Fe=(Fe+(255&Qe[_e]))%65521,ee=(ee+Fe)%65521;return ee<<16|Fe}(Qe,0,Qe.length);return ee[_e++]=de>>24&255,ee[_e++]=de>>16&255,ee[_e++]=de>>8&255,ee[_e++]=255&de,ee}return function(Me,He,Fe){return function Ze(Qe,Me,He,Fe){const ee=Qe.width,_e=Qe.height;let Le,de,C;const S=Qe.data;switch(Me){case y.ImageKind.GRAYSCALE_1BPP:de=0,Le=1,C=ee+7>>3;break;case y.ImageKind.RGB_24BPP:de=2,Le=8,C=3*ee;break;case y.ImageKind.RGBA_32BPP:de=6,Le=8,C=4*ee;break;default:throw new Error("invalid format")}const U=new Uint8Array((1+C)*_e);let X=0,se=0;for(let re=0;re<_e;++re)U[X++]=0,U.set(S.subarray(se,se+C),X),se+=C,X+=C;if(Me===y.ImageKind.GRAYSCALE_1BPP&&Fe){X=0;for(let re=0;re<_e;re++){X++;for(let fe=0;fe<C;fe++)U[X++]^=255}}const he=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,255&ee,_e>>24&255,_e>>16&255,_e>>8&255,255&_e,Le,de,0,0,0]),Ce=function Y(Qe){if(!$.isNodeJS)return Oe(Qe);try{let Me;Me=parseInt(process.versions.node)>=8?Qe:Buffer.from(Qe);const He=__webpack_require__(2258).deflateSync(Me,{level:9});return He instanceof Uint8Array?He:new Uint8Array(He)}catch(Me){(0,y.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Me)}return Oe(Qe)}(U),M=new Uint8Array(F.length+36+he.length+Ce.length);let L=0;return M.set(F,L),L+=F.length,ge("IHDR",he,M,L),L+=12+he.length,ge("IDATA",Ce,M,L),L+=12+Ce.length,ge("IEND",new Uint8Array(0),M,L),H(M,"image/png",He)}(Me,void 0===Me.kind?y.ImageKind.GRAYSCALE_1BPP:Me.kind,He,Fe)}}();class O{constructor(){this.fontSizeScale=1,this.fontWeight=z.fontWeight,this.fontSize=0,this.textMatrix=y.IDENTITY_MATRIX,this.fontMatrix=y.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=y.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(N,W){this.x=N,this.y=W}}let te=0,me=0,B=0;m.SVGGraphics=P=class{constructor(F,N,W=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new O,this.transformMatrix=y.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=F,this.objs=N,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!W,this._operatorIdMapping=[];for(const ue in y.OPS)this._operatorIdMapping[y.OPS[ue]]=ue}getObject(F,N=null){return"string"==typeof F?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):N}save(){this.transformStack.push(this.transformMatrix);const F=this.current;this.extraStack.push(F),this.current=F.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(F){this.save(),this.executeOpTree(F),this.restore()}loadDependencies(F){const N=F.fnArray,W=F.argsArray;for(let ue=0,ge=N.length;ue<ge;ue++)if(N[ue]===y.OPS.dependency)for(const ie of W[ue]){const Y=ie.startsWith("g_")?this.commonObjs:this.objs,Oe=new Promise(Ze=>{Y.get(ie,Ze)});this.current.dependencies.push(Oe)}return Promise.all(this.current.dependencies)}transform(F,N,W,ue,ge,ie){this.transformMatrix=y.Util.transform(this.transformMatrix,[F,N,W,ue,ge,ie]),this.tgrp=null}getSVG(F,N){this.viewport=N;const W=this._initialize(N);return this.loadDependencies(F).then(()=>(this.transformMatrix=y.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(F)),W))}convertOpList(F){const N=this._operatorIdMapping,W=F.argsArray,ue=F.fnArray,ge=[];for(let ie=0,Y=ue.length;ie<Y;ie++){const Oe=ue[ie];ge.push({fnId:Oe,fn:N[Oe],args:W[ie]})}return V(ge)}executeOpTree(F){for(const N of F){const W=N.fn,ge=N.args;switch(0|N.fnId){case y.OPS.beginText:this.beginText();break;case y.OPS.dependency:break;case y.OPS.setLeading:this.setLeading(ge);break;case y.OPS.setLeadingMoveText:this.setLeadingMoveText(ge[0],ge[1]);break;case y.OPS.setFont:this.setFont(ge);break;case y.OPS.showText:case y.OPS.showSpacedText:this.showText(ge[0]);break;case y.OPS.endText:this.endText();break;case y.OPS.moveText:this.moveText(ge[0],ge[1]);break;case y.OPS.setCharSpacing:this.setCharSpacing(ge[0]);break;case y.OPS.setWordSpacing:this.setWordSpacing(ge[0]);break;case y.OPS.setHScale:this.setHScale(ge[0]);break;case y.OPS.setTextMatrix:this.setTextMatrix(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]);break;case y.OPS.setTextRise:this.setTextRise(ge[0]);break;case y.OPS.setTextRenderingMode:this.setTextRenderingMode(ge[0]);break;case y.OPS.setLineWidth:this.setLineWidth(ge[0]);break;case y.OPS.setLineJoin:this.setLineJoin(ge[0]);break;case y.OPS.setLineCap:this.setLineCap(ge[0]);break;case y.OPS.setMiterLimit:this.setMiterLimit(ge[0]);break;case y.OPS.setFillRGBColor:this.setFillRGBColor(ge[0],ge[1],ge[2]);break;case y.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ge[0],ge[1],ge[2]);break;case y.OPS.setStrokeColorN:this.setStrokeColorN(ge);break;case y.OPS.setFillColorN:this.setFillColorN(ge);break;case y.OPS.shadingFill:this.shadingFill(ge[0]);break;case y.OPS.setDash:this.setDash(ge[0],ge[1]);break;case y.OPS.setRenderingIntent:this.setRenderingIntent(ge[0]);break;case y.OPS.setFlatness:this.setFlatness(ge[0]);break;case y.OPS.setGState:this.setGState(ge[0]);break;case y.OPS.fill:this.fill();break;case y.OPS.eoFill:this.eoFill();break;case y.OPS.stroke:this.stroke();break;case y.OPS.fillStroke:this.fillStroke();break;case y.OPS.eoFillStroke:this.eoFillStroke();break;case y.OPS.clip:this.clip("nonzero");break;case y.OPS.eoClip:this.clip("evenodd");break;case y.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case y.OPS.paintImageXObject:this.paintImageXObject(ge[0]);break;case y.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ge[0]);break;case y.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ge[0]);break;case y.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ge[0],ge[1]);break;case y.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case y.OPS.closePath:this.closePath();break;case y.OPS.closeStroke:this.closeStroke();break;case y.OPS.closeFillStroke:this.closeFillStroke();break;case y.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case y.OPS.nextLine:this.nextLine();break;case y.OPS.transform:this.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]);break;case y.OPS.constructPath:this.constructPath(ge[0],ge[1]);break;case y.OPS.endPath:this.endPath();break;case 92:this.group(N.items);break;default:(0,y.warn)(`Unimplemented operator ${W}`)}}}setWordSpacing(F){this.current.wordSpacing=F}setCharSpacing(F){this.current.charSpacing=F}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(F,N,W,ue,ge,ie){const Y=this.current;Y.textMatrix=Y.lineMatrix=[F,N,W,ue,ge,ie],Y.textMatrixScale=Math.hypot(F,N),Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${x(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",x(-Y.y)),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtElement.append(Y.tspan)}beginText(){const F=this.current;F.x=F.lineX=0,F.y=F.lineY=0,F.textMatrix=y.IDENTITY_MATRIX,F.lineMatrix=y.IDENTITY_MATRIX,F.textMatrixScale=1,F.tspan=this.svgFactory.createElement("svg:tspan"),F.txtElement=this.svgFactory.createElement("svg:text"),F.txtgrp=this.svgFactory.createElement("svg:g"),F.xcoords=[],F.ycoords=[]}moveText(F,N){const W=this.current;W.x=W.lineX+=F,W.y=W.lineY+=N,W.xcoords=[],W.ycoords=[],W.tspan=this.svgFactory.createElement("svg:tspan"),W.tspan.setAttributeNS(null,"font-family",W.fontFamily),W.tspan.setAttributeNS(null,"font-size",`${x(W.fontSize)}px`),W.tspan.setAttributeNS(null,"y",x(-W.y))}showText(F){const N=this.current,W=N.font,ue=N.fontSize;if(0===ue)return;const ge=N.fontSizeScale,ie=N.charSpacing,Y=N.wordSpacing,Oe=N.fontDirection,Ze=N.textHScale*Oe,Qe=W.vertical,Me=Qe?1:-1,He=W.defaultVMetrics,Fe=ue*N.fontMatrix[0];let ee=0;for(const de of F){if(null===de){ee+=Oe*Y;continue}if("number"==typeof de){ee+=Me*de*ue/1e3;continue}const C=(de.isSpace?Y:0)+ie,S=de.fontChar;let U,X,he,se=de.width;if(Qe){let Ce;const Pe=de.vmetric||He;Ce=de.vmetric?Pe[1]:.5*se,Ce=-Ce*Fe,se=Pe?-Pe[0]:se,U=Ce/ge,X=(ee+Pe[2]*Fe)/ge}else U=ee/ge,X=0;(de.isInFont||W.missingFile)&&(N.xcoords.push(N.x+U),Qe&&N.ycoords.push(-N.y+X),N.tspan.textContent+=S),he=Qe?se*Fe-C*Oe:se*Fe+C*Oe,ee+=he}N.tspan.setAttributeNS(null,"x",N.xcoords.map(x).join(" ")),N.tspan.setAttributeNS(null,"y",Qe?N.ycoords.map(x).join(" "):x(-N.y)),Qe?N.y-=ee:N.x+=ee*Ze,N.tspan.setAttributeNS(null,"font-family",N.fontFamily),N.tspan.setAttributeNS(null,"font-size",`${x(N.fontSize)}px`),N.fontStyle!==z.fontStyle&&N.tspan.setAttributeNS(null,"font-style",N.fontStyle),N.fontWeight!==z.fontWeight&&N.tspan.setAttributeNS(null,"font-weight",N.fontWeight);const _e=N.textRenderingMode&y.TextRenderingMode.FILL_STROKE_MASK;_e===y.TextRenderingMode.FILL||_e===y.TextRenderingMode.FILL_STROKE?(N.fillColor!==z.fillColor&&N.tspan.setAttributeNS(null,"fill",N.fillColor),N.fillAlpha<1&&N.tspan.setAttributeNS(null,"fill-opacity",N.fillAlpha)):N.tspan.setAttributeNS(null,"fill",N.textRenderingMode===y.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(_e===y.TextRenderingMode.STROKE||_e===y.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(N.tspan,1/(N.textMatrixScale||1));let Le=N.textMatrix;0!==N.textRise&&(Le=Le.slice(),Le[5]+=N.textRise),N.txtElement.setAttributeNS(null,"transform",`${K(Le)} scale(${x(Ze)}, -1)`),N.txtElement.setAttributeNS(J,"xml:space","preserve"),N.txtElement.append(N.tspan),N.txtgrp.append(N.txtElement),this._ensureTransformGroup().append(N.txtElement)}setLeadingMoveText(F,N){this.setLeading(-N),this.moveText(F,N)}addFontStyle(F){if(!F.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const N=H(F.data,F.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${F.loadedName}"; src: url(${N}); }\n`}setFont(F){const N=this.current,W=this.commonObjs.get(F[0]);let ue=F[1];N.font=W,this.embedFonts&&!W.missingFile&&!this.embeddedFonts[W.loadedName]&&(this.addFontStyle(W),this.embeddedFonts[W.loadedName]=W),N.fontMatrix=W.fontMatrix||y.FONT_IDENTITY_MATRIX;let ge="normal";W.black?ge="900":W.bold&&(ge="bold");const ie=W.italic?"italic":"normal";ue<0?(ue=-ue,N.fontDirection=-1):N.fontDirection=1,N.fontSize=ue,N.fontFamily=W.loadedName,N.fontWeight=ge,N.fontStyle=ie,N.tspan=this.svgFactory.createElement("svg:tspan"),N.tspan.setAttributeNS(null,"y",x(-N.y)),N.xcoords=[],N.ycoords=[]}endText(){const F=this.current;F.textRenderingMode&y.TextRenderingMode.ADD_TO_PATH_FLAG&&F.txtElement?.hasChildNodes()&&(F.element=F.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(F){F>0&&(this.current.lineWidth=F)}setLineCap(F){this.current.lineCap=Q[F]}setLineJoin(F){this.current.lineJoin=q[F]}setMiterLimit(F){this.current.miterLimit=F}setStrokeAlpha(F){this.current.strokeAlpha=F}setStrokeRGBColor(F,N,W){this.current.strokeColor=y.Util.makeHexColor(F,N,W)}setFillAlpha(F){this.current.fillAlpha=F}setFillRGBColor(F,N,W){this.current.fillColor=y.Util.makeHexColor(F,N,W),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(F){this.current.strokeColor=this._makeColorN_Pattern(F)}setFillColorN(F){this.current.fillColor=this._makeColorN_Pattern(F)}shadingFill(F){const N=this.viewport.width,W=this.viewport.height,ue=y.Util.inverseTransform(this.transformMatrix),ge=y.Util.applyTransform([0,0],ue),ie=y.Util.applyTransform([0,W],ue),Y=y.Util.applyTransform([N,0],ue),Oe=y.Util.applyTransform([N,W],ue),Ze=Math.min(ge[0],ie[0],Y[0],Oe[0]),Qe=Math.min(ge[1],ie[1],Y[1],Oe[1]),Me=Math.max(ge[0],ie[0],Y[0],Oe[0]),He=Math.max(ge[1],ie[1],Y[1],Oe[1]),Fe=this.svgFactory.createElement("svg:rect");Fe.setAttributeNS(null,"x",Ze),Fe.setAttributeNS(null,"y",Qe),Fe.setAttributeNS(null,"width",Me-Ze),Fe.setAttributeNS(null,"height",He-Qe),Fe.setAttributeNS(null,"fill",this._makeShadingPattern(F)),this.current.fillAlpha<1&&Fe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Fe)}_makeColorN_Pattern(F){return"TilingPattern"===F[0]?this._makeTilingPattern(F):this._makeShadingPattern(F)}_makeTilingPattern(F){const N=F[1],W=F[2],ue=F[3]||y.IDENTITY_MATRIX,[ge,ie,Y,Oe]=F[4],Ze=F[5],Qe=F[6],Me=F[7],He="shading"+B++,[Fe,ee,_e,Le]=y.Util.normalizeRect([...y.Util.applyTransform([ge,ie],ue),...y.Util.applyTransform([Y,Oe],ue)]),[de,C]=y.Util.singularValueDecompose2dScale(ue),S=Ze*de,U=Qe*C,X=this.svgFactory.createElement("svg:pattern");X.setAttributeNS(null,"id",He),X.setAttributeNS(null,"patternUnits","userSpaceOnUse"),X.setAttributeNS(null,"width",S),X.setAttributeNS(null,"height",U),X.setAttributeNS(null,"x",`${Fe}`),X.setAttributeNS(null,"y",`${ee}`);const se=this.svg,he=this.transformMatrix,Ce=this.current.fillColor,Pe=this.current.strokeColor,M=this.svgFactory.create(_e-Fe,Le-ee);if(this.svg=M,this.transformMatrix=ue,2===Me){const L=y.Util.makeHexColor(...N);this.current.fillColor=L,this.current.strokeColor=L}return this.executeOpTree(this.convertOpList(W)),this.svg=se,this.transformMatrix=he,this.current.fillColor=Ce,this.current.strokeColor=Pe,X.append(M.childNodes[0]),this.defs.append(X),`url(#${He})`}_makeShadingPattern(F){switch("string"==typeof F&&(F=this.objs.get(F)),F[0]){case"RadialAxial":const N="shading"+B++,W=F[3];let ue;switch(F[1]){case"axial":const ge=F[4],ie=F[5];ue=this.svgFactory.createElement("svg:linearGradient"),ue.setAttributeNS(null,"id",N),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"x1",ge[0]),ue.setAttributeNS(null,"y1",ge[1]),ue.setAttributeNS(null,"x2",ie[0]),ue.setAttributeNS(null,"y2",ie[1]);break;case"radial":const Y=F[4],Oe=F[5],Ze=F[6],Qe=F[7];ue=this.svgFactory.createElement("svg:radialGradient"),ue.setAttributeNS(null,"id",N),ue.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ue.setAttributeNS(null,"cx",Oe[0]),ue.setAttributeNS(null,"cy",Oe[1]),ue.setAttributeNS(null,"r",Qe),ue.setAttributeNS(null,"fx",Y[0]),ue.setAttributeNS(null,"fy",Y[1]),ue.setAttributeNS(null,"fr",Ze);break;default:throw new Error(`Unknown RadialAxial type: ${F[1]}`)}for(const ge of W){const ie=this.svgFactory.createElement("svg:stop");ie.setAttributeNS(null,"offset",ge[0]),ie.setAttributeNS(null,"stop-color",ge[1]),ue.append(ie)}return this.defs.append(ue),`url(#${N})`;case"Mesh":return(0,y.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${F[0]}`)}}setDash(F,N){this.current.dashArray=F,this.current.dashPhase=N}constructPath(F,N){const W=this.current;let ue=W.x,ge=W.y,ie=[],Y=0;for(const Oe of F)switch(0|Oe){case y.OPS.rectangle:ue=N[Y++],ge=N[Y++];const Me=ue+N[Y++],He=ge+N[Y++];ie.push("M",x(ue),x(ge),"L",x(Me),x(ge),"L",x(Me),x(He),"L",x(ue),x(He),"Z");break;case y.OPS.moveTo:ue=N[Y++],ge=N[Y++],ie.push("M",x(ue),x(ge));break;case y.OPS.lineTo:ue=N[Y++],ge=N[Y++],ie.push("L",x(ue),x(ge));break;case y.OPS.curveTo:ue=N[Y+4],ge=N[Y+5],ie.push("C",x(N[Y]),x(N[Y+1]),x(N[Y+2]),x(N[Y+3]),x(ue),x(ge)),Y+=6;break;case y.OPS.curveTo2:ie.push("C",x(ue),x(ge),x(N[Y]),x(N[Y+1]),x(N[Y+2]),x(N[Y+3])),ue=N[Y+2],ge=N[Y+3],Y+=4;break;case y.OPS.curveTo3:ue=N[Y+2],ge=N[Y+3],ie.push("C",x(N[Y]),x(N[Y+1]),x(ue),x(ge),x(ue),x(ge)),Y+=4;break;case y.OPS.closePath:ie.push("Z")}ie=ie.join(" "),W.path&&F.length>0&&F[0]!==y.OPS.rectangle&&F[0]!==y.OPS.moveTo?ie=W.path.getAttributeNS(null,"d")+ie:(W.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(W.path)),W.path.setAttributeNS(null,"d",ie),W.path.setAttributeNS(null,"fill","none"),W.element=W.path,W.setCurrentPoint(ue,ge)}endPath(){const F=this.current;if(F.path=null,!this.pendingClip)return;if(!F.element)return void(this.pendingClip=null);const N="clippath"+te++,W=this.svgFactory.createElement("svg:clipPath");W.setAttributeNS(null,"id",N),W.setAttributeNS(null,"transform",K(this.transformMatrix));const ue=F.element.cloneNode(!0);if(ue.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,W.append(ue),this.defs.append(W),F.activeClipUrl){F.clipGroup=null;for(const ge of this.extraStack)ge.clipGroup=null;W.setAttributeNS(null,"clip-path",F.activeClipUrl)}F.activeClipUrl=`url(#${N})`,this.tgrp=null}clip(F){this.pendingClip=F}closePath(){const F=this.current;if(F.path){const N=`${F.path.getAttributeNS(null,"d")}Z`;F.path.setAttributeNS(null,"d",N)}}setLeading(F){this.current.leading=-F}setTextRise(F){this.current.textRise=F}setTextRenderingMode(F){this.current.textRenderingMode=F}setHScale(F){this.current.textHScale=F/100}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(const[N,W]of F)switch(N){case"LW":this.setLineWidth(W);break;case"LC":this.setLineCap(W);break;case"LJ":this.setLineJoin(W);break;case"ML":this.setMiterLimit(W);break;case"D":this.setDash(W[0],W[1]);break;case"RI":this.setRenderingIntent(W);break;case"FL":this.setFlatness(W);break;case"Font":this.setFont(W);break;case"CA":this.setStrokeAlpha(W);break;case"ca":this.setFillAlpha(W);break;default:(0,y.warn)(`Unimplemented graphic state operator ${N}`)}}fill(){const F=this.current;F.element&&(F.element.setAttributeNS(null,"fill",F.fillColor),F.element.setAttributeNS(null,"fill-opacity",F.fillAlpha),this.endPath())}stroke(){const F=this.current;F.element&&(this._setStrokeAttributes(F.element),F.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(F,N=1){const W=this.current;let ue=W.dashArray;1!==N&&ue.length>0&&(ue=ue.map(function(ge){return N*ge})),F.setAttributeNS(null,"stroke",W.strokeColor),F.setAttributeNS(null,"stroke-opacity",W.strokeAlpha),F.setAttributeNS(null,"stroke-miterlimit",x(W.miterLimit)),F.setAttributeNS(null,"stroke-linecap",W.lineCap),F.setAttributeNS(null,"stroke-linejoin",W.lineJoin),F.setAttributeNS(null,"stroke-width",x(N*W.lineWidth)+"px"),F.setAttributeNS(null,"stroke-dasharray",ue.map(x).join(" ")),F.setAttributeNS(null,"stroke-dashoffset",x(N*W.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width","1px"),F.setAttributeNS(null,"height","1px"),F.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(F)}paintImageXObject(F){const N=this.getObject(F);N?this.paintInlineImageXObject(N):(0,y.warn)(`Dependent image with object ID ${F} is not ready yet`)}paintInlineImageXObject(F,N){const W=F.width,ue=F.height,ge=A(F,this.forceDataSchema,!!N),ie=this.svgFactory.createElement("svg:rect");ie.setAttributeNS(null,"x","0"),ie.setAttributeNS(null,"y","0"),ie.setAttributeNS(null,"width",x(W)),ie.setAttributeNS(null,"height",x(ue)),this.current.element=ie,this.clip("nonzero");const Y=this.svgFactory.createElement("svg:image");Y.setAttributeNS(k,"xlink:href",ge),Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y",x(-ue)),Y.setAttributeNS(null,"width",x(W)+"px"),Y.setAttributeNS(null,"height",x(ue)+"px"),Y.setAttributeNS(null,"transform",`scale(${x(1/W)} ${x(-1/ue)})`),N?N.append(Y):this._ensureTransformGroup().append(Y)}paintImageMaskXObject(F){const N=this.getObject(F.data,F);if(N.bitmap)return void(0,y.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const W=this.current,ue=N.width,ge=N.height,ie=W.fillColor;W.maskId="mask"+me++;const Y=this.svgFactory.createElement("svg:mask");Y.setAttributeNS(null,"id",W.maskId);const Oe=this.svgFactory.createElement("svg:rect");Oe.setAttributeNS(null,"x","0"),Oe.setAttributeNS(null,"y","0"),Oe.setAttributeNS(null,"width",x(ue)),Oe.setAttributeNS(null,"height",x(ge)),Oe.setAttributeNS(null,"fill",ie),Oe.setAttributeNS(null,"mask",`url(#${W.maskId})`),this.defs.append(Y),this._ensureTransformGroup().append(Oe),this.paintInlineImageXObject(N,Y)}paintFormXObjectBegin(F,N){if(Array.isArray(F)&&6===F.length&&this.transform(F[0],F[1],F[2],F[3],F[4],F[5]),N){const W=N[2]-N[0],ue=N[3]-N[1],ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x",N[0]),ge.setAttributeNS(null,"y",N[1]),ge.setAttributeNS(null,"width",x(W)),ge.setAttributeNS(null,"height",x(ue)),this.current.element=ge,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(F){const N=this.svgFactory.create(F.width,F.height),W=this.svgFactory.createElement("svg:defs");N.append(W),this.defs=W;const ue=this.svgFactory.createElement("svg:g");return ue.setAttributeNS(null,"transform",K(F.transform)),N.append(ue),this.svg=ue,N}_ensureClipGroup(){if(!this.current.clipGroup){const F=this.svgFactory.createElement("svg:g");F.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(F),this.current.clipGroup=F}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",K(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFNodeStream=void 0;var o=v(1),y=v(32);const $=__webpack_require__(172),P=__webpack_require__(2001),z=__webpack_require__(3779),J=__webpack_require__(6558),k=/^file:\/\/\/[a-zA-Z]:\//;m.PDFNodeStream=class q{constructor(B){this.source=B,this.url=function Q(me){const B=J.parse(me);return"file:"===B.protocol||B.host?B:/^[a-z]:[/\\]/i.test(me)?J.parse(`file:///${me}`):(B.host||(B.protocol="file:"),B)}(B.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&B.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new K(this):new V(this),this._fullRequestReader}getRangeReader(B,F){if(F<=this._progressiveDataLength)return null;const N=this.isFsUrl?new te(this,B,F):new x(this,B,F);return this._rangeRequestReaders.push(N),N}cancelAllRequests(B){this._fullRequestReader?.cancel(B);for(const F of this._rangeRequestReaders.slice(0))F.cancel(B)}};class H{constructor(B){this._url=B.url,this._done=!1,this._storedError=null,this.onProgress=null;const F=B.source;this._contentLength=F.length,this._loaded=0,this._filename=null,this._disableRange=F.disableRange||!1,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var B=this;return _asyncToGenerator(function*(){if(yield B._readCapability.promise,B._done)return{value:void 0,done:!0};if(B._storedError)throw B._storedError;const F=B._readableStream.read();return null===F?(B._readCapability=(0,o.createPromiseCapability)(),B.read()):(B._loaded+=F.length,B.onProgress?.({loaded:B._loaded,total:B._contentLength}),{value:new Uint8Array(F).buffer,done:!1})})()}cancel(B){this._readableStream?this._readableStream.destroy(B):this._error(B)}_error(B){this._storedError=B,this._readCapability.resolve()}_setReadableStream(B){this._readableStream=B,B.on("readable",()=>{this._readCapability.resolve()}),B.on("end",()=>{B.destroy(),this._done=!0,this._readCapability.resolve()}),B.on("error",F=>{this._error(F)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(B){this._url=B.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!B.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var B=this;return _asyncToGenerator(function*(){if(yield B._readCapability.promise,B._done)return{value:void 0,done:!0};if(B._storedError)throw B._storedError;const F=B._readableStream.read();return null===F?(B._readCapability=(0,o.createPromiseCapability)(),B.read()):(B._loaded+=F.length,B.onProgress?.({loaded:B._loaded}),{value:new Uint8Array(F).buffer,done:!1})})()}cancel(B){this._readableStream?this._readableStream.destroy(B):this._error(B)}_error(B){this._storedError=B,this._readCapability.resolve()}_setReadableStream(B){this._readableStream=B,B.on("readable",()=>{this._readCapability.resolve()}),B.on("end",()=>{B.destroy(),this._done=!0,this._readCapability.resolve()}),B.on("error",F=>{this._error(F)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function O(me,B){return{protocol:me.protocol,auth:me.auth,host:me.hostname,port:me.port,path:me.path,method:"GET",headers:B}}class V extends H{constructor(B){super(B);const F=N=>{if(404===N.statusCode){const ie=new o.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=ie,void this._headersCapability.reject(ie)}this._headersCapability.resolve(),this._setReadableStream(N);const W=ie=>this._readableStream.headers[ie.toLowerCase()],{allowRangeRequests:ue,suggestedLength:ge}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:W,isHttp:B.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ue,this._contentLength=ge||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(W)};this._request=null,this._request="http:"===this._url.protocol?P.request(O(this._url,B.httpHeaders),F):z.request(O(this._url,B.httpHeaders),F),this._request.on("error",N=>{this._storedError=N,this._headersCapability.reject(N)}),this._request.end()}}class x extends A{constructor(B,F,N){super(B),this._httpHeaders={};for(const ue in B.httpHeaders){const ge=B.httpHeaders[ue];void 0!==ge&&(this._httpHeaders[ue]=ge)}this._httpHeaders.Range=`bytes=${F}-${N-1}`;const W=ue=>{if(404!==ue.statusCode)this._setReadableStream(ue);else{const ge=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ge}};this._request=null,this._request="http:"===this._url.protocol?P.request(O(this._url,this._httpHeaders),W):z.request(O(this._url,this._httpHeaders),W),this._request.on("error",ue=>{this._storedError=ue}),this._request.end()}}class K extends H{constructor(B){super(B);let F=decodeURIComponent(this._url.path);k.test(this._url.href)&&(F=F.replace(/^\//,"")),$.lstat(F,(N,W)=>{if(N)return"ENOENT"===N.code&&(N=new o.MissingPDFException(`Missing PDF "${F}".`)),this._storedError=N,void this._headersCapability.reject(N);this._contentLength=W.size,this._setReadableStream($.createReadStream(F)),this._headersCapability.resolve()})}}class te extends A{constructor(B,F,N){super(B);let W=decodeURIComponent(this._url.path);k.test(this._url.href)&&(W=W.replace(/^\//,"")),this._setReadableStream($.createReadStream(W,{start:F,end:N-1}))}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.createResponseStatusError=function J(Q,q){return 404===Q||0===Q&&q.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+q+'".'):new o.UnexpectedResponseException(`Unexpected server response (${Q}) while retrieving PDF "${q}".`,Q)},m.extractFilenameFromHeader=function z(Q){const q=Q("Content-Disposition");if(q){let H=(0,y.getFilenameFromContentDispositionHeader)(q);if(H.includes("%"))try{H=decodeURIComponent(H)}catch{}if((0,$.isPdfFile)(H))return H}return null},m.validateRangeRequestCapabilities=function P({getResponseHeader:Q,isHttp:q,rangeChunkSize:H,disableRange:A}){const O={allowRangeRequests:!1,suggestedLength:void 0},V=parseInt(Q("Content-Length"),10);return!Number.isInteger(V)||(O.suggestedLength=V,V<=2*H)||A||!q||"bytes"!==Q("Accept-Ranges")||"identity"!==(Q("Content-Encoding")||"identity")||(O.allowRangeRequests=!0),O},m.validateResponseStatus=function k(Q){return 200===Q||206===Q};var o=v(1),y=v(33),$=v(6)},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.getFilenameFromContentDispositionHeader=function y($){let P=!0,z=J("filename\\*","i").exec($);if(z){z=z[1];let V=H(z);return V=unescape(V),V=A(V),V=O(V),Q(V)}if(z=function q(V){const x=[];let K;const te=J("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(K=te.exec(V));){let[,B,F,N]=K;if(B=parseInt(B,10),B in x){if(0===B)break}else x[B]=[F,N]}const me=[];for(let B=0;B<x.length&&B in x;++B){let[F,N]=x[B];N=H(N),F&&(N=unescape(N),0===B&&(N=A(N))),me.push(N)}return me.join("")}($),z)return Q(O(z));if(z=J("filename","i").exec($),z){z=z[1];let V=H(z);return V=O(V),Q(V)}function J(V,x){return new RegExp("(?:^|;)\\s*"+V+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function k(V,x){if(V){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const K=new TextDecoder(V,{fatal:!0}),te=(0,o.stringToBytes)(x);x=K.decode(te),P=!1}catch{}}return x}function Q(V){return P&&/[\x80-\xff]/.test(V)&&(V=k("utf-8",V),P&&(V=k("iso-8859-1",V))),V}function H(V){if(V.startsWith('"')){const x=V.slice(1).split('\\"');for(let K=0;K<x.length;++K){const te=x[K].indexOf('"');-1!==te&&(x[K]=x[K].slice(0,te),x.length=K+1),x[K]=x[K].replace(/\\(.)/g,"$1")}V=x.join('"')}return V}function A(V){const x=V.indexOf("'");return-1===x?V:k(V.slice(0,x),V.slice(x+1).replace(/^[^']*'/,""))}function O(V){return!V.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(V)?V:V.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,K,te,me){if("q"===te||"Q"===te)return k(K,me=(me=me.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(B,F){return String.fromCharCode(parseInt(F,16))}));try{me=atob(me)}catch{}return k(K,me)})}return""};var o=v(1)},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFNetworkStream=void 0;var o=v(1),y=v(32);class J{constructor(A,O={}){this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&O.httpHeaders||Object.create(null),this.withCredentials=O.withCredentials||!1,this.getXhr=O.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,O,V){const x={begin:A,end:O};for(const K in V)x[K]=V[K];return this.request(x)}requestFull(A){return this.request(A)}request(A){const O=this.getXhr(),V=this.currXhrId++,x=this.pendingRequests[V]={xhr:O};O.open("GET",this.url),O.withCredentials=this.withCredentials;for(const K in this.httpHeaders){const te=this.httpHeaders[K];void 0!==te&&O.setRequestHeader(K,te)}return this.isHttp&&"begin"in A&&"end"in A?(O.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),x.expectedStatus=206):x.expectedStatus=200,O.responseType="arraybuffer",A.onError&&(O.onerror=function(K){A.onError(O.status)}),O.onreadystatechange=this.onStateChange.bind(this,V),O.onprogress=this.onProgress.bind(this,V),x.onHeadersReceived=A.onHeadersReceived,x.onDone=A.onDone,x.onError=A.onError,x.onProgress=A.onProgress,O.send(null),V}onProgress(A,O){const V=this.pendingRequests[A];V&&V.onProgress?.(O)}onStateChange(A,O){const V=this.pendingRequests[A];if(!V)return;const x=V.xhr;if(x.readyState>=2&&V.onHeadersReceived&&(V.onHeadersReceived(),delete V.onHeadersReceived),4!==x.readyState||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],0===x.status&&this.isHttp)return void V.onError?.(x.status);const K=x.status||200;if((200!==K||206!==V.expectedStatus)&&K!==V.expectedStatus)return void V.onError?.(x.status);const me=function z(H){const A=H.response;return"string"!=typeof A?A:(0,o.stringToBytes)(A).buffer}(x);if(206===K){const B=x.getResponseHeader("Content-Range"),F=/bytes (\d+)-(\d+)\/(\d+)/.exec(B);V.onDone({begin:parseInt(F[1],10),chunk:me})}else me?V.onDone({begin:0,chunk:me}):V.onError?.(x.status)}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){const O=this.pendingRequests[A].xhr;delete this.pendingRequests[A],O.abort()}}m.PDFNetworkStream=class k{constructor(A){this._source=A,this._manager=new J(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){const O=this._rangeRequestReaders.indexOf(A);O>=0&&this._rangeRequestReaders.splice(O,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Q(this._manager,this._source),this._fullRequestReader}getRangeReader(A,O){const V=new q(this._manager,A,O);return V.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(V),V}cancelAllRequests(A){this._fullRequestReader?.cancel(A);for(const O of this._rangeRequestReaders.slice(0))O.cancel(A)}};class Q{constructor(A,O){this._manager=A;const V={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._fullRequestId=A.requestFull(V),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=O.disableRange||!1,this._contentLength=O.length,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const A=this._fullRequestId,O=this._manager.getRequestXhr(A),V=te=>O.getResponseHeader(te),{allowRangeRequests:x,suggestedLength:K}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=K||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(V),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A&&(this._requests.length>0?this._requests.shift().resolve({value:A.chunk,done:!1}):this._cachedChunks.push(A.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){this._storedError=(0,y.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError);for(const O of this._requests)O.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){this.onProgress?.({loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var A=this;return _asyncToGenerator(function*(){if(A._storedError)throw A._storedError;if(A._cachedChunks.length>0)return{value:A._cachedChunks.shift(),done:!1};if(A._done)return{value:void 0,done:!0};const O=(0,o.createPromiseCapability)();return A._requests.push(O),O.promise})()}cancel(A){this._done=!0,this._headersReceivedCapability.reject(A);for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class q{constructor(A,O,V){this._manager=A;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(O,V,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(A){const O=A.chunk;this._requests.length>0?this._requests.shift().resolve({value:O,done:!1}):this._queuedChunk=O,this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){this._storedError=(0,y.createResponseStatusError)(A,this._url);for(const O of this._requests)O.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){this.isStreamingSupported||this.onProgress?.({loaded:A.loaded})}get isStreamingSupported(){return!1}read(){var A=this;return _asyncToGenerator(function*(){if(A._storedError)throw A._storedError;if(null!==A._queuedChunk){const V=A._queuedChunk;return A._queuedChunk=null,{value:V,done:!1}}if(A._done)return{value:void 0,done:!0};const O=(0,o.createPromiseCapability)();return A._requests.push(O),O.promise})()}cancel(A){this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(pe,m,v)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFetchStream=void 0;var o=v(1),y=v(32);function $(Q,q,H){return{method:"GET",headers:Q,signal:H.signal,mode:"cors",credentials:q?"include":"same-origin",redirect:"follow"}}function P(Q){const q=new Headers;for(const H in Q){const A=Q[H];void 0!==A&&q.append(H,A)}return q}m.PDFFetchStream=class z{constructor(q){this.source=q,this.isHttp=/^https?:/i.test(q.url),this.httpHeaders=this.isHttp&&q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new J(this),this._fullRequestReader}getRangeReader(q,H){if(H<=this._progressiveDataLength)return null;const A=new k(this,q,H);return this._rangeRequestReaders.push(A),A}cancelAllRequests(q){this._fullRequestReader?.cancel(q);for(const H of this._rangeRequestReaders.slice(0))H.cancel(q)}};class J{constructor(q){this._stream=q,this._reader=null,this._loaded=0,this._filename=null;const H=q.source;this._withCredentials=H.withCredentials||!1,this._contentLength=H.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._headers=P(this._stream.httpHeaders);const A=H.url;fetch(A,$(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,y.validateResponseStatus)(O.status))throw(0,y.createResponseStatusError)(O.status,A);this._reader=O.body.getReader(),this._headersCapability.resolve();const V=te=>O.headers.get(te),{allowRangeRequests:x,suggestedLength:K}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:V,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=K||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(V),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var q=this;return _asyncToGenerator(function*(){yield q._headersCapability.promise;const{value:H,done:A}=yield q._reader.read();return A?{value:H,done:A}:(q._loaded+=H.byteLength,q.onProgress?.({loaded:q._loaded,total:q._contentLength}),{value:new Uint8Array(H).buffer,done:!1})})()}cancel(q){this._reader?.cancel(q),this._abortController.abort()}}class k{constructor(q,H,A){this._stream=q,this._reader=null,this._loaded=0;const O=q.source;this._withCredentials=O.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!O.disableStream,this._abortController=new AbortController,this._headers=P(this._stream.httpHeaders),this._headers.append("Range",`bytes=${H}-${A-1}`);const V=O.url;fetch(V,$(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,y.validateResponseStatus)(x.status))throw(0,y.createResponseStatusError)(x.status,V);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var q=this;return _asyncToGenerator(function*(){yield q._readCapability.promise;const{value:H,done:A}=yield q._reader.read();return A?{value:H,done:A}:(q._loaded+=H.byteLength,q.onProgress?.({loaded:q._loaded}),{value:new Uint8Array(H).buffer,done:!1})})()}cancel(q){this._reader?.cancel(q),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(pe){var m=__webpack_module_cache__[pe];if(void 0!==m)return m.exports;var v=__webpack_module_cache__[pe]={exports:{}};return __webpack_modules__[pe](v,v.exports,__w_pdfjs_require__),v.exports}var __nested_webpack_exports__={};return(()=>{var pe=__nested_webpack_exports__;Object.defineProperty(pe,"__esModule",{value:!0}),Object.defineProperty(pe,"AbortException",{enumerable:!0,get:function(){return m.AbortException}}),Object.defineProperty(pe,"AnnotationEditorLayer",{enumerable:!0,get:function(){return $.AnnotationEditorLayer}}),Object.defineProperty(pe,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return m.AnnotationEditorParamsType}}),Object.defineProperty(pe,"AnnotationEditorType",{enumerable:!0,get:function(){return m.AnnotationEditorType}}),Object.defineProperty(pe,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return P.AnnotationEditorUIManager}}),Object.defineProperty(pe,"AnnotationLayer",{enumerable:!0,get:function(){return z.AnnotationLayer}}),Object.defineProperty(pe,"AnnotationMode",{enumerable:!0,get:function(){return m.AnnotationMode}}),Object.defineProperty(pe,"CMapCompressionType",{enumerable:!0,get:function(){return m.CMapCompressionType}}),Object.defineProperty(pe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return J.GlobalWorkerOptions}}),Object.defineProperty(pe,"InvalidPDFException",{enumerable:!0,get:function(){return m.InvalidPDFException}}),Object.defineProperty(pe,"MissingPDFException",{enumerable:!0,get:function(){return m.MissingPDFException}}),Object.defineProperty(pe,"OPS",{enumerable:!0,get:function(){return m.OPS}}),Object.defineProperty(pe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return v.PDFDataRangeTransport}}),Object.defineProperty(pe,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(pe,"PDFWorker",{enumerable:!0,get:function(){return v.PDFWorker}}),Object.defineProperty(pe,"PasswordResponses",{enumerable:!0,get:function(){return m.PasswordResponses}}),Object.defineProperty(pe,"PermissionFlag",{enumerable:!0,get:function(){return m.PermissionFlag}}),Object.defineProperty(pe,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(pe,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(pe,"SVGGraphics",{enumerable:!0,get:function(){return Q.SVGGraphics}}),Object.defineProperty(pe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return m.UNSUPPORTED_FEATURES}}),Object.defineProperty(pe,"UnexpectedResponseException",{enumerable:!0,get:function(){return m.UnexpectedResponseException}}),Object.defineProperty(pe,"Util",{enumerable:!0,get:function(){return m.Util}}),Object.defineProperty(pe,"VerbosityLevel",{enumerable:!0,get:function(){return m.VerbosityLevel}}),Object.defineProperty(pe,"XfaLayer",{enumerable:!0,get:function(){return q.XfaLayer}}),Object.defineProperty(pe,"build",{enumerable:!0,get:function(){return v.build}}),Object.defineProperty(pe,"createPromiseCapability",{enumerable:!0,get:function(){return m.createPromiseCapability}}),Object.defineProperty(pe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return m.createValidAbsoluteUrl}}),Object.defineProperty(pe,"getDocument",{enumerable:!0,get:function(){return v.getDocument}}),Object.defineProperty(pe,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(pe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(pe,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(pe,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(pe,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(pe,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(pe,"renderTextLayer",{enumerable:!0,get:function(){return y.renderTextLayer}}),Object.defineProperty(pe,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(pe,"shadow",{enumerable:!0,get:function(){return m.shadow}}),Object.defineProperty(pe,"updateTextLayer",{enumerable:!0,get:function(){return y.updateTextLayer}}),Object.defineProperty(pe,"version",{enumerable:!0,get:function(){return v.version}});var m=__w_pdfjs_require__(1),v=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),y=__w_pdfjs_require__(21),$=__w_pdfjs_require__(22),P=__w_pdfjs_require__(5),z=__w_pdfjs_require__(27),J=__w_pdfjs_require__(14),k=__w_pdfjs_require__(10),Q=__w_pdfjs_require__(30),q=__w_pdfjs_require__(29);if(k.isNodeJS){const{PDFNodeStream:O}=__w_pdfjs_require__(31);(0,v.setPDFNetworkStreamFactory)(V=>new O(V))}else{const{PDFNetworkStream:O}=__w_pdfjs_require__(34),{PDFFetchStream:V}=__w_pdfjs_require__(35);(0,v.setPDFNetworkStreamFactory)(x=>(0,o.isValidFetchUrl)(x.url)?new V(x):new O(x))}})(),__nested_webpack_exports__})(),module.exports=v()},5619:(pe,m,v)=>{"use strict";v.d(m,{X:()=>y});var o=v(8645);class y extends o.x{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const z=super._subscribe(P);return!z.closed&&P.next(this._value),z}getValue(){const{hasError:P,thrownError:z,_value:J}=this;if(P)throw z;return this._throwIfClosed(),J}next(P){super.next(this._value=P)}}},5592:(pe,m,v)=>{"use strict";v.d(m,{y:()=>Q});var o=v(305),y=v(7394),$=v(4850),P=v(8407),z=v(2653),J=v(4674),k=v(1441);let Q=(()=>{class O{constructor(x){x&&(this._subscribe=x)}lift(x){const K=new O;return K.source=this,K.operator=x,K}subscribe(x,K,te){const me=function A(O){return O&&O instanceof o.Lv||function H(O){return O&&(0,J.m)(O.next)&&(0,J.m)(O.error)&&(0,J.m)(O.complete)}(O)&&(0,y.Nn)(O)}(x)?x:new o.Hp(x,K,te);return(0,k.x)(()=>{const{operator:B,source:F}=this;me.add(B?B.call(me,F):F?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(x){try{return this._subscribe(x)}catch(K){x.error(K)}}forEach(x,K){return new(K=q(K))((te,me)=>{const B=new o.Hp({next:F=>{try{x(F)}catch(N){me(N),B.unsubscribe()}},error:me,complete:te});this.subscribe(B)})}_subscribe(x){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(x)}[$.L](){return this}pipe(...x){return(0,P.U)(x)(this)}toPromise(x){return new(x=q(x))((K,te)=>{let me;this.subscribe(B=>me=B,B=>te(B),()=>K(me))})}}return O.create=V=>new O(V),O})();function q(O){var V;return null!==(V=O??z.config.Promise)&&void 0!==V?V:Promise}},8645:(pe,m,v)=>{"use strict";v.d(m,{x:()=>k});var o=v(5592),y=v(7394);const P=(0,v(2306).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=v(9039),J=v(1441);let k=(()=>{class q extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const O=new Q(this,this);return O.operator=A,O}_throwIfClosed(){if(this.closed)throw new P}next(A){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(A)}})}error(A){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:O}=this;for(;O.length;)O.shift().error(A)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:O,isStopped:V,observers:x}=this;return O||V?y.Lc:(this.currentObservers=null,x.push(A),new y.w0(()=>{this.currentObservers=null,(0,z.P)(x,A)}))}_checkFinalizedStatuses(A){const{hasError:O,thrownError:V,isStopped:x}=this;O?A.error(V):x&&A.complete()}asObservable(){const A=new o.y;return A.source=this,A}}return q.create=(H,A)=>new Q(H,A),q})();class Q extends k{constructor(H,A){super(),this.destination=H,this.source=A}next(H){var A,O;null===(O=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===O||O.call(A,H)}error(H){var A,O;null===(O=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===O||O.call(A,H)}complete(){var H,A;null===(A=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===A||A.call(H)}_subscribe(H){var A,O;return null!==(O=null===(A=this.source)||void 0===A?void 0:A.subscribe(H))&&void 0!==O?O:y.Lc}}},305:(pe,m,v)=>{"use strict";v.d(m,{Hp:()=>te,Lv:()=>O});var o=v(4674),y=v(7394),$=v(2653),P=v(3894),z=v(2420);const J=q("C",void 0,void 0);function q(W,ue,ge){return{kind:W,value:ue,error:ge}}var H=v(7599),A=v(1441);class O extends y.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,y.Nn)(ue)&&ue.add(this)):this.destination=N}static create(ue,ge,ie){return new te(ue,ge,ie)}next(ue){this.isStopped?F(function Q(W){return q("N",W,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?F(function k(W){return q("E",void 0,W)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?F(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function x(W,ue){return V.call(W,ue)}class K{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:ge}=this;if(ge.next)try{ge.next(ue)}catch(ie){me(ie)}}error(ue){const{partialObserver:ge}=this;if(ge.error)try{ge.error(ue)}catch(ie){me(ie)}else me(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(ge){me(ge)}}}class te extends O{constructor(ue,ge,ie){let Y;if(super(),(0,o.m)(ue)||!ue)Y={next:ue??void 0,error:ge??void 0,complete:ie??void 0};else{let Oe;this&&$.config.useDeprecatedNextContext?(Oe=Object.create(ue),Oe.unsubscribe=()=>this.unsubscribe(),Y={next:ue.next&&x(ue.next,Oe),error:ue.error&&x(ue.error,Oe),complete:ue.complete&&x(ue.complete,Oe)}):Y=ue}this.destination=new K(Y)}}function me(W){$.config.useDeprecatedSynchronousErrorHandling?(0,A.O)(W):(0,P.h)(W)}function F(W,ue){const{onStoppedNotification:ge}=$.config;ge&&H.z.setTimeout(()=>ge(W,ue))}const N={closed:!0,next:z.Z,error:function B(W){throw W},complete:z.Z}},7394:(pe,m,v)=>{"use strict";v.d(m,{Lc:()=>J,w0:()=>z,Nn:()=>k});var o=v(4674);const $=(0,v(2306).d)(q=>function(A){q(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((O,V)=>`${V+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var P=v(9039);class z{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const x of A)x.remove(this);else A.remove(this);const{initialTeardown:O}=this;if((0,o.m)(O))try{O()}catch(x){H=x instanceof $?x.errors:[x]}const{_finalizers:V}=this;if(V){this._finalizers=null;for(const x of V)try{Q(x)}catch(K){H=H??[],K instanceof $?H=[...H,...K.errors]:H.push(K)}}if(H)throw new $(H)}}add(H){var A;if(H&&H!==this)if(this.closed)Q(H);else{if(H instanceof z){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(H)}}_hasParent(H){const{_parentage:A}=this;return A===H||Array.isArray(A)&&A.includes(H)}_addParent(H){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(H),A):A?[A,H]:H}_removeParent(H){const{_parentage:A}=this;A===H?this._parentage=null:Array.isArray(A)&&(0,P.P)(A,H)}remove(H){const{_finalizers:A}=this;A&&(0,P.P)(A,H),H instanceof z&&H._removeParent(this)}}z.EMPTY=(()=>{const q=new z;return q.closed=!0,q})();const J=z.EMPTY;function k(q){return q instanceof z||q&&"closed"in q&&(0,o.m)(q.remove)&&(0,o.m)(q.add)&&(0,o.m)(q.unsubscribe)}function Q(q){(0,o.m)(q)?q():q.unsubscribe()}},2653:(pe,m,v)=>{"use strict";v.d(m,{config:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4036:(pe,m,v)=>{"use strict";v.d(m,{z:()=>$});var o=v(6973),y=v(305);function $(P,z){const J="object"==typeof z;return new Promise((k,Q)=>{const q=new y.Hp({next:H=>{k(H),q.unsubscribe()},error:Q,complete:()=>{J?k(z.defaultValue):Q(new o.K)}});P.subscribe(q)})}},6232:(pe,m,v)=>{"use strict";v.d(m,{E:()=>y});const y=new(v(5592).y)(z=>z.complete())},9666:(pe,m,v)=>{"use strict";v.d(m,{D:()=>ge});var o=v(4829),y=v(3093),$=v(9360);function P(ie,Y=0){return(0,$.e)((Oe,Ze)=>{Ze.add(ie.schedule(()=>Oe.subscribe(Ze),Y))})}var k=v(5592),q=v(4971),H=v(4674),A=v(7103);function V(ie,Y){if(!ie)throw new Error("Iterable cannot be null");return new k.y(Oe=>{(0,A.f)(Oe,Y,()=>{const Ze=ie[Symbol.asyncIterator]();(0,A.f)(Oe,Y,()=>{Ze.next().then(Qe=>{Qe.done?Oe.complete():Oe.next(Qe.value)})},0,!0)})})}var x=v(8382),K=v(4026),te=v(4266),me=v(3664),B=v(5726),F=v(9853),N=v(541);function ge(ie,Y){return Y?function ue(ie,Y){if(null!=ie){if((0,x.c)(ie))return function z(ie,Y){return(0,o.Xf)(ie).pipe(P(Y),(0,y.Q)(Y))}(ie,Y);if((0,te.z)(ie))return function Q(ie,Y){return new k.y(Oe=>{let Ze=0;return Y.schedule(function(){Ze===ie.length?Oe.complete():(Oe.next(ie[Ze++]),Oe.closed||this.schedule())})})}(ie,Y);if((0,K.t)(ie))return function J(ie,Y){return(0,o.Xf)(ie).pipe(P(Y),(0,y.Q)(Y))}(ie,Y);if((0,B.D)(ie))return V(ie,Y);if((0,me.T)(ie))return function O(ie,Y){return new k.y(Oe=>{let Ze;return(0,A.f)(Oe,Y,()=>{Ze=ie[q.h](),(0,A.f)(Oe,Y,()=>{let Qe,Me;try{({value:Qe,done:Me}=Ze.next())}catch(He){return void Oe.error(He)}Me?Oe.complete():Oe.next(Qe)},0,!0)}),()=>(0,H.m)(Ze?.return)&&Ze.return()})}(ie,Y);if((0,N.L)(ie))return function W(ie,Y){return V((0,N.Q)(ie),Y)}(ie,Y)}throw(0,F.z)(ie)}(ie,Y):(0,o.Xf)(ie)}},4829:(pe,m,v)=>{"use strict";v.d(m,{Xf:()=>V});var o=v(7582),y=v(4266),$=v(4026),P=v(5592),z=v(8382),J=v(5726),k=v(9853),Q=v(3664),q=v(541),H=v(4674),A=v(3894),O=v(4850);function V(W){if(W instanceof P.y)return W;if(null!=W){if((0,z.c)(W))return function x(W){return new P.y(ue=>{const ge=W[O.L]();if((0,H.m)(ge.subscribe))return ge.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(W);if((0,y.z)(W))return function K(W){return new P.y(ue=>{for(let ge=0;ge<W.length&&!ue.closed;ge++)ue.next(W[ge]);ue.complete()})}(W);if((0,$.t)(W))return function te(W){return new P.y(ue=>{W.then(ge=>{ue.closed||(ue.next(ge),ue.complete())},ge=>ue.error(ge)).then(null,A.h)})}(W);if((0,J.D)(W))return B(W);if((0,Q.T)(W))return function me(W){return new P.y(ue=>{for(const ge of W)if(ue.next(ge),ue.closed)return;ue.complete()})}(W);if((0,q.L)(W))return function F(W){return B((0,q.Q)(W))}(W)}throw(0,k.z)(W)}function B(W){return new P.y(ue=>{(function N(W,ue){var ge,ie,Y,Oe;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ge=(0,o.KL)(W);!(ie=yield ge.next()).done;)if(ue.next(ie.value),ue.closed)return}catch(Ze){Y={error:Ze}}finally{try{ie&&!ie.done&&(Oe=ge.return)&&(yield Oe.call(ge))}finally{if(Y)throw Y.error}}ue.complete()})})(W,ue).catch(ge=>ue.error(ge))})}},2096:(pe,m,v)=>{"use strict";v.d(m,{of:()=>$});var o=v(4564),y=v(9666);function $(...P){const z=(0,o.yG)(P);return(0,y.D)(P,z)}},8251:(pe,m,v)=>{"use strict";v.d(m,{x:()=>y});var o=v(305);function y(P,z,J,k,Q){return new $(P,z,J,k,Q)}class $ extends o.Lv{constructor(z,J,k,Q,q,H){super(z),this.onFinalize=q,this.shouldUnsubscribe=H,this._next=J?function(A){try{J(A)}catch(O){z.error(O)}}:super._next,this._error=Q?function(A){try{Q(A)}catch(O){z.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=k?function(){try{k()}catch(A){z.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},6328:(pe,m,v)=>{"use strict";v.d(m,{b:()=>$});var o=v(1631),y=v(4674);function $(P,z){return(0,y.m)(z)?(0,o.z)(P,z,1):(0,o.z)(P,1)}},3997:(pe,m,v)=>{"use strict";v.d(m,{x:()=>P});var o=v(2737),y=v(9360),$=v(8251);function P(J,k=o.y){return J=J??z,(0,y.e)((Q,q)=>{let H,A=!0;Q.subscribe((0,$.x)(q,O=>{const V=k(O);(A||!J(H,V))&&(A=!1,H=V,q.next(O))}))})}function z(J,k){return J===k}},2181:(pe,m,v)=>{"use strict";v.d(m,{h:()=>$});var o=v(9360),y=v(8251);function $(P,z){return(0,o.e)((J,k)=>{let Q=0;J.subscribe((0,y.x)(k,q=>P.call(z,q,Q++)&&k.next(q)))})}},4716:(pe,m,v)=>{"use strict";v.d(m,{x:()=>y});var o=v(9360);function y($){return(0,o.e)((P,z)=>{try{P.subscribe(z)}finally{z.add($)}})}},7398:(pe,m,v)=>{"use strict";v.d(m,{U:()=>$});var o=v(9360),y=v(8251);function $(P,z){return(0,o.e)((J,k)=>{let Q=0;J.subscribe((0,y.x)(k,q=>{k.next(P.call(z,q,Q++))}))})}},7537:(pe,m,v)=>{"use strict";v.d(m,{J:()=>$});var o=v(1631),y=v(2737);function $(P=1/0){return(0,o.z)(y.y,P)}},1631:(pe,m,v)=>{"use strict";v.d(m,{z:()=>Q});var o=v(7398),y=v(4829),$=v(9360),P=v(7103),z=v(8251),k=v(4674);function Q(q,H,A=1/0){return(0,k.m)(H)?Q((O,V)=>(0,o.U)((x,K)=>H(O,x,V,K))((0,y.Xf)(q(O,V))),A):("number"==typeof H&&(A=H),(0,$.e)((O,V)=>function J(q,H,A,O,V,x,K,te){const me=[];let B=0,F=0,N=!1;const W=()=>{N&&!me.length&&!B&&H.complete()},ue=ie=>B<O?ge(ie):me.push(ie),ge=ie=>{x&&H.next(ie),B++;let Y=!1;(0,y.Xf)(A(ie,F++)).subscribe((0,z.x)(H,Oe=>{V?.(Oe),x?ue(Oe):H.next(Oe)},()=>{Y=!0},void 0,()=>{if(Y)try{for(B--;me.length&&B<O;){const Oe=me.shift();K?(0,P.f)(H,K,()=>ge(Oe)):ge(Oe)}W()}catch(Oe){H.error(Oe)}}))};return q.subscribe((0,z.x)(H,ue,()=>{N=!0,W()})),()=>{te?.()}}(O,V,q,A)))}},3093:(pe,m,v)=>{"use strict";v.d(m,{Q:()=>P});var o=v(7103),y=v(9360),$=v(8251);function P(z,J=0){return(0,y.e)((k,Q)=>{k.subscribe((0,$.x)(Q,q=>(0,o.f)(Q,z,()=>Q.next(q),J),()=>(0,o.f)(Q,z,()=>Q.complete(),J),q=>(0,o.f)(Q,z,()=>Q.error(q),J)))})}},6699:(pe,m,v)=>{"use strict";v.d(m,{R:()=>P});var o=v(9360),y=v(8251);function P(z,J){return(0,o.e)(function $(z,J,k,Q,q){return(H,A)=>{let O=k,V=J,x=0;H.subscribe((0,y.x)(A,K=>{const te=x++;V=O?z(V,K,te):(O=!0,K),Q&&A.next(V)},q&&(()=>{O&&A.next(V),A.complete()})))}}(z,J,arguments.length>=2,!0))}},4664:(pe,m,v)=>{"use strict";v.d(m,{w:()=>P});var o=v(4829),y=v(9360),$=v(8251);function P(z,J){return(0,y.e)((k,Q)=>{let q=null,H=0,A=!1;const O=()=>A&&!q&&Q.complete();k.subscribe((0,$.x)(Q,V=>{q?.unsubscribe();let x=0;const K=H++;(0,o.Xf)(z(V,K)).subscribe(q=(0,$.x)(Q,te=>Q.next(J?J(V,te,K,x++):te),()=>{q=null,O()}))},()=>{A=!0,O()}))})}},8180:(pe,m,v)=>{"use strict";v.d(m,{q:()=>P});var o=v(6232),y=v(9360),$=v(8251);function P(z){return z<=0?()=>o.E:(0,y.e)((J,k)=>{let Q=0;J.subscribe((0,$.x)(k,q=>{++Q<=z&&(k.next(q),z<=Q&&k.complete())}))})}},4552:(pe,m,v)=>{"use strict";v.d(m,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},7599:(pe,m,v)=>{"use strict";v.d(m,{z:()=>o});const o={setTimeout(y,$,...P){const{delegate:z}=o;return z?.setTimeout?z.setTimeout(y,$,...P):setTimeout(y,$,...P)},clearTimeout(y){const{delegate:$}=o;return($?.clearTimeout||clearTimeout)(y)},delegate:void 0}},4971:(pe,m,v)=>{"use strict";v.d(m,{h:()=>y});const y=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pe,m,v)=>{"use strict";v.d(m,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(pe,m,v)=>{"use strict";v.d(m,{K:()=>y});const y=(0,v(2306).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(pe,m,v)=>{"use strict";v.d(m,{_6:()=>J,jO:()=>P,yG:()=>z});var o=v(4674);function $(k){return k[k.length-1]}function P(k){return(0,o.m)($(k))?k.pop():void 0}function z(k){return function y(k){return k&&(0,o.m)(k.schedule)}($(k))?k.pop():void 0}function J(k,Q){return"number"==typeof $(k)?k.pop():Q}},7453:(pe,m,v)=>{"use strict";v.d(m,{D:()=>z});const{isArray:o}=Array,{getPrototypeOf:y,prototype:$,keys:P}=Object;function z(k){if(1===k.length){const Q=k[0];if(o(Q))return{args:Q,keys:null};if(function J(k){return k&&"object"==typeof k&&y(k)===$}(Q)){const q=P(Q);return{args:q.map(H=>Q[H]),keys:q}}}return{args:k,keys:null}}},9039:(pe,m,v)=>{"use strict";function o(y,$){if(y){const P=y.indexOf($);0<=P&&y.splice(P,1)}}v.d(m,{P:()=>o})},2306:(pe,m,v)=>{"use strict";function o(y){const P=y(z=>{Error.call(z),z.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}v.d(m,{d:()=>o})},2714:(pe,m,v)=>{"use strict";function o(y,$){return y.reduce((P,z,J)=>(P[z]=$[J],P),{})}v.d(m,{n:()=>o})},1441:(pe,m,v)=>{"use strict";v.d(m,{O:()=>P,x:()=>$});var o=v(2653);let y=null;function $(z){if(o.config.useDeprecatedSynchronousErrorHandling){const J=!y;if(J&&(y={errorThrown:!1,error:null}),z(),J){const{errorThrown:k,error:Q}=y;if(y=null,k)throw Q}}else z()}function P(z){o.config.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=z)}},7103:(pe,m,v)=>{"use strict";function o(y,$,P,z=0,J=!1){const k=$.schedule(function(){P(),J?y.add(this.schedule(null,z)):this.unsubscribe()},z);if(y.add(k),!J)return k}v.d(m,{f:()=>o})},2737:(pe,m,v)=>{"use strict";function o(y){return y}v.d(m,{y:()=>o})},4266:(pe,m,v)=>{"use strict";v.d(m,{z:()=>o});const o=y=>y&&"number"==typeof y.length&&"function"!=typeof y},5726:(pe,m,v)=>{"use strict";v.d(m,{D:()=>y});var o=v(4674);function y($){return Symbol.asyncIterator&&(0,o.m)($?.[Symbol.asyncIterator])}},4674:(pe,m,v)=>{"use strict";function o(y){return"function"==typeof y}v.d(m,{m:()=>o})},8382:(pe,m,v)=>{"use strict";v.d(m,{c:()=>$});var o=v(4850),y=v(4674);function $(P){return(0,y.m)(P[o.L])}},3664:(pe,m,v)=>{"use strict";v.d(m,{T:()=>$});var o=v(4971),y=v(4674);function $(P){return(0,y.m)(P?.[o.h])}},2664:(pe,m,v)=>{"use strict";v.d(m,{b:()=>$});var o=v(5592),y=v(4674);function $(P){return!!P&&(P instanceof o.y||(0,y.m)(P.lift)&&(0,y.m)(P.subscribe))}},4026:(pe,m,v)=>{"use strict";v.d(m,{t:()=>y});var o=v(4674);function y($){return(0,o.m)($?.then)}},541:(pe,m,v)=>{"use strict";v.d(m,{L:()=>P,Q:()=>$});var o=v(7582),y=v(4674);function $(z){return(0,o.FC)(this,arguments,function*(){const k=z.getReader();try{for(;;){const{value:Q,done:q}=yield(0,o.qq)(k.read());if(q)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Q)}}finally{k.releaseLock()}})}function P(z){return(0,y.m)(z?.getReader)}},9360:(pe,m,v)=>{"use strict";v.d(m,{A:()=>y,e:()=>$});var o=v(4674);function y(P){return(0,o.m)(P?.lift)}function $(P){return z=>{if(y(z))return z.lift(function(J){try{return P(J,this)}catch(k){this.error(k)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(pe,m,v)=>{"use strict";v.d(m,{Z:()=>P});var o=v(7398);const{isArray:y}=Array;function P(z){return(0,o.U)(J=>function $(z,J){return y(J)?z(...J):z(J)}(z,J))}},2420:(pe,m,v)=>{"use strict";function o(){}v.d(m,{Z:()=>o})},8407:(pe,m,v)=>{"use strict";v.d(m,{U:()=>$,z:()=>y});var o=v(2737);function y(...P){return $(P)}function $(P){return 0===P.length?o.y:1===P.length?P[0]:function(J){return P.reduce((k,Q)=>Q(k),J)}}},3894:(pe,m,v)=>{"use strict";v.d(m,{h:()=>$});var o=v(2653),y=v(7599);function $(P){y.z.setTimeout(()=>{const{onUnhandledError:z}=o.config;if(!z)throw P;z(P)})}},9853:(pe,m,v)=>{"use strict";function o(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}v.d(m,{z:()=>o})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:pe=>{function m(o,y,$,P,z,J,k){try{var Q=o[J](k),q=Q.value}catch(H){return void $(H)}Q.done?y(q):Promise.resolve(q).then(P,z)}pe.exports=function v(o){return function(){var y=this,$=arguments;return new Promise(function(P,z){var J=o.apply(y,$);function k(q){m(J,P,z,k,Q,"next",q)}function Q(q){m(J,P,z,k,Q,"throw",q)}k(void 0)})}},pe.exports.__esModule=!0,pe.exports.default=pe.exports},6521:pe=>{pe.exports=function m(v,o){if(o.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")},pe.exports.__esModule=!0,pe.exports.default=pe.exports},8912:pe=>{pe.exports=function m(v,o){return o.get?o.get.call(v):o.value},pe.exports.__esModule=!0,pe.exports.default=pe.exports},3448:pe=>{pe.exports=function m(v,o,y){if(o.set)o.set.call(v,y);else{if(!o.writable)throw new TypeError("attempted to set read only private field");o.value=y}},pe.exports.__esModule=!0,pe.exports.default=pe.exports},2625:pe=>{pe.exports=function m(v,o){if(v!==o)throw new TypeError("Private static access of wrong provenance")},pe.exports.__esModule=!0,pe.exports.default=pe.exports},2506:pe=>{pe.exports=function m(v,o){if(void 0===v)throw new TypeError("attempted to "+o+" private static field before its declaration")},pe.exports.__esModule=!0,pe.exports.default=pe.exports},4069:pe=>{pe.exports=function m(v,o,y){if(!o.has(v))throw new TypeError("attempted to "+y+" private field on non-instance");return o.get(v)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},468:(pe,m,v)=>{var o=v(8912),y=v(4069);pe.exports=function $(P,z){var J=y(P,z,"get");return o(P,J)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},9159:(pe,m,v)=>{var o=v(6521);pe.exports=function y($,P,z){o($,P),P.set($,z)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},5661:(pe,m,v)=>{var o=v(3448),y=v(4069);pe.exports=function $(P,z,J){var k=y(P,z,"set");return o(P,k,J),J},pe.exports.__esModule=!0,pe.exports.default=pe.exports},4467:pe=>{pe.exports=function m(v,o,y){if(!o.has(v))throw new TypeError("attempted to get private field on non-instance");return y},pe.exports.__esModule=!0,pe.exports.default=pe.exports},1860:(pe,m,v)=>{var o=v(6521);pe.exports=function y($,P){o($,P),P.add($)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},1280:(pe,m,v)=>{var o=v(8912),y=v(2625),$=v(2506);pe.exports=function P(z,J,k){return y(z,J),$(k,"get"),o(z,k)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},9382:(pe,m,v)=>{var o=v(3448),y=v(2625),$=v(2506);pe.exports=function P(z,J,k,Q){return y(z,J),$(k,"set"),o(z,k,Q),Q},pe.exports.__esModule=!0,pe.exports.default=pe.exports},5764:(pe,m,v)=>{var o=v(2625);pe.exports=function y($,P,z){return o($,P),z},pe.exports.__esModule=!0,pe.exports.default=pe.exports},8416:(pe,m,v)=>{var o=v(4062);pe.exports=function y($,P,z){return(P=o(P))in $?Object.defineProperty($,P,{value:z,enumerable:!0,configurable:!0,writable:!0}):$[P]=z,$},pe.exports.__esModule=!0,pe.exports.default=pe.exports},5036:(pe,m,v)=>{var o=v(8698).default;pe.exports=function y($,P){if("object"!==o($)||null===$)return $;var z=$[Symbol.toPrimitive];if(void 0!==z){var J=z.call($,P||"default");if("object"!==o(J))return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)($)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},4062:(pe,m,v)=>{var o=v(8698).default,y=v(5036);pe.exports=function $(P){var z=y(P,"string");return"symbol"===o(z)?z:String(z)},pe.exports.__esModule=!0,pe.exports.default=pe.exports},8698:pe=>{function m(v){return pe.exports=m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pe.exports.__esModule=!0,pe.exports.default=pe.exports,m(v)}pe.exports=m,pe.exports.__esModule=!0,pe.exports.default=pe.exports},4874:(pe,m,v)=>{"use strict";v.d(m,{tV:()=>te,TI:()=>Ze,IL:()=>Qe,xE:()=>me,RB:()=>B});var o=v(5861),y=v(6689),$=v(5619),P=v(8645),z=v(4552);class J extends P.x{constructor(He=1/0,Fe=1/0,ee=z.l){super(),this._bufferSize=He,this._windowTime=Fe,this._timestampProvider=ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Fe===1/0,this._bufferSize=Math.max(1,He),this._windowTime=Math.max(1,Fe)}next(He){const{isStopped:Fe,_buffer:ee,_infiniteTimeWindow:_e,_timestampProvider:Le,_windowTime:de}=this;Fe||(ee.push(He),!_e&&ee.push(Le.now()+de)),this._trimBuffer(),super.next(He)}_subscribe(He){this._throwIfClosed(),this._trimBuffer();const Fe=this._innerSubscribe(He),{_infiniteTimeWindow:ee,_buffer:_e}=this,Le=_e.slice();for(let de=0;de<Le.length&&!He.closed;de+=ee?1:2)He.next(Le[de]);return this._checkFinalizedStatuses(He),Fe}_trimBuffer(){const{_bufferSize:He,_timestampProvider:Fe,_buffer:ee,_infiniteTimeWindow:_e}=this,Le=(_e?1:2)*He;if(He<1/0&&Le<ee.length&&ee.splice(0,ee.length-Le),!_e){const de=Fe.now();let C=0;for(let S=1;S<ee.length&&ee[S]<=de;S+=2)C=S;C&&ee.splice(0,C+1)}}}class k extends P.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(He){const{hasError:Fe,_hasValue:ee,_value:_e,thrownError:Le,isStopped:de,_isComplete:C}=this;Fe?He.error(Le):(de||C)&&(ee&&He.next(_e),He.complete())}next(He){this.isStopped||(this._value=He,this._hasValue=!0)}complete(){const{_hasValue:He,_value:Fe,_isComplete:ee}=this;ee||(this._isComplete=!0,He&&super.next(Fe),super.complete())}}var Q=v(2664),q=v(2181);function H(Me){return(0,q.h)((He,Fe)=>Me<=Fe)}var A=v(8180),O=v(6814);class V{constructor(){}loadScript(He,Fe,ee,_e=null){if(typeof document<"u"&&!document.getElementById(He)){let Le=document.createElement("script");Le.async=!0,Le.src=Fe,Le.onload=ee,_e||(_e=document.head),_e.appendChild(Le)}}}class x{}const K={oneTapEnabled:!0};let te=(()=>{class He extends V{constructor(ee,_e){super(),this.clientId=ee,this.initOptions=_e,this.changeUser=new y.vpe,this._socialUser=new $.X(null),this._accessToken=new $.X(null),this._receivedAccessToken=new y.vpe,this.initOptions={...K,...this.initOptions},this._socialUser.pipe(H(1)).subscribe(this.changeUser),this._accessToken.pipe(H(1)).subscribe(this._receivedAccessToken)}initialize(ee){return new Promise((_e,Le)=>{try{this.loadScript(He.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:ee,callback:({credential:de})=>{const C=this.createSocialUser(de);this._socialUser.next(C)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe((0,q.h)(de=>null===de)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const de=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(C=>C).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:de,prompt:this.initOptions.prompt,callback:C=>{C.error?this._accessToken.error({code:C.error,description:C.error_description,uri:C.error_uri}):this._accessToken.next(C.access_token)}})}_e()})}catch(de){Le(de)}})}getLoginStatus(){return new Promise((ee,_e)=>{this._socialUser.value?ee(this._socialUser.value):_e(`No user is currently logged in with ${He.PROVIDER_ID}`)})}refreshToken(){return new Promise((ee,_e)=>{google.accounts.id.revoke(this._socialUser.value.id,Le=>{Le.error?_e(Le.error):ee(this._socialUser.value)})})}getAccessToken(){return new Promise((ee,_e)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe((0,A.q)(1)).subscribe(ee)):_e(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((ee,_e)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),ee()}):_e("No access token to revoke"):_e("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var ee=this;return(0,o.Z)(function*(){google.accounts.id.disableAutoSelect(),ee._socialUser.next(null)})()}createSocialUser(ee){const _e=new x;_e.idToken=ee;const Le=this.decodeJwt(ee);return _e.id=Le.sub,_e.name=Le.name,_e.email=Le.email,_e.photoUrl=Le.picture,_e.firstName=Le.given_name,_e.lastName=Le.family_name,_e}decodeJwt(ee){const Le=ee.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),de=decodeURIComponent(window.atob(Le).split("").map(function(C){return"%"+("00"+C.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(de)}}return He.PROVIDER_ID="GOOGLE",He})(),me=(()=>{var Me;class He{get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(ee,_e,Le){this._ngZone=_e,this._injector=Le,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new J(1),this.initialized=!1,this._initState=new k,ee instanceof Promise?ee.then(de=>{this.initialize(de)}):this.initialize(ee)}initialize(ee){this.autoLogin=void 0!==ee.autoLogin&&ee.autoLogin;const{onError:_e=console.error}=ee;ee.providers.forEach(Le=>{this.providers.set(Le.id,"prototype"in Le.provider?this._injector.get(Le.provider):Le.provider)}),Promise.all(Array.from(this.providers.values()).map(Le=>Le.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const Le=[];let de=!1;this.providers.forEach((C,S)=>{const U=C.getLoginStatus();Le.push(U),U.then(X=>{this.setUser(X,S),de=!0}).catch(console.debug)}),Promise.all(Le).catch(()=>{de||(this._user=null,this._authState.next(null))})}this.providers.forEach((Le,de)=>{(0,Q.b)(Le.changeUser)&&Le.changeUser.subscribe(C=>{this._ngZone.run(()=>{this.setUser(C,de)})})})}).catch(Le=>{_e(Le)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(ee){var _e=this;return(0,o.Z)(function*(){const Le=_e.providers.get(ee);if(!_e.initialized)throw He.ERR_NOT_INITIALIZED;if(!Le)throw He.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(Le instanceof te))throw He.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield Le.getAccessToken()})()}refreshAuthToken(ee){return new Promise((_e,Le)=>{if(this.initialized){const de=this.providers.get(ee);de?"function"!=typeof de.refreshToken?Le(He.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):de.refreshToken().then(C=>{this.setUser(C,ee),_e()}).catch(C=>{Le(C)}):Le(He.ERR_LOGIN_PROVIDER_NOT_FOUND)}else Le(He.ERR_NOT_INITIALIZED)})}refreshAccessToken(ee){return new Promise((_e,Le)=>{if(this.initialized)if(ee!==te.PROVIDER_ID)Le(He.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const de=this.providers.get(ee);de instanceof te?de.revokeAccessToken().then(_e).catch(Le):Le(He.ERR_LOGIN_PROVIDER_NOT_FOUND)}else Le(He.ERR_NOT_INITIALIZED)})}signIn(ee,_e){return new Promise((Le,de)=>{if(this.initialized){let C=this.providers.get(ee);C?C.signIn(_e).then(S=>{this.setUser(S,ee),Le(S)}).catch(S=>{de(S)}):de(He.ERR_LOGIN_PROVIDER_NOT_FOUND)}else de(He.ERR_NOT_INITIALIZED)})}signOut(ee=!1){return new Promise((_e,Le)=>{if(this.initialized)if(this._user){let C=this.providers.get(this._user.provider);C?C.signOut(ee).then(()=>{_e(),this.setUser(null)}).catch(S=>{Le(S)}):Le(He.ERR_LOGIN_PROVIDER_NOT_FOUND)}else Le(He.ERR_NOT_LOGGED_IN);else Le(He.ERR_NOT_INITIALIZED)})}setUser(ee,_e){ee&&_e&&(ee.provider=_e),this._user=ee,this._authState.next(ee)}}return(Me=He).ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",Me.ERR_NOT_LOGGED_IN="Not logged in",Me.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",Me.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",Me.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",Me.\u0275fac=function(ee){return new(ee||Me)(y.LFG("SocialAuthServiceConfig"),y.LFG(y.R0b),y.LFG(y.zs3))},Me.\u0275prov=y.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),He})(),B=(()=>{var Me;class He{static initialize(ee){return{ngModule:He,providers:[me,{provide:"SocialAuthServiceConfig",useValue:ee}]}}constructor(ee){if(ee)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}}return(Me=He).\u0275fac=function(ee){return new(ee||Me)(y.LFG(Me,12))},Me.\u0275mod=y.oAB({type:Me}),Me.\u0275inj=y.cJS({providers:[me],imports:[O.ez]}),He})(),Ze=(()=>{var Me;class He{constructor(ee,_e){this.type="icon",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width="",this.locale="",_e.initState.pipe((0,A.q)(1)).subscribe(()=>{Promise.resolve(this.width).then(Le=>{Le>"400"||Le<"200"&&""!=Le?Promise.reject("Please note .. max-width 400 , min-width 200 (https://developers.google.com/identity/gsi/web/tools/configurator)"):google.accounts.id.renderButton(ee.nativeElement,{type:this.type,size:this.size,text:this.text,width:this.width,shape:this.shape,theme:this.theme,logo_alignment:this.logo_alignment,locale:this.locale})})})}}return(Me=He).\u0275fac=function(ee){return new(ee||Me)(y.Y36(y.SBq),y.Y36(me))},Me.\u0275dir=y.lG2({type:Me,selectors:[["asl-google-signin-button"]],inputs:{type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale"}}),He})(),Qe=(()=>{var Me;class He{}return(Me=He).\u0275fac=function(ee){return new(ee||Me)},Me.\u0275mod=y.oAB({type:Me}),Me.\u0275inj=y.cJS({}),He})()},6814:(pe,m,v)=>{"use strict";v.d(m,{Do:()=>te,EM:()=>ps,HT:()=>P,JF:()=>wr,K0:()=>J,Mx:()=>$n,O5:()=>sr,PM:()=>Xn,S$:()=>V,V_:()=>Q,Ye:()=>me,b0:()=>K,bD:()=>Tt,ez:()=>kn,q:()=>$,sg:()=>Sn,w_:()=>z});var o=v(6689);let y=null;function $(){return y}function P(i){y||(y=i)}class z{}const J=new o.OlP("DocumentToken");let k=(()=>{var i;class l{historyGo(u){throw new Error("Not implemented")}}return(i=l).\u0275fac=function(u){return new(u||i)},i.\u0275prov=o.Yz7({token:i,factory:function(){return(0,o.f3M)(q)},providedIn:"platform"}),l})();const Q=new o.OlP("Location Initialized");let q=(()=>{var i;class l extends k{constructor(){super(),this._doc=(0,o.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(u){const b=$().getGlobalEventTarget(this._doc,"window");return b.addEventListener("popstate",u,!1),()=>b.removeEventListener("popstate",u)}onHashChange(u){const b=$().getGlobalEventTarget(this._doc,"window");return b.addEventListener("hashchange",u,!1),()=>b.removeEventListener("hashchange",u)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(u){this._location.pathname=u}pushState(u,b,j){this._history.pushState(u,b,j)}replaceState(u,b,j){this._history.replaceState(u,b,j)}forward(){this._history.forward()}back(){this._history.back()}historyGo(u=0){this._history.go(u)}getState(){return this._history.state}}return(i=l).\u0275fac=function(u){return new(u||i)},i.\u0275prov=o.Yz7({token:i,factory:function(){return new i},providedIn:"platform"}),l})();function H(i,l){if(0==i.length)return l;if(0==l.length)return i;let d=0;return i.endsWith("/")&&d++,l.startsWith("/")&&d++,2==d?i+l.substring(1):1==d?i+l:i+"/"+l}function A(i){const l=i.match(/#|\?|$/),d=l&&l.index||i.length;return i.slice(0,d-("/"===i[d-1]?1:0))+i.slice(d)}function O(i){return i&&"?"!==i[0]?"?"+i:i}let V=(()=>{var i;class l{historyGo(u){throw new Error("Not implemented")}}return(i=l).\u0275fac=function(u){return new(u||i)},i.\u0275prov=o.Yz7({token:i,factory:function(){return(0,o.f3M)(K)},providedIn:"root"}),l})();const x=new o.OlP("appBaseHref");let K=(()=>{var i;class l extends V{constructor(u,b){super(),this._platformLocation=u,this._removeListenerFns=[],this._baseHref=b??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(u){this._removeListenerFns.push(this._platformLocation.onPopState(u),this._platformLocation.onHashChange(u))}getBaseHref(){return this._baseHref}prepareExternalUrl(u){return H(this._baseHref,u)}path(u=!1){const b=this._platformLocation.pathname+O(this._platformLocation.search),j=this._platformLocation.hash;return j&&u?`${b}${j}`:b}pushState(u,b,j,oe){const Ae=this.prepareExternalUrl(j+O(oe));this._platformLocation.pushState(u,b,Ae)}replaceState(u,b,j,oe){const Ae=this.prepareExternalUrl(j+O(oe));this._platformLocation.replaceState(u,b,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(u=0){this._platformLocation.historyGo?.(u)}}return(i=l).\u0275fac=function(u){return new(u||i)(o.LFG(k),o.LFG(x,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),l})(),te=(()=>{var i;class l extends V{constructor(u,b){super(),this._platformLocation=u,this._baseHref="",this._removeListenerFns=[],null!=b&&(this._baseHref=b)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(u){this._removeListenerFns.push(this._platformLocation.onPopState(u),this._platformLocation.onHashChange(u))}getBaseHref(){return this._baseHref}path(u=!1){let b=this._platformLocation.hash;return null==b&&(b="#"),b.length>0?b.substring(1):b}prepareExternalUrl(u){const b=H(this._baseHref,u);return b.length>0?"#"+b:b}pushState(u,b,j,oe){let Ae=this.prepareExternalUrl(j+O(oe));0==Ae.length&&(Ae=this._platformLocation.pathname),this._platformLocation.pushState(u,b,Ae)}replaceState(u,b,j,oe){let Ae=this.prepareExternalUrl(j+O(oe));0==Ae.length&&(Ae=this._platformLocation.pathname),this._platformLocation.replaceState(u,b,Ae)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(u=0){this._platformLocation.historyGo?.(u)}}return(i=l).\u0275fac=function(u){return new(u||i)(o.LFG(k),o.LFG(x,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),l})(),me=(()=>{var i;class l{constructor(u){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=u;const b=this._locationStrategy.getBaseHref();this._basePath=function W(i){if(new RegExp("^(https?:)?//").test(i)){const[,d]=i.split(/\/\/[^\/]+/);return d}return i}(A(N(b))),this._locationStrategy.onPopState(j=>{this._subject.emit({url:this.path(!0),pop:!0,state:j.state,type:j.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(u=!1){return this.normalize(this._locationStrategy.path(u))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(u,b=""){return this.path()==this.normalize(u+O(b))}normalize(u){return l.stripTrailingSlash(function F(i,l){if(!i||!l.startsWith(i))return l;const d=l.substring(i.length);return""===d||["/",";","?","#"].includes(d[0])?d:l}(this._basePath,N(u)))}prepareExternalUrl(u){return u&&"/"!==u[0]&&(u="/"+u),this._locationStrategy.prepareExternalUrl(u)}go(u,b="",j=null){this._locationStrategy.pushState(j,"",u,b),this._notifyUrlChangeListeners(this.prepareExternalUrl(u+O(b)),j)}replaceState(u,b="",j=null){this._locationStrategy.replaceState(j,"",u,b),this._notifyUrlChangeListeners(this.prepareExternalUrl(u+O(b)),j)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(u=0){this._locationStrategy.historyGo?.(u)}onUrlChange(u){return this._urlChangeListeners.push(u),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(b=>{this._notifyUrlChangeListeners(b.url,b.state)})),()=>{const b=this._urlChangeListeners.indexOf(u);this._urlChangeListeners.splice(b,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(u="",b){this._urlChangeListeners.forEach(j=>j(u,b))}subscribe(u,b,j){return this._subject.subscribe({next:u,error:b,complete:j})}}return(i=l).normalizeQueryParams=O,i.joinWithSlash=H,i.stripTrailingSlash=A,i.\u0275fac=function(u){return new(u||i)(o.LFG(V))},i.\u0275prov=o.Yz7({token:i,factory:function(){return function B(){return new me((0,o.LFG)(V))}()},providedIn:"root"}),l})();function N(i){return i.replace(/\/index.html$/,"")}function $n(i,l){l=encodeURIComponent(l);for(const d of i.split(";")){const u=d.indexOf("="),[b,j]=-1==u?[d,""]:[d.slice(0,u),d.slice(u+1)];if(b.trim()===l)return decodeURIComponent(j)}return null}class Pr{constructor(l,d,u,b){this.$implicit=l,this.ngForOf=d,this.index=u,this.count=b}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{var i;class l{set ngForOf(u){this._ngForOf=u,this._ngForOfDirty=!0}set ngForTrackBy(u){this._trackByFn=u}get ngForTrackBy(){return this._trackByFn}constructor(u,b,j){this._viewContainer=u,this._template=b,this._differs=j,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(u){u&&(this._template=u)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const u=this._ngForOf;!this._differ&&u&&(this._differ=this._differs.find(u).create(this.ngForTrackBy))}if(this._differ){const u=this._differ.diff(this._ngForOf);u&&this._applyChanges(u)}}_applyChanges(u){const b=this._viewContainer;u.forEachOperation((j,oe,Ae)=>{if(null==j.previousIndex)b.createEmbeddedView(this._template,new Pr(j.item,this._ngForOf,-1,-1),null===Ae?void 0:Ae);else if(null==Ae)b.remove(null===oe?void 0:oe);else if(null!==oe){const Ye=b.get(oe);b.move(Ye,Ae),rr(Ye,j)}});for(let j=0,oe=b.length;j<oe;j++){const Ye=b.get(j).context;Ye.index=j,Ye.count=oe,Ye.ngForOf=this._ngForOf}u.forEachIdentityChange(j=>{rr(b.get(j.currentIndex),j)})}static ngTemplateContextGuard(u,b){return!0}}return(i=l).\u0275fac=function(u){return new(u||i)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),l})();function rr(i,l){i.context.$implicit=l.item}let sr=(()=>{var i;class l{constructor(u,b){this._viewContainer=u,this._context=new Tr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=b}set ngIf(u){this._context.$implicit=this._context.ngIf=u,this._updateView()}set ngIfThen(u){Ds("ngIfThen",u),this._thenTemplateRef=u,this._thenViewRef=null,this._updateView()}set ngIfElse(u){Ds("ngIfElse",u),this._elseTemplateRef=u,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(u,b){return!0}}return(i=l).\u0275fac=function(u){return new(u||i)(o.Y36(o.s_b),o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),l})();class Tr{constructor(){this.$implicit=null,this.ngIf=null}}function Ds(i,l){if(l&&!l.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,o.AaK)(l)}'.`)}let kn=(()=>{var i;class l{}return(i=l).\u0275fac=function(u){return new(u||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),l})();const Tt="browser",Zt="server";function Xn(i){return i===Zt}let ps=(()=>{var i;class l{}return(i=l).\u0275prov=(0,o.Yz7)({token:i,providedIn:"root",factory:()=>new Jt((0,o.LFG)(J),window)}),l})();class Jt{constructor(l,d){this.document=l,this.window=d,this.offset=()=>[0,0]}setOffset(l){this.offset=Array.isArray(l)?()=>l:l}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(l){this.supportsScrolling()&&this.window.scrollTo(l[0],l[1])}scrollToAnchor(l){if(!this.supportsScrolling())return;const d=function zr(i,l){const d=i.getElementById(l)||i.getElementsByName(l)[0];if(d)return d;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const u=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let b=u.currentNode;for(;b;){const j=b.shadowRoot;if(j){const oe=j.getElementById(l)||j.querySelector(`[name="${l}"]`);if(oe)return oe}b=u.nextNode()}}return null}(this.document,l);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(l){this.supportsScrolling()&&(this.window.history.scrollRestoration=l)}scrollToElement(l){const d=l.getBoundingClientRect(),u=d.left+this.window.pageXOffset,b=d.top+this.window.pageYOffset,j=this.offset();this.window.scrollTo(u-j[0],b-j[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wr{}},9862:(pe,m,v)=>{"use strict";v.d(m,{JF:()=>Ne,UA:()=>Le,WM:()=>V,eN:()=>C});var o=v(6689),y=v(2096),$=v(9666),P=v(5592),z=v(6328),J=v(2181),k=v(7398),Q=v(4716),q=v(4664),H=v(6814);class A{}class O{}class V{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?"string"==typeof Te?this.lazyInit=()=>{this.headers=new Map,Te.split("\n").forEach(qe=>{const tt=qe.indexOf(":");if(tt>0){const dt=qe.slice(0,tt),yt=dt.toLowerCase(),Vt=qe.slice(tt+1).trim();this.maybeSetNormalizedName(dt,yt),this.headers.has(yt)?this.headers.get(yt).push(Vt):this.headers.set(yt,[Vt])}})}:typeof Headers<"u"&&Te instanceof Headers?(this.headers=new Map,Te.forEach((qe,tt)=>{this.setHeaderEntries(tt,qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Te).forEach(([qe,tt])=>{this.setHeaderEntries(qe,tt)})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const qe=this.headers.get(Te.toLowerCase());return qe&&qe.length>0?qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,qe){return this.clone({name:Te,value:qe,op:"a"})}set(Te,qe){return this.clone({name:Te,value:qe,op:"s"})}delete(Te,qe){return this.clone({name:Te,value:qe,op:"d"})}maybeSetNormalizedName(Te,qe){this.normalizedNames.has(qe)||this.normalizedNames.set(qe,Te)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(qe=>{this.headers.set(qe,Te.headers.get(qe)),this.normalizedNames.set(qe,Te.normalizedNames.get(qe))})}clone(Te){const qe=new V;return qe.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,qe.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),qe}applyUpdate(Te){const qe=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let tt=Te.value;if("string"==typeof tt&&(tt=[tt]),0===tt.length)return;this.maybeSetNormalizedName(Te.name,qe);const dt=("a"===Te.op?this.headers.get(qe):void 0)||[];dt.push(...tt),this.headers.set(qe,dt);break;case"d":const yt=Te.value;if(yt){let Vt=this.headers.get(qe);if(!Vt)return;Vt=Vt.filter(Ft=>-1===yt.indexOf(Ft)),0===Vt.length?(this.headers.delete(qe),this.normalizedNames.delete(qe)):this.headers.set(qe,Vt)}else this.headers.delete(qe),this.normalizedNames.delete(qe)}}setHeaderEntries(Te,qe){const tt=(Array.isArray(qe)?qe:[qe]).map(yt=>yt.toString()),dt=Te.toLowerCase();this.headers.set(dt,tt),this.maybeSetNormalizedName(Te,dt)}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(qe=>Te(this.normalizedNames.get(qe),this.headers.get(qe)))}}class K{encodeKey(Te){return F(Te)}encodeValue(Te){return F(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const me=/%(\d[a-f0-9])/gi,B={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function F(Be){return encodeURIComponent(Be).replace(me,(Te,qe)=>B[qe]??Te)}function N(Be){return`${Be}`}class W{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new K,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function te(Be,Te){const qe=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(dt=>{const yt=dt.indexOf("="),[Vt,Ft]=-1==yt?[Te.decodeKey(dt),""]:[Te.decodeKey(dt.slice(0,yt)),Te.decodeValue(dt.slice(yt+1))],hn=qe.get(Vt)||[];hn.push(Ft),qe.set(Vt,hn)}),qe}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(qe=>{const tt=Te.fromObject[qe],dt=Array.isArray(tt)?tt.map(N):[N(tt)];this.map.set(qe,dt)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const qe=this.map.get(Te);return qe?qe[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,qe){return this.clone({param:Te,value:qe,op:"a"})}appendAll(Te){const qe=[];return Object.keys(Te).forEach(tt=>{const dt=Te[tt];Array.isArray(dt)?dt.forEach(yt=>{qe.push({param:tt,value:yt,op:"a"})}):qe.push({param:tt,value:dt,op:"a"})}),this.clone(qe)}set(Te,qe){return this.clone({param:Te,value:qe,op:"s"})}delete(Te,qe){return this.clone({param:Te,value:qe,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const qe=this.encoder.encodeKey(Te);return this.map.get(Te).map(tt=>qe+"="+this.encoder.encodeValue(tt)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const qe=new W({encoder:this.encoder});return qe.cloneFrom=this.cloneFrom||this,qe.updates=(this.updates||[]).concat(Te),qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const qe=("a"===Te.op?this.map.get(Te.param):void 0)||[];qe.push(N(Te.value)),this.map.set(Te.param,qe);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let tt=this.map.get(Te.param)||[];const dt=tt.indexOf(N(Te.value));-1!==dt&&tt.splice(dt,1),tt.length>0?this.map.set(Te.param,tt):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class ge{constructor(){this.map=new Map}set(Te,qe){return this.map.set(Te,qe),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Y(Be){return typeof ArrayBuffer<"u"&&Be instanceof ArrayBuffer}function Oe(Be){return typeof Blob<"u"&&Be instanceof Blob}function Ze(Be){return typeof FormData<"u"&&Be instanceof FormData}class Me{constructor(Te,qe,tt,dt){let yt;if(this.url=qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function ie(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==tt?tt:null,yt=dt):yt=tt,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new V),this.context||(this.context=new ge),this.params){const Vt=this.params.toString();if(0===Vt.length)this.urlWithParams=qe;else{const Ft=qe.indexOf("?");this.urlWithParams=qe+(-1===Ft?"?":Ft<qe.length-1?"&":"")+Vt}}else this.params=new W,this.urlWithParams=qe}serializeBody(){return null===this.body?null:Y(this.body)||Oe(this.body)||Ze(this.body)||function Qe(Be){return typeof URLSearchParams<"u"&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof W?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ze(this.body)?null:Oe(this.body)?this.body.type||null:Y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof W?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const qe=Te.method||this.method,tt=Te.url||this.url,dt=Te.responseType||this.responseType,yt=void 0!==Te.body?Te.body:this.body,Vt=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,Ft=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let hn=Te.headers||this.headers,fn=Te.params||this.params;const Hn=Te.context??this.context;return void 0!==Te.setHeaders&&(hn=Object.keys(Te.setHeaders).reduce((jn,Fn)=>jn.set(Fn,Te.setHeaders[Fn]),hn)),Te.setParams&&(fn=Object.keys(Te.setParams).reduce((jn,Fn)=>jn.set(Fn,Te.setParams[Fn]),fn)),new Me(qe,tt,yt,{params:fn,headers:hn,context:Hn,reportProgress:Ft,responseType:dt,withCredentials:Vt})}}var He=function(Be){return Be[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be}(He||{});class Fe{constructor(Te,qe=200,tt="OK"){this.headers=Te.headers||new V,this.status=void 0!==Te.status?Te.status:qe,this.statusText=Te.statusText||tt,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class ee extends Fe{constructor(Te={}){super(Te),this.type=He.ResponseHeader}clone(Te={}){return new ee({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class _e extends Fe{constructor(Te={}){super(Te),this.type=He.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new _e({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class Le extends Fe{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function de(Be,Te){return{body:Te,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let C=(()=>{var Be;class Te{constructor(tt){this.handler=tt}request(tt,dt,yt={}){let Vt;if(tt instanceof Me)Vt=tt;else{let fn,Hn;fn=yt.headers instanceof V?yt.headers:new V(yt.headers),yt.params&&(Hn=yt.params instanceof W?yt.params:new W({fromObject:yt.params})),Vt=new Me(tt,dt,void 0!==yt.body?yt.body:null,{headers:fn,context:yt.context,params:Hn,reportProgress:yt.reportProgress,responseType:yt.responseType||"json",withCredentials:yt.withCredentials})}const Ft=(0,y.of)(Vt).pipe((0,z.b)(fn=>this.handler.handle(fn)));if(tt instanceof Me||"events"===yt.observe)return Ft;const hn=Ft.pipe((0,J.h)(fn=>fn instanceof _e));switch(yt.observe||"body"){case"body":switch(Vt.responseType){case"arraybuffer":return hn.pipe((0,k.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fn.body}));case"blob":return hn.pipe((0,k.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof Blob))throw new Error("Response is not a Blob.");return fn.body}));case"text":return hn.pipe((0,k.U)(fn=>{if(null!==fn.body&&"string"!=typeof fn.body)throw new Error("Response is not a string.");return fn.body}));default:return hn.pipe((0,k.U)(fn=>fn.body))}case"response":return hn;default:throw new Error(`Unreachable: unhandled observe type ${yt.observe}}`)}}delete(tt,dt={}){return this.request("DELETE",tt,dt)}get(tt,dt={}){return this.request("GET",tt,dt)}head(tt,dt={}){return this.request("HEAD",tt,dt)}jsonp(tt,dt){return this.request("JSONP",tt,{params:(new W).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(tt,dt={}){return this.request("OPTIONS",tt,dt)}patch(tt,dt,yt={}){return this.request("PATCH",tt,de(yt,dt))}post(tt,dt,yt={}){return this.request("POST",tt,de(yt,dt))}put(tt,dt,yt={}){return this.request("PUT",tt,de(yt,dt))}}return(Be=Te).\u0275fac=function(tt){return new(tt||Be)(o.LFG(A))},Be.\u0275prov=o.Yz7({token:Be,factory:Be.\u0275fac}),Te})();function M(Be,Te){return Te(Be)}function L(Be,Te){return(qe,tt)=>Te.intercept(qe,{handle:dt=>Be(dt,tt)})}const fe=new o.OlP(""),Se=new o.OlP(""),Re=new o.OlP("");function Ue(){let Be=null;return(Te,qe)=>{null===Be&&(Be=((0,o.f3M)(fe,{optional:!0})??[]).reduceRight(L,M));const tt=(0,o.f3M)(o.HDt),dt=tt.add();return Be(Te,qe).pipe((0,Q.x)(()=>tt.remove(dt)))}}let $e=(()=>{var Be;class Te extends A{constructor(tt,dt){super(),this.backend=tt,this.injector=dt,this.chain=null,this.pendingTasks=(0,o.f3M)(o.HDt)}handle(tt){if(null===this.chain){const yt=Array.from(new Set([...this.injector.get(Se),...this.injector.get(Re,[])]));this.chain=yt.reduceRight((Vt,Ft)=>function re(Be,Te,qe){return(tt,dt)=>qe.runInContext(()=>Te(tt,yt=>Be(yt,dt)))}(Vt,Ft,this.injector),M)}const dt=this.pendingTasks.add();return this.chain(tt,yt=>this.backend.handle(yt)).pipe((0,Q.x)(()=>this.pendingTasks.remove(dt)))}}return(Be=Te).\u0275fac=function(tt){return new(tt||Be)(o.LFG(O),o.LFG(o.lqb))},Be.\u0275prov=o.Yz7({token:Be,factory:Be.\u0275fac}),Te})();const Ut=/^\)\]\}',?\n/;let It=(()=>{var Be;class Te{constructor(tt){this.xhrFactory=tt}handle(tt){if("JSONP"===tt.method)throw new o.vHH(-2800,!1);const dt=this.xhrFactory;return(dt.\u0275loadImpl?(0,$.D)(dt.\u0275loadImpl()):(0,y.of)(null)).pipe((0,q.w)(()=>new P.y(Vt=>{const Ft=dt.build();if(Ft.open(tt.method,tt.urlWithParams),tt.withCredentials&&(Ft.withCredentials=!0),tt.headers.forEach((yn,gn)=>Ft.setRequestHeader(yn,gn.join(","))),tt.headers.has("Accept")||Ft.setRequestHeader("Accept","application/json, text/plain, */*"),!tt.headers.has("Content-Type")){const yn=tt.detectContentTypeHeader();null!==yn&&Ft.setRequestHeader("Content-Type",yn)}if(tt.responseType){const yn=tt.responseType.toLowerCase();Ft.responseType="json"!==yn?yn:"text"}const hn=tt.serializeBody();let fn=null;const Hn=()=>{if(null!==fn)return fn;const yn=Ft.statusText||"OK",gn=new V(Ft.getAllResponseHeaders()),Bn=function Ke(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(Ft)||tt.url;return fn=new ee({headers:gn,status:Ft.status,statusText:yn,url:Bn}),fn},jn=()=>{let{headers:yn,status:gn,statusText:Bn,url:Pr}=Hn(),Sn=null;204!==gn&&(Sn=typeof Ft.response>"u"?Ft.responseText:Ft.response),0===gn&&(gn=Sn?200:0);let rr=gn>=200&&gn<300;if("json"===tt.responseType&&"string"==typeof Sn){const _r=Sn;Sn=Sn.replace(Ut,"");try{Sn=""!==Sn?JSON.parse(Sn):null}catch(sr){Sn=_r,rr&&(rr=!1,Sn={error:sr,text:Sn})}}rr?(Vt.next(new _e({body:Sn,headers:yn,status:gn,statusText:Bn,url:Pr||void 0})),Vt.complete()):Vt.error(new Le({error:Sn,headers:yn,status:gn,statusText:Bn,url:Pr||void 0}))},Fn=yn=>{const{url:gn}=Hn(),Bn=new Le({error:yn,status:Ft.status||0,statusText:Ft.statusText||"Unknown Error",url:gn||void 0});Vt.error(Bn)};let $n=!1;const Zn=yn=>{$n||(Vt.next(Hn()),$n=!0);let gn={type:He.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(gn.total=yn.total),"text"===tt.responseType&&Ft.responseText&&(gn.partialText=Ft.responseText),Vt.next(gn)},cn=yn=>{let gn={type:He.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(gn.total=yn.total),Vt.next(gn)};return Ft.addEventListener("load",jn),Ft.addEventListener("error",Fn),Ft.addEventListener("timeout",Fn),Ft.addEventListener("abort",Fn),tt.reportProgress&&(Ft.addEventListener("progress",Zn),null!==hn&&Ft.upload&&Ft.upload.addEventListener("progress",cn)),Ft.send(hn),Vt.next({type:He.Sent}),()=>{Ft.removeEventListener("error",Fn),Ft.removeEventListener("abort",Fn),Ft.removeEventListener("load",jn),Ft.removeEventListener("timeout",Fn),tt.reportProgress&&(Ft.removeEventListener("progress",Zn),null!==hn&&Ft.upload&&Ft.upload.removeEventListener("progress",cn)),Ft.readyState!==Ft.DONE&&Ft.abort()}})))}}return(Be=Te).\u0275fac=function(tt){return new(tt||Be)(o.LFG(H.JF))},Be.\u0275prov=o.Yz7({token:Be,factory:Be.\u0275fac}),Te})();const xt=new o.OlP("XSRF_ENABLED"),Xt=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ae=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class we{}let rt=(()=>{var Be;class Te{constructor(tt,dt,yt){this.doc=tt,this.platform=dt,this.cookieName=yt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const tt=this.doc.cookie||"";return tt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,H.Mx)(tt,this.cookieName),this.lastCookieString=tt),this.lastToken}}return(Be=Te).\u0275fac=function(tt){return new(tt||Be)(o.LFG(H.K0),o.LFG(o.Lbi),o.LFG(Xt))},Be.\u0275prov=o.Yz7({token:Be,factory:Be.\u0275fac}),Te})();function lt(Be,Te){const qe=Be.url.toLowerCase();if(!(0,o.f3M)(xt)||"GET"===Be.method||"HEAD"===Be.method||qe.startsWith("http://")||qe.startsWith("https://"))return Te(Be);const tt=(0,o.f3M)(we).getToken(),dt=(0,o.f3M)(ae);return null!=tt&&!Be.headers.has(dt)&&(Be=Be.clone({headers:Be.headers.set(dt,tt)})),Te(Be)}var wt=function(Be){return Be[Be.Interceptors=0]="Interceptors",Be[Be.LegacyInterceptors=1]="LegacyInterceptors",Be[Be.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Be[Be.NoXsrfProtection=3]="NoXsrfProtection",Be[Be.JsonpSupport=4]="JsonpSupport",Be[Be.RequestsMadeViaParent=5]="RequestsMadeViaParent",Be[Be.Fetch=6]="Fetch",Be}(wt||{});function zt(Be,Te){return{\u0275kind:Be,\u0275providers:Te}}function Qt(...Be){const Te=[C,It,$e,{provide:A,useExisting:$e},{provide:O,useExisting:It},{provide:Se,useValue:lt,multi:!0},{provide:xt,useValue:!0},{provide:we,useClass:rt}];for(const qe of Be)Te.push(...qe.\u0275providers);return(0,o.MR2)(Te)}const Kt=new o.OlP("LEGACY_INTERCEPTOR_FN");let Ne=(()=>{var Be;class Te{}return(Be=Te).\u0275fac=function(tt){return new(tt||Be)},Be.\u0275mod=o.oAB({type:Be}),Be.\u0275inj=o.cJS({providers:[Qt(zt(wt.LegacyInterceptors,[{provide:Kt,useFactory:Ue},{provide:Se,useExisting:Kt,multi:!0}]))]}),Te})()},6689:(pe,m,v)=>{"use strict";v.d(m,{QbO:()=>Vy,tb:()=>Fd,AFp:()=>cf,ip1:()=>Jm,hGG:()=>ow,z2F:()=>Ko,Ojb:()=>jy,sBO:()=>$D,Sil:()=>iD,EJc:()=>nD,ktI:()=>Sa,Xts:()=>va,SBq:()=>Ea,lqb:()=>pi,qLn:()=>Fo,vpe:()=>yi,tBr:()=>sh,XFs:()=>Dt,OlP:()=>Gn,zs3:()=>ni,ZZ4:()=>Ld,aQg:()=>Ud,soG:()=>lc,YKP:()=>tm,h0i:()=>ro,PXZ:()=>xD,R0b:()=>ns,FiY:()=>ll,Lbi:()=>au,g9A:()=>uf,Qsj:()=>t0,FYo:()=>vf,JOm:()=>ml,tp0:()=>cl,Rgc:()=>ja,dDg:()=>ID,eoX:()=>hv,GfV:()=>_f,s_b:()=>oc,ifc:()=>$n,gHi:()=>kl,VuI:()=>vw,Flj:()=>Ti,MMx:()=>rm,Lck:()=>jS,eFA:()=>mv,G48:()=>HD,Gpc:()=>ge,f3M:()=>dt,X6Q:()=>GD,$WT:()=>Lr,MR2:()=>eu,_c5:()=>iw,qFp:()=>yw,tdS:()=>Yi,rg0:()=>i,c2e:()=>ev,zSh:()=>ru,HDt:()=>tv,wAp:()=>zo,vHH:()=>Me,lri:()=>uv,rWj:()=>dv,cg1:()=>td,kL8:()=>Ag,dqk:()=>lt,Z0I:()=>qt,eJc:()=>yd,QGY:()=>$u,F4k:()=>Fp,RDi:()=>ay,AaK:()=>N,qOj:()=>Fu,Xq5:()=>up,TTD:()=>b,_Bn:()=>em,jDz:()=>sm,xp6:()=>kf,uIk:()=>Ou,Gre:()=>pg,ekj:()=>Qu,Suo:()=>Rm,Xpm:()=>ss,lG2:()=>fs,Yz7:()=>Je,cJS:()=>at,oAB:()=>Ir,Yjl:()=>Sr,Y36:()=>Ro,_UZ:()=>Bu,qZA:()=>Xl,TgZ:()=>Kl,EpF:()=>Ip,n5z:()=>Jd,LFG:()=>qe,$8M:()=>Ac,$Z:()=>Uf,NdJ:()=>zu,CRH:()=>Om,kcU:()=>ur,O4$:()=>Dn,oxw:()=>kp,Q6J:()=>Vu,s9C:()=>Wu,DdM:()=>dm,VKq:()=>hm,WLB:()=>fm,iGM:()=>Im,MAs:()=>Ap,KtG:()=>$a,CHM:()=>Ha,oJD:()=>Qh,LSH:()=>Zc,P3R:()=>Jh,YNc:()=>Cp,_uU:()=>ig,Oqu:()=>Ju,hij:()=>Jl,AsE:()=>ed,Gf:()=>Fm});var o=v(8645),y=v(7394),$=v(5619),P=v(5592),z=v(7537),J=v(4829),k=v(6232),Q=v(4564),q=v(9666),A=v(2096),O=v(305),V=v(9360);function x(e={}){const{connector:t=(()=>new o.x),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return a=>{let c,h,_,T=0,Z=!1,be=!1;const je=()=>{h?.unsubscribe(),h=void 0},ze=()=>{je(),c=_=void 0,Z=be=!1},ut=()=>{const Et=c;ze(),Et?.unsubscribe()};return(0,V.e)((Et,Nt)=>{T++,!be&&!Z&&je();const Wt=_=_??t();Nt.add(()=>{T--,0===T&&!be&&!Z&&(h=K(ut,s))}),Wt.subscribe(Nt),!c&&T>0&&(c=new O.Hp({next:pt=>Wt.next(pt),error:pt=>{be=!0,je(),h=K(ze,n,pt),Wt.error(pt)},complete:()=>{Z=!0,je(),h=K(ze,r),Wt.complete()}}),(0,J.Xf)(Et).subscribe(c))})(a)}}function K(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new O.Hp({next:()=>{r.unsubscribe(),e()}});return(0,J.Xf)(t(...n)).subscribe(r)}var te=v(4664),me=v(3997);function B(e){for(let t in e)if(e[t]===B)return t;throw Error("Could not find renamed property on target object.")}function F(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function N(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(N).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function W(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ue=B({__forward_ref__:B});function ge(e){return e.__forward_ref__=ge,e.toString=function(){return N(this())},e}function ie(e){return Y(e)?e():e}function Y(e){return"function"==typeof e&&e.hasOwnProperty(ue)&&e.__forward_ref__===ge}function Oe(e){return e&&!!e.\u0275providers}const Qe="https://g.co/ng/security#xss";class Me extends Error{constructor(t,n){super(function He(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Fe(e){return"string"==typeof e?e:null==e?"":String(e)}function C(e,t){throw new Me(-201,!1)}function Ue(e,t){null==e&&function $e(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function at(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ct(e){return _t(e,Ut)||_t(e,It)}function qt(e){return null!==Ct(e)}function _t(e,t){return e.hasOwnProperty(t)?e[t]:null}function In(e){return e&&(e.hasOwnProperty(Ke)||e.hasOwnProperty(xt))?e[Ke]:null}const Ut=B({\u0275prov:B}),Ke=B({\u0275inj:B}),It=B({ngInjectableDef:B}),xt=B({ngInjectorDef:B});var Dt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Dt||{});let Xt;function Ve(){return Xt}function ae(e){const t=Xt;return Xt=e,t}function we(e,t,n){const r=Ct(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Dt.Optional?null:void 0!==t?t:void C(N(e))}const lt=globalThis,Ne={},et="__NG_DI_FLAG__",ct="ngTempTokenPath",$t=/\n/gm,An="__source";let xn;function Be(e){const t=xn;return xn=e,t}function Te(e,t=Dt.Default){if(void 0===xn)throw new Me(-203,!1);return null===xn?we(e,void 0,t):xn.get(e,t&Dt.Optional?null:void 0,t)}function qe(e,t=Dt.Default){return(Ve()||Te)(ie(e),t)}function dt(e,t=Dt.Default){return qe(e,yt(t))}function yt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Vt(e){const t=[];for(let n=0;n<e.length;n++){const r=ie(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Me(900,!1);let s,a=Dt.Default;for(let c=0;c<r.length;c++){const h=r[c],_=hn(h);"number"==typeof _?-1===_?s=h.token:a|=_:s=h}t.push(qe(s,a))}else t.push(qe(r))}return t}function Ft(e,t){return e[et]=t,e.prototype[et]=t,e}function hn(e){return e[et]}function jn(e){return{toString:e}.toString()}var Fn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Fn||{}),$n=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($n||{});const Zn={},cn=[],yn=B({\u0275cmp:B}),gn=B({\u0275dir:B}),Bn=B({\u0275pipe:B}),Pr=B({\u0275mod:B}),Sn=B({\u0275fac:B}),rr=B({__NG_ELEMENT_ID__:B}),_r=B({__NG_ENV_ID__:B});function sr(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const a=t.length;if(s+a===r||e.charCodeAt(s+a)<=32)return s}n=s+1}}function Tr(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const a=n[r++],c=n[r++],h=n[r++];e.setAttribute(t,c,h,a)}else{const a=s,c=n[++r];yr(a)?e.setProperty(t,a,c):e.setAttribute(t,a,c),r++}}return r}function Ds(e){return 3===e||4===e||6===e}function yr(e){return 64===e.charCodeAt(0)}function br(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||kr(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function kr(e,t,n,r,s){let a=0,c=e.length;if(-1===t)c=-1;else for(;a<e.length;){const h=e[a++];if("number"==typeof h){if(h===t){c=-1;break}if(h>t){c=a-1;break}}}for(;a<e.length;){const h=e[a];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==s&&(e[a+1]=s));if(r===e[a+1])return void(e[a+2]=s)}a++,null!==r&&a++,null!==s&&a++}-1!==c&&(e.splice(c,0,t),a=c+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==s&&e.splice(a++,0,s)}const ir="ng-template";function Jn(e,t,n){let r=0,s=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&s){const c=e[r++];if(n&&"class"===a&&-1!==sr(c.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(s=!1)}}return!1}function hr(e){return 4===e.type&&e.value!==ir}function Us(e,t,n){return t===(4!==e.type||n?e.value:ir)}function ws(e,t,n){let r=4;const s=e.attrs||[],a=function hs(e){for(let t=0;t<e.length;t++)if(Ds(e[t]))return t;return e.length}(s);let c=!1;for(let h=0;h<t.length;h++){const _=t[h];if("number"!=typeof _){if(!c)if(4&r){if(r=2|1&r,""!==_&&!Us(e,_,n)||""===_&&1===t.length){if(fr(r))return!1;c=!0}}else{const T=8&r?_:t[++h];if(8&r&&null!==e.attrs){if(!Jn(e.attrs,T,n)){if(fr(r))return!1;c=!0}continue}const be=Pi(8&r?"class":_,s,hr(e),n);if(-1===be){if(fr(r))return!1;c=!0;continue}if(""!==T){let je;je=be>a?"":s[be+1].toLowerCase();const ze=8&r?je:null;if(ze&&-1!==sr(ze,T,0)||2&r&&T!==je){if(fr(r))return!1;c=!0}}}}else{if(!c&&!fr(r)&&!fr(_))return!1;if(c&&fr(_))continue;c=!1,r=_|1&r}}return fr(r)||c}function fr(e){return 0==(1&e)}function Pi(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let a=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)a=!0;else{if(1===c||2===c){let h=t[++s];for(;"string"==typeof h;)h=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=a?1:2}return-1}return function As(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Er(e,t,n=!1){for(let r=0;r<t.length;r++)if(ws(e,t[r],n))return!0;return!1}function js(e,t){return e?":not("+t.trim()+")":t}function Yr(e){let t=e[0],n=1,r=2,s="",a=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const h=e[++n];s+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!fr(c)&&(t+=js(a,s),s=""),r=c,a=a||!fr(r);n++}return""!==s&&(t+=js(a,s)),t}function ss(e){return jn(()=>{const t=Ts(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$n.Emulated,styles:e.styles||cn,_:null,schemas:e.schemas||null,tView:null,id:""};Kr(n);const r=e.dependencies;return n.directiveDefs=Cr(r,!1),n.pipeDefs=Cr(r,!0),n.id=function Fs(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Ys(e){return pn(e)||Vn(e)}function Ps(e){return null!==e}function Ir(e){return jn(()=>({type:e.type,bootstrap:e.bootstrap||cn,declarations:e.declarations||cn,imports:e.imports||cn,exports:e.exports||cn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function is(e,t){if(null==e)return Zn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],a=s;Array.isArray(s)&&(a=s[1],s=s[0]),n[s]=r,t&&(t[s]=a)}return n}function fs(e){return jn(()=>{const t=Ts(e);return Kr(t),t})}function Sr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function pn(e){return e[yn]||null}function Vn(e){return e[gn]||null}function zn(e){return e[Bn]||null}function Lr(e){const t=pn(e)||Vn(e)||zn(e);return null!==t&&t.standalone}function Nn(e,t){const n=e[Pr]||null;if(!n&&!0===t)throw new Error(`Type ${N(e)} does not have '\u0275mod' property.`);return n}function Ts(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Zn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||cn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:is(e.inputs,t),outputs:is(e.outputs)}}function Kr(e){e.features?.forEach(t=>t(e))}function Cr(e,t){if(!e)return null;const n=t?zn:Ys;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Ps)}const kn=0,Tt=1,Zt=2,Cn=3,nr=4,Fr=5,Xn=6,os=7,Ln=8,Dr=9,ps=10,Jt=11,zr=12,gs=13,wr=14,Rn=15,Ur=16,Xr=17,Rr=18,ms=19,Ks=20,Ar=21,pr=22,as=23,vs=24,mn=25,gr=1,ce=2,ve=7,Ie=9,ht=11;function rn(e){return Array.isArray(e)&&"object"==typeof e[gr]}function an(e){return Array.isArray(e)&&!0===e[gr]}function Mn(e){return 0!=(4&e.flags)}function vn(e){return e.componentOffset>-1}function or(e){return 1==(1&e.flags)}function ar(e){return!!e.template}function Vr(e){return 0!=(512&e[Zt])}function Hs(e,t){return e.hasOwnProperty(Sn)?e[Sn]:null}const li=Symbol("SIGNAL");function Zr(e,t,n={}){return t[li]=e,Object.assign(t,n)}function Qs(e,t){return(null===e||"object"!=typeof e)&&Object.is(e,t)}let oo=lt.WeakRef??class zi{constructor(t){this.ref=t}deref(){return this.ref}},ao=0,Wr=null,ci=!1;function lr(e){const t=Wr;return Wr=e,t}class Si{constructor(){this.id=ao++,this.ref=function Wi(e){return new oo(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ci;ci=!0;try{for(const[n,r]of this.consumers){const s=r.consumerNode.deref();null!=s&&s.trackingVersion===r.atTrackingVersion?s.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),s?.producers.delete(this.id))}}finally{ci=t}}producerAccessed(){if(ci)throw new Error("");if(null===Wr)return;let t=Wr.producers.get(this.id);void 0===t?(t={consumerNode:Wr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Wr.trackingVersion},Wr.producers.set(this.id,t),this.consumers.set(Wr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Wr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Wr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}function Ti(e,t){const n=new Qo(e,t?.equal??Qs);return Zr(n,n.signal.bind(n))}const Zs=Symbol("UNSET"),$s=Symbol("COMPUTING"),Ci=Symbol("ERRORED");class Qo extends Si{constructor(t,n){super(),this.computation=t,this.equal=n,this.value=Zs,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Zs&&this.value!==$s&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===$s)throw new Error("Detected cycle in computations.");const t=this.value;this.value=$s,this.trackingVersion++;const n=lr(this);let r;try{r=this.computation()}catch(s){r=Ci,this.error=s}finally{lr(n)}this.stale=!1,t!==Zs&&t!==Ci&&r!==Ci&&this.equal(t,r)?this.value=t:(this.value=r,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===Ci)throw this.error;return this.value}}let lo=function Zo(){throw new Error};function Ii(){lo()}class Jo extends Si{constructor(t,n){super(),this.value=t,this.equal=n,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(t){this.producerUpdatesAllowed||Ii(),this.equal(this.value,t)||(this.value=t,this.valueVersion++,this.producerMayHaveChanged())}update(t){this.producerUpdatesAllowed||Ii(),this.set(t(this.value))}mutate(t){this.producerUpdatesAllowed||Ii(),t(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=Zr(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function Yi(e,t){const n=new Jo(e,t?.equal??Qs);return Zr(n,n.signal.bind(n),{set:n.set.bind(n),update:n.update.bind(n),mutate:n.mutate.bind(n),asReadonly:n.asReadonly.bind(n)})}function i(e){const t=lr(null);try{return e()}finally{lr(t)}}const l=()=>{};class d extends Si{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=l,this.registerOnCleanup=s=>{this.cleanupFn=s},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=lr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=l,this.watch(this.registerOnCleanup)}finally{lr(t)}}cleanup(){this.cleanupFn()}}class u{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function b(){return j}function j(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ae),oe}function oe(){const e=St(this),t=e?.current;if(t){const n=e.previous;if(n===Zn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ae(e,t,n,r){const s=this.declaredInputs[n],a=St(e)||function gt(e,t){return e[Ye]=t}(e,{previous:Zn,current:null}),c=a.current||(a.current={}),h=a.previous,_=h[s];c[s]=new u(_&&_.currentValue,t,h===Zn),e[r]=t}b.ngInherit=!0;const Ye="__ngSimpleChanges__";function St(e){return e[Ye]||null}const At=function(e,t,n){},jt="svg";function tn(e){for(;Array.isArray(e);)e=e[kn];return e}function Un(e,t){return tn(t[e])}function bn(e,t){return tn(t[e.index])}function mr(e,t){return e.data[t]}function er(e,t){const n=t[e];return rn(n)?n:n[kn]}function Jr(e,t){return null==t?null:e[t]}function cr(e){e[Xr]=0}function uo(e){1024&e[Zt]||(e[Zt]|=1024,Ht(e,1))}function di(e){1024&e[Zt]&&(e[Zt]&=-1025,Ht(e,-1))}function Ht(e,t){let n=e[Cn];if(null===n)return;n[Fr]+=t;let r=n;for(n=n[Cn];null!==n&&(1===t&&1===r[Fr]||-1===t&&0===r[Fr]);)n[Fr]+=t,r=n,n=n[Cn]}function nn(e,t){if(256==(256&e[Zt]))throw new Me(911,!1);null===e[Ar]&&(e[Ar]=[]),e[Ar].push(t)}const Ot={lFrame:g(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ri(){return Ot.bindingsEnabled}function mt(){return Ot.lFrame.lView}function Tn(){return Ot.lFrame.tView}function Ha(e){return Ot.lFrame.contextLView=e,e[Ln]}function $a(e){return Ot.lFrame.contextLView=null,e}function $r(){let e=ea();for(;null!==e&&64===e.type;)e=e.parent;return e}function ea(){return Ot.lFrame.currentTNode}function Js(e,t){const n=Ot.lFrame;n.currentTNode=e,n.isParent=t}function za(){return Ot.lFrame.isParent}function qr(){const e=Ot.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xi(){return Ot.lFrame.bindingIndex++}function ti(e){const t=Ot.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function mc(e,t){const n=Ot.lFrame;n.bindingIndex=n.bindingRootIndex=e,na(t)}function na(e){Ot.lFrame.currentDirectiveIndex=e}function vc(){return Ot.lFrame.currentQueryIndex}function Qa(e){Ot.lFrame.currentQueryIndex=e}function Bd(e){const t=e[Tt];return 2===t.type?t.declTNode:1===t.type?e[Xn]:null}function _c(e,t,n){if(n&Dt.SkipSelf){let s=t,a=e;for(;!(s=s.parent,null!==s||n&Dt.Host||(s=Bd(a),null===s||(a=a[wr],10&s.type))););if(null===s)return!1;t=s,e=a}const r=Ot.lFrame=f();return r.currentTNode=t,r.lView=e,!0}function Za(e){const t=f(),n=e[Tt];Ot.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function f(){const e=Ot.lFrame,t=null===e?null:e.child;return null===t?g(e):t}function g(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function E(){const e=Ot.lFrame;return Ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const p=E;function D(){const e=E();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function De(){return Ot.lFrame.selectedIndex}function it(e){Ot.lFrame.selectedIndex=e}function ft(){const e=Ot.lFrame;return mr(e.tView,e.selectedIndex)}function Dn(){Ot.lFrame.currentNamespace=jt}function ur(){!function zs(){Ot.lFrame.currentNamespace=null}()}let ki=!0;function Li(){return ki}function cs(e){ki=e}function Ja(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:_,ngAfterViewChecked:T,ngOnDestroy:Z}=a;c&&(e.contentHooks??=[]).push(-n,c),h&&((e.contentHooks??=[]).push(n,h),(e.contentCheckHooks??=[]).push(n,h)),_&&(e.viewHooks??=[]).push(-n,_),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=Z&&(e.destroyHooks??=[]).push(n,Z)}}function el(e,t,n){Gd(e,t,3,n)}function tl(e,t,n,r){(3&e[Zt])===n&&Gd(e,t,n,r)}function yc(e,t){let n=e[Zt];(3&n)===t&&(n&=8191,n+=1,e[Zt]=n)}function Gd(e,t,n,r){const a=r??-1,c=t.length-1;let h=0;for(let _=void 0!==r?65535&e[Xr]:0;_<c;_++)if("number"==typeof t[_+1]){if(h=t[_],null!=r&&h>=r)break}else t[_]<0&&(e[Xr]+=65536),(h<a||-1==a)&&(Hv(e,n,t,_),e[Xr]=(4294901760&e[Xr])+_+2),_++}function Hd(e,t){At(4,e,t);const n=lr(null);try{t.call(e)}finally{lr(n),At(5,e,t)}}function Hv(e,t,n,r){const s=n[r]<0,a=n[r+1],h=e[s?-n[r]:n[r]];s?e[Zt]>>13<e[Xr]>>16&&(3&e[Zt])===t&&(e[Zt]+=8192,Hd(h,a)):Hd(h,a)}const ho=-1;class ra{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ec(e){return e!==ho}function sa(e){return 32767&e}function ia(e,t){let n=function qv(e){return e>>16}(e),r=t;for(;n>0;)r=r[wr],n--;return r}let Sc=!0;function nl(e){const t=Sc;return Sc=e,t}const $d=255,zd=5;let Yv=0;const fi={};function rl(e,t){const n=Wd(e,t);if(-1!==n)return n;const r=t[Tt];r.firstCreatePass&&(e.injectorIndex=t.length,Cc(r.data,e),Cc(t,null),Cc(r.blueprint,null));const s=sl(e,t),a=e.injectorIndex;if(Ec(s)){const c=sa(s),h=ia(s,t),_=h[Tt].data;for(let T=0;T<8;T++)t[a+T]=h[c+T]|_[c+T]}return t[a+8]=s,a}function Cc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wd(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=eh(s),null===r)return ho;if(n++,s=s[wr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ho}function Dc(e,t,n){!function Kv(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rr)&&(r=n[rr]),null==r&&(r=n[rr]=Yv++);const s=r&$d;t.data[e+(s>>zd)]|=1<<s}(e,t,n)}function qd(e,t,n){if(n&Dt.Optional||void 0!==e)return e;C()}function Yd(e,t,n,r){if(n&Dt.Optional&&void 0===r&&(r=null),!(n&(Dt.Self|Dt.Host))){const s=e[Dr],a=ae(void 0);try{return s?s.get(t,r,n&Dt.Optional):we(t,r,n&Dt.Optional)}finally{ae(a)}}return qd(r,0,n)}function Kd(e,t,n,r=Dt.Default,s){if(null!==e){if(2048&t[Zt]&&!(r&Dt.Self)){const c=function t_(e,t,n,r,s){let a=e,c=t;for(;null!==a&&null!==c&&2048&c[Zt]&&!(512&c[Zt]);){const h=Xd(a,c,n,r|Dt.Self,fi);if(h!==fi)return h;let _=a.parent;if(!_){const T=c[Ks];if(T){const Z=T.get(n,fi,r);if(Z!==fi)return Z}_=eh(c),c=c[wr]}a=_}return s}(e,t,n,r,fi);if(c!==fi)return c}const a=Xd(e,t,n,r,fi);if(a!==fi)return a}return Yd(t,n,r,s)}function Xd(e,t,n,r,s){const a=function Zv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(rr)?e[rr]:void 0;return"number"==typeof t?t>=0?t&$d:e_:t}(n);if("function"==typeof a){if(!_c(t,e,r))return r&Dt.Host?qd(s,0,r):Yd(t,n,r,s);try{let c;if(c=a(r),null!=c||r&Dt.Optional)return c;C()}finally{p()}}else if("number"==typeof a){let c=null,h=Wd(e,t),_=ho,T=r&Dt.Host?t[Rn][Xn]:null;for((-1===h||r&Dt.SkipSelf)&&(_=-1===h?sl(e,t):t[h+8],_!==ho&&Zd(r,!1)?(c=t[Tt],h=sa(_),t=ia(_,t)):h=-1);-1!==h;){const Z=t[Tt];if(Qd(a,h,Z.data)){const be=Qv(h,t,n,c,r,T);if(be!==fi)return be}_=t[h+8],_!==ho&&Zd(r,t[Tt].data[h+8]===T)&&Qd(a,h,t)?(c=Z,h=sa(_),t=ia(_,t)):h=-1}}return s}function Qv(e,t,n,r,s,a){const c=t[Tt],h=c.data[e+8],Z=il(h,c,n,null==r?vn(h)&&Sc:r!=c&&0!=(3&h.type),s&Dt.Host&&a===h);return null!==Z?Qi(t,c,Z,h):fi}function il(e,t,n,r,s){const a=e.providerIndexes,c=t.data,h=1048575&a,_=e.directiveStart,Z=a>>20,je=s?h+Z:e.directiveEnd;for(let ze=r?h:h+Z;ze<je;ze++){const ut=c[ze];if(ze<_&&n===ut||ze>=_&&ut.type===n)return ze}if(s){const ze=c[_];if(ze&&ar(ze)&&ze.type===n)return _}return null}function Qi(e,t,n,r){let s=e[n];const a=t.data;if(function $v(e){return e instanceof ra}(s)){const c=s;c.resolving&&function _e(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Me(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Fe(e)}(a[n]));const h=nl(c.canSeeViewProviders);c.resolving=!0;const T=c.injectImpl?ae(c.injectImpl):null;_c(e,r,Dt.Default);try{s=e[n]=c.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Gv(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:a}=t.type.prototype;if(r){const c=j(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}s&&(n.preOrderHooks??=[]).push(0-e,s),a&&((n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a))}(n,a[n],t)}finally{null!==T&&ae(T),nl(h),c.resolving=!1,p()}}return s}function Qd(e,t,n){return!!(n[t+(e>>zd)]&1<<e)}function Zd(e,t){return!(e&Dt.Self||e&Dt.Host&&t)}class us{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Kd(this._tNode,this._lView,t,yt(r),n)}}function e_(){return new us($r(),mt())}function Jd(e){return jn(()=>{const t=e.prototype.constructor,n=t[Sn]||wc(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const a=s[Sn]||wc(s);if(a&&a!==n)return a;s=Object.getPrototypeOf(s)}return a=>new a})}function wc(e){return Y(e)?()=>{const t=wc(ie(e));return t&&t()}:Hs(e)}function eh(e){const t=e[Tt],n=t.type;return 2===n?t.declTNode:1===n?e[Xn]:null}function Ac(e){return function Xv(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const a=n[s];if(Ds(a))break;if(0===a)s+=2;else if("number"==typeof a)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(a===t)return n[s+1];s+=2}}}return null}($r(),e)}const po="__parameters__";function mo(e,t,n){return jn(()=>{const r=function Mc(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...a){if(this instanceof s)return r.apply(this,a),this;const c=new s(...a);return h.annotation=c,h;function h(_,T,Z){const be=_.hasOwnProperty(po)?_[po]:Object.defineProperty(_,po,{value:[]})[po];for(;be.length<=Z;)be.push(null);return(be[Z]=be[Z]||[]).push(c),_}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function _o(e,t){e.forEach(n=>Array.isArray(n)?_o(n,t):t(n))}function nh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ol(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ks(e,t,n){let r=yo(e,t);return r>=0?e[1|r]=n:(r=~r,function l_(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Pc(e,t){const n=yo(e,t);if(n>=0)return e[1|n]}function yo(e,t){return function rh(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const a=r+(s-r>>1),c=e[a<<n];if(t===c)return a<<n;c>t?s=a:r=a+1}return~(s<<n)}(e,t,1)}const sh=Ft(mo("Inject",e=>({token:e})),-1),ll=Ft(mo("Optional"),8),cl=Ft(mo("SkipSelf"),4);function pl(e){return 128==(128&e.flags)}var ml=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ml||{});const Oc=new Map;let F_=0;const Nc="__ngContext__";function es(e,t){rn(t)?(e[Nc]=t[ms],function O_(e){Oc.set(e[ms],e)}(t)):e[Nc]=t}let kc;function Lc(e,t){return kc(e,t)}function da(e){const t=e[Cn];return an(t)?t[Cn]:t}function Dh(e){return Ah(e[zr])}function wh(e){return Ah(e[nr])}function Ah(e){for(;null!==e&&!an(e);)e=e[nr];return e}function So(e,t,n,r,s){if(null!=r){let a,c=!1;an(r)?a=r:rn(r)&&(c=!0,r=r[kn]);const h=tn(r);0===e&&null!==n?null==s?Ih(t,n,h):Zi(t,n,h,s||null,!0):1===e&&null!==n?Zi(t,n,h,s||null,!0):2===e?function Sl(e,t,n){const r=bl(e,t);r&&function Z_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,c):3===e&&t.destroyNode(h),null!=a&&function ty(e,t,n,r,s){const a=n[ve];a!==tn(n)&&So(t,e,r,a,s);for(let h=ht;h<n.length;h++){const _=n[h];fa(_[Tt],_,e,t,r,a)}}(t,e,a,n,s)}}function _l(e,t,n){return e.createElement(t,n)}function Ph(e,t){const n=e[Ie],r=n.indexOf(t);di(t),n.splice(r,1)}function yl(e,t){if(e.length<=ht)return;const n=ht+t,r=e[n];if(r){const s=r[Ur];null!==s&&s!==e&&Ph(s,r),t>0&&(e[n-1][nr]=r[nr]);const a=ol(e,ht+t);!function $_(e,t){fa(e,t,t[Jt],2,null,null),t[kn]=null,t[Xn]=null}(r[Tt],r);const c=a[Rr];null!==c&&c.detachView(a[Tt]),r[Cn]=null,r[nr]=null,r[Zt]&=-129}return r}function Vc(e,t){if(!(256&t[Zt])){const n=t[Jt];t[as]?.destroy(),t[vs]?.destroy(),n.destroyNode&&fa(e,t,n,3,null,null),function q_(e){let t=e[zr];if(!t)return jc(e[Tt],e);for(;t;){let n=null;if(rn(t))n=t[zr];else{const r=t[ht];r&&(n=r)}if(!n){for(;t&&!t[nr]&&t!==e;)rn(t)&&jc(t[Tt],t),t=t[Cn];null===t&&(t=e),rn(t)&&jc(t[Tt],t),n=t&&t[nr]}t=n}}(t)}}function jc(e,t){if(!(256&t[Zt])){t[Zt]&=-129,t[Zt]|=256,function Q_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof ra)){const a=n[r+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const h=s[a[c]],_=a[c+1];At(4,h,_);try{_.call(h)}finally{At(5,h,_)}}else{At(4,s,a);try{a.call(s)}finally{At(5,s,a)}}}}}(e,t),function X_(e,t){const n=e.cleanup,r=t[os];if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else n[a].call(r[n[a+1]]);null!==r&&(t[os]=null);const s=t[Ar];if(null!==s){t[Ar]=null;for(let a=0;a<s.length;a++)(0,s[a])()}}(e,t),1===t[Tt].type&&t[Jt].destroy();const n=t[Ur];if(null!==n&&an(t[Cn])){n!==t[Cn]&&Ph(n,t);const r=t[Rr];null!==r&&r.detachView(e)}!function x_(e){Oc.delete(e[ms])}(t)}}function Bc(e,t,n){return function Th(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[kn];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:a}=e.data[r.directiveStart+s];if(a===$n.None||a===$n.Emulated)return null}return bn(r,n)}}(e,t.parent,n)}function Zi(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Ih(e,t,n){e.appendChild(t,n)}function Fh(e,t,n,r,s){null!==r?Zi(e,t,n,r,s):Ih(e,t,n)}function bl(e,t){return e.parentNode(t)}let Gc,Cl,Wc,Dl,xh=function Oh(e,t,n){return 40&e.type?bn(e,n):null};function El(e,t,n,r){const s=Bc(e,r,t),a=t[Jt],h=function Rh(e,t,n){return xh(e,t,n)}(r.parent||t[Xn],r,t);if(null!=s)if(Array.isArray(n))for(let _=0;_<n.length;_++)Fh(a,s,n[_],h,!1);else Fh(a,s,n,h,!1);void 0!==Gc&&Gc(a,r,t,n,s)}function ha(e,t){if(null!==t){const n=t.type;if(3&n)return bn(t,e);if(4&n)return Hc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ha(e,r);{const s=e[t.index];return an(s)?Hc(-1,s):tn(s)}}if(32&n)return Lc(t,e)()||tn(e[t.index]);{const r=kh(e,t);return null!==r?Array.isArray(r)?r[0]:ha(da(e[Rn]),r):ha(e,t.next)}}return null}function kh(e,t){return null!==t?e[Rn][Xn].projection[t.projection]:null}function Hc(e,t){const n=ht+e+1;if(n<t.length){const r=t[n],s=r[Tt].firstChild;if(null!==s)return ha(r,s)}return t[ve]}function $c(e,t,n,r,s,a,c){for(;null!=n;){const h=r[n.index],_=n.type;if(c&&0===t&&(h&&es(tn(h),r),n.flags|=2),32!=(32&n.flags))if(8&_)$c(e,t,n.child,r,s,a,!1),So(t,e,s,h,a);else if(32&_){const T=Lc(n,r);let Z;for(;Z=T();)So(t,e,s,Z,a);So(t,e,s,h,a)}else 16&_?Uh(e,t,r,n,s,a):So(t,e,s,h,a);n=c?n.projectionNext:n.next}}function fa(e,t,n,r,s,a){$c(n,r,e.firstChild,t,s,a,!1)}function Uh(e,t,n,r,s,a){const c=n[Rn],_=c[Xn].projection[r.projection];if(Array.isArray(_))for(let T=0;T<_.length;T++)So(t,e,s,_[T],a);else{let T=_;const Z=c[Cn];pl(r)&&(T.flags|=128),$c(e,t,T,Z,s,a,!0)}}function Vh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function jh(e,t,n){const{mergedAttrs:r,classes:s,styles:a}=n;null!==r&&Tr(e,t,r),null!==s&&Vh(e,t,s),null!==a&&function ry(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}function Co(e){return function zc(){if(void 0===Cl&&(Cl=null,lt.trustedTypes))try{Cl=lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cl}()?.createHTML(e)||e}function ay(e){Wc=e}function Do(){if(void 0!==Wc)return Wc;if(typeof document<"u")return document;throw new Me(210,!1)}function qc(){if(void 0===Dl&&(Dl=null,lt.trustedTypes))try{Dl=lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dl}function Bh(e){return qc()?.createHTML(e)||e}function Hh(e){return qc()?.createScriptURL(e)||e}class $h{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}function Ui(e){return e instanceof $h?e.changingThisBreaksApplicationSecurity:e}function pa(e,t){const n=function fy(e){return e instanceof $h&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Qe})`)}return n===t}class py{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Co(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class gy{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Co(t),n}}const vy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yc(e){return(e=String(e)).match(vy)?e:"unsafe:"+e}function Di(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ga(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Wh=Di("area,br,col,hr,img,wbr"),qh=Di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yh=Di("rp,rt"),Kc=ga(Wh,ga(qh,Di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ga(Yh,Di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ga(Yh,qh)),Xc=Di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kh=ga(Xc,Di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_y=Di("script,style,template");class yy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Kc.hasOwnProperty(n))return this.sanitizedSomething=!0,!_y.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let s=0;s<r.length;s++){const a=r.item(s),c=a.name,h=c.toLowerCase();if(!Kh.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let _=a.value;Xc[h]&&(_=Yc(_)),this.buf.push(" ",c,'="',Xh(_),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Kc.hasOwnProperty(n)&&!Wh.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Xh(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const by=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ey=/([^\#-~ |!])/g;function Xh(e){return e.replace(/&/g,"&amp;").replace(by,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ey,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wl;function Qc(e){return"content"in e&&function Cy(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var wo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(wo||{});function Qh(e){const t=ma();return t?Bh(t.sanitize(wo.HTML,e)||""):pa(e,"HTML")?Bh(Ui(e)):function Sy(e,t){let n=null;try{wl=wl||function zh(e){const t=new gy(e);return function my(){try{return!!(new window.DOMParser).parseFromString(Co(""),"text/html")}catch{return!1}}()?new py(t):t}(e);let r=t?String(t):"";n=wl.getInertBodyElement(r);let s=5,a=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=a,a=n.innerHTML,n=wl.getInertBodyElement(r)}while(r!==a);return Co((new yy).sanitizeChildren(Qc(n)||n))}finally{if(n){const r=Qc(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Do(),Fe(e))}function Zc(e){const t=ma();return t?t.sanitize(wo.URL,e)||"":pa(e,"URL")?Ui(e):Yc(Fe(e))}function Zh(e){const t=ma();if(t)return Hh(t.sanitize(wo.RESOURCE_URL,e)||"");if(pa(e,"ResourceURL"))return Hh(Ui(e));throw new Me(904,!1)}function Jh(e,t,n){return function Py(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Zh:Zc}(t,n)(e)}function ma(){const e=mt();return e&&e[ps].sanitizer}class Gn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Je({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const va=new Gn("ENVIRONMENT_INITIALIZER"),ef=new Gn("INJECTOR",-1),tf=new Gn("INJECTOR_DEF_TYPES");class Jc{get(t,n=Ne){if(n===Ne){const r=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw r.name="NullInjectorError",r}return n}}function eu(e){return{\u0275providers:e}}function Ty(...e){return{\u0275providers:nf(0,e),\u0275fromNgModule:!0}}function nf(e,...t){const n=[],r=new Set;let s;const a=c=>{n.push(c)};return _o(t,c=>{const h=c;Al(h,a,[],r)&&(s||=[],s.push(h))}),void 0!==s&&rf(s,a),n}function rf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:s}=e[n];tu(s,a=>{t(a,r)})}}function Al(e,t,n,r){if(!(e=ie(e)))return!1;let s=null,a=In(e);const c=!a&&pn(e);if(a||c){if(c&&!c.standalone)return!1;s=e}else{const _=e.ngModule;if(a=In(_),!a)return!1;s=_}const h=r.has(s);if(c){if(h)return!1;if(r.add(s),c.dependencies){const _="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const T of _)Al(T,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!h){let T;r.add(s);try{_o(a.imports,Z=>{Al(Z,t,n,r)&&(T||=[],T.push(Z))})}finally{}void 0!==T&&rf(T,t)}if(!h){const T=Hs(s)||(()=>new s);t({provide:s,useFactory:T,deps:cn},s),t({provide:tf,useValue:s,multi:!0},s),t({provide:va,useValue:()=>qe(s),multi:!0},s)}const _=a.providers;if(null!=_&&!h){const T=e;tu(_,Z=>{t(Z,T)})}}}return s!==e&&void 0!==e.providers}function tu(e,t){for(let n of e)Oe(n)&&(n=n.\u0275providers),Array.isArray(n)?tu(n,t):t(n)}const Iy=B({provide:String,useValue:B});function nu(e){return null!==e&&"object"==typeof e&&Iy in e}function Ji(e){return"function"==typeof e}const ru=new Gn("Set Injector scope."),Ml={},Ry={};let su;function Pl(){return void 0===su&&(su=new Jc),su}class pi{}class Tl extends pi{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ou(t,c=>this.processProvider(c)),this.records.set(ef,Ao(void 0,this)),s.has("environment")&&this.records.set(pi,Ao(void 0,this));const a=this.records.get(ru);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(tf.multi,cn,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Be(this),r=ae(void 0);try{return t()}finally{Be(n),ae(r)}}get(t,n=Ne,r=Dt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(_r))return t[_r](this);r=yt(r);const a=Be(this),c=ae(void 0);try{if(!(r&Dt.SkipSelf)){let _=this.records.get(t);if(void 0===_){const T=function Ly(e){return"function"==typeof e||"object"==typeof e&&e instanceof Gn}(t)&&Ct(t);_=T&&this.injectableDefInScope(T)?Ao(iu(t),Ml):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(r&Dt.Self?Pl():this.parent).get(t,n=r&Dt.Optional&&n===Ne?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[ct]=h[ct]||[]).unshift(N(t)),a)throw h;return function fn(e,t,n,r){const s=e[ct];throw t[An]&&s.unshift(t[An]),e.message=function Hn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=N(t);if(Array.isArray(t))s=t.map(N).join(" -> ");else if("object"==typeof t){let a=[];for(let c in t)if(t.hasOwnProperty(c)){let h=t[c];a.push(c+":"+("string"==typeof h?JSON.stringify(h):N(h)))}s=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace($t,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[ct]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{ae(c),Be(a)}}resolveInjectorInitializers(){const t=Be(this),n=ae(void 0);try{const s=this.get(va.multi,cn,Dt.Self);for(const a of s)a()}finally{Be(t),ae(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(N(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(t){let n=Ji(t=ie(t))?t:ie(t&&t.provide);const r=function xy(e){return nu(e)?Ao(void 0,e.useValue):Ao(lf(e),Ml)}(t);if(Ji(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=Ao(void 0,Ml,!0),s.factory=()=>Vt(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ml&&(n.value=Ry,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ky(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ie(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function iu(e){const t=Ct(e),n=null!==t?t.factory:Hs(e);if(null!==n)return n;if(e instanceof Gn)throw new Me(204,!1);if(e instanceof Function)return function Oy(e){const t=e.length;if(t>0)throw function la(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Me(204,!1);const n=function Mt(e){return e&&(e[Ut]||e[It])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Me(204,!1)}function lf(e,t,n){let r;if(Ji(e)){const s=ie(e);return Hs(s)||iu(s)}if(nu(e))r=()=>ie(e.useValue);else if(function af(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Vt(e.deps||[]));else if(function sf(e){return!(!e||!e.useExisting)}(e))r=()=>qe(ie(e.useExisting));else{const s=ie(e&&(e.useClass||e.provide));if(!function Ny(e){return!!e.deps}(e))return Hs(s)||iu(s);r=()=>new s(...Vt(e.deps))}return r}function Ao(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ou(e,t){for(const n of e)Array.isArray(n)?ou(n,t):n&&Oe(n)?ou(n.\u0275providers,t):t(n)}const cf=new Gn("AppId",{providedIn:"root",factory:()=>Uy}),Uy="ng",uf=new Gn("Platform Initializer"),au=new Gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vy=new Gn("AnimationModuleType"),jy=new Gn("CSP nonce",{providedIn:"root",factory:()=>Do().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hf=(e,t,n)=>null;function pu(e,t,n=!1){return hf(e,t,n)}class Xy{}class gf{}class Zy{resolveComponentFactory(t){throw function Qy(e){const t=Error(`No component factory found for ${N(e)}.`);return t.ngComponent=e,t}(t)}}let Nl=(()=>{class t{}return t.NULL=new Zy,t})();function Jy(){return Po($r(),mt())}function Po(e,t){return new Ea(bn(e,t))}let Ea=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=Jy,t})();function e0(e){return e instanceof Ea?e.nativeElement:e}class vf{}let t0=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function n0(){const e=mt(),n=er($r().index,e);return(rn(n)?n:e)[Jt]}(),t})(),r0=(()=>{var e;class t{}return(e=t).\u0275prov=Je({token:e,providedIn:"root",factory:()=>null}),t})();class _f{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const s0=new _f("16.2.1"),vu={};function kl(e){if(!Ve()&&!function dr(){return xn}())throw new Me(-203,!1)}function Sf(e,t=null,n=null,r){const s=Cf(e,t,n,r);return s.resolveInjectorInitializers(),s}function Cf(e,t=null,n=null,r,s=new Set){const a=[n||cn,Ty(e)];return r=r||("object"==typeof e?void 0:N(e)),new Tl(a,t||Pl(),r||null,s)}let ni=(()=>{var e;class t{static create(r,s){if(Array.isArray(r))return Sf({name:""},s,r,"");{const a=r.name??"";return Sf({name:a},r.parent,r.providers,a)}}}return(e=t).THROW_IF_NOT_FOUND=Ne,e.NULL=new Jc,e.\u0275prov=Je({token:e,providedIn:"any",factory:()=>qe(ef)}),e.__NG_ELEMENT_ID__=-1,t})(),Sa=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=h0,e.__NG_ENV_ID__=n=>n,t})();class d0 extends Sa{constructor(t){super(),this._lView=t}onDestroy(t){return nn(this._lView,t),()=>function ln(e,t){if(null===e[Ar])return;const n=e[Ar].indexOf(t);-1!==n&&e[Ar].splice(n,1)}(this._lView,t)}}function h0(){return new d0(mt())}function wi(e){return e instanceof Function?e():e}let _u=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Me(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=Je({token:e,providedIn:"root",factory:()=>new e}),t})();function Ca(e){for(;e;){e[Zt]|=64;const t=da(e);if(Vr(e)&&!t)return e;e=t}return null}function yu(e){return e.ngOriginalError}class Fo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&yu(t);for(;n&&yu(n);)n=yu(n);return n||null}}const Pf=new Gn("",{providedIn:"root",factory:()=>!1});class Rf extends Si{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Ca(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const s=lr(this);this.trackingVersion++;try{t(n,r)}finally{lr(s)}}destroy(){this.trackingVersion++}}let Ul=null;function Of(){return Ul??=new Rf,Ul}function xf(e,t){return e[t]??Of()}function Nf(e,t){const n=Of();n.hasReadASignal&&(e[t]=Ul,n.lView=e,Ul=new Rf)}const En={};function kf(e){Lf(Tn(),mt(),De()+e,!1)}function Lf(e,t,n,r){if(!r)if(3==(3&t[Zt])){const a=e.preOrderCheckHooks;null!==a&&el(t,a,n)}else{const a=e.preOrderHooks;null!==a&&tl(t,a,0,n)}it(n)}function Ro(e,t=Dt.Default){const n=mt();return null===n?qe(e,t):Kd($r(),n,ie(e),t)}function Uf(){throw new Error("invalid")}function Vl(e,t,n,r,s,a,c,h,_,T,Z){const be=t.blueprint.slice();return be[kn]=s,be[Zt]=140|r,(null!==T||e&&2048&e[Zt])&&(be[Zt]|=2048),cr(be),be[Cn]=be[wr]=e,be[Ln]=n,be[ps]=c||e&&e[ps],be[Jt]=h||e&&e[Jt],be[Dr]=_||e&&e[Dr]||null,be[Xn]=a,be[ms]=function R_(){return F_++}(),be[pr]=Z,be[Ks]=T,be[Rn]=2==t.type?e[Rn]:be,be}function Oo(e,t,n,r,s){let a=e.data[t];if(null===a)a=function bu(e,t,n,r,s){const a=ea(),c=za(),_=e.data[t]=function T0(e,t,n,r,s,a){let c=t?t.injectorIndex:-1,h=0;return function Hr(){return null!==Ot.skipHydrationRootTNode}()&&(h|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:s,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=_),null!==a&&(c?null==a.child&&null!==_.parent&&(a.child=_):null===a.next&&(a.next=_,_.prev=a)),_}(e,t,n,r,s),function gc(){return Ot.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=s;const c=function Xi(){const e=Ot.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return Js(a,!0),a}function Da(e,t,n,r){if(0===n)return-1;const s=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Vf(e,t,n,r,s){const a=xf(t,as),c=De(),h=2&r;try{if(it(-1),h&&t.length>mn&&Lf(e,t,mn,!1),At(h?2:0,s),h)a.runInContext(n,r,s);else{const T=lr(null);try{n(r,s)}finally{lr(T)}}}finally{h&&null===t[as]&&Nf(t,as),it(c),At(h?3:1,s)}}function Eu(e,t,n){if(Mn(t)){const r=lr(null);try{const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,n[c],c)}}finally{lr(r)}}}function Su(e,t,n){Ri()&&(function k0(e,t,n,r){const s=n.directiveStart,a=n.directiveEnd;vn(n)&&function H0(e,t,n){const r=bn(t,e),s=jf(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const h=jl(e,Vl(e,s,null,c,r,t,null,e[ps].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||rl(n,t),es(r,t);const c=n.initialInputs;for(let h=s;h<a;h++){const _=e.data[h],T=Qi(t,e,h,n);es(T,t),null!==c&&$0(0,h-s,T,_,0,c),ar(_)&&(er(n.index,t)[Ln]=Qi(t,e,h,n))}}(e,t,n,bn(n,t)),64==(64&n.flags)&&zf(e,t,n))}function Cu(e,t,n=bn){const r=t.localNames;if(null!==r){let s=t.index+1;for(let a=0;a<r.length;a+=2){const c=r[a+1],h=-1===c?n(t,e):e[c];e[s++]=h}}}function jf(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Du(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Du(e,t,n,r,s,a,c,h,_,T,Z){const be=mn+r,je=be+s,ze=function C0(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:En);return n}(be,je),ut="function"==typeof T?T():T;return ze[Tt]={type:e,blueprint:ze,template:n,queries:null,viewQuery:h,declTNode:t,data:ze.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:_,consts:ut,incompleteFirstPass:!1,ssrId:Z}}let Bf=e=>null;function Gf(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const a=e[s];null===r?Hf(n,t,s,a):r.hasOwnProperty(s)&&Hf(n,t,r[s],a)}return n}function Hf(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Ls(e,t,n,r,s,a,c,h){const _=bn(t,n);let Z,T=t.inputs;!h&&null!=T&&(Z=T[r])?(Tu(e,n,Z,r,s),vn(t)&&function R0(e,t){const n=er(t,e);16&n[Zt]||(n[Zt]|=64)}(n,t.index)):3&t.type&&(r=function F0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,a.setProperty(_,r,s))}function wu(e,t,n,r){if(Ri()){const s=null===r?null:{"":-1},a=function U0(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let a=0;a<n.length;a++){const c=n[a];if(Er(t,c.selectors,!1))if(r||(r=[]),ar(c))if(null!==c.findHostDirectiveDefs){const h=[];s=s||new Map,c.findHostDirectiveDefs(c,h,s),r.unshift(...h,c),Au(e,t,h.length)}else r.unshift(c),Au(e,t,0);else s=s||new Map,c.findHostDirectiveDefs?.(c,r,s),r.push(c)}return null===r?null:[r,s]}(e,n);let c,h;null===a?c=h=null:[c,h]=a,null!==c&&$f(e,t,n,c,s,h),s&&function V0(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const a=n[t[s+1]];if(null==a)throw new Me(-301,!1);r.push(t[s],a)}}}(n,r,s)}n.mergedAttrs=br(n.mergedAttrs,n.attrs)}function $f(e,t,n,r,s,a){for(let T=0;T<r.length;T++)Dc(rl(n,t),e,r[T].type);!function B0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let T=0;T<r.length;T++){const Z=r[T];Z.providersResolver&&Z.providersResolver(Z)}let c=!1,h=!1,_=Da(e,t,r.length,null);for(let T=0;T<r.length;T++){const Z=r[T];n.mergedAttrs=br(n.mergedAttrs,Z.hostAttrs),G0(e,n,t,_,Z),j0(_,Z,s),null!==Z.contentQueries&&(n.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(n.flags|=64);const be=Z.type.prototype;!c&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!h&&(be.ngOnChanges||be.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),h=!0),_++}!function I0(e,t,n){const s=t.directiveEnd,a=e.data,c=t.attrs,h=[];let _=null,T=null;for(let Z=t.directiveStart;Z<s;Z++){const be=a[Z],je=n?n.get(be):null,ut=je?je.outputs:null;_=Gf(be.inputs,Z,_,je?je.inputs:null),T=Gf(be.outputs,Z,T,ut);const Et=null===_||null===c||hr(t)?null:z0(_,Z,c);h.push(Et)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=8),_.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=_,t.outputs=T}(e,n,a)}function zf(e,t,n){const r=n.directiveStart,s=n.directiveEnd,a=n.index,c=function Ka(){return Ot.lFrame.currentDirectiveIndex}();try{it(a);for(let h=r;h<s;h++){const _=e.data[h],T=t[h];na(h),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&L0(_,T)}}finally{it(-1),na(c)}}function L0(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Au(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function j0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ar(t)&&(n[""]=e)}}function G0(e,t,n,r,s){e.data[r]=s;const a=s.factory||(s.factory=Hs(s.type)),c=new ra(a,ar(s),Ro);e.blueprint[r]=c,n[r]=c,function x0(e,t,n,r,s){const a=s.hostBindings;if(a){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~t.index;(function N0(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=h&&c.push(h),c.push(n,r,a)}}(e,t,r,Da(e,n,s.hostVars,En),s)}function gi(e,t,n,r,s,a){const c=bn(e,t);!function Mu(e,t,n,r,s,a,c){if(null==a)e.removeAttribute(t,s,n);else{const h=null==c?Fe(a):c(a,r||"",s);e.setAttribute(t,s,h,n)}}(t[Jt],c,a,e.value,n,r,s)}function $0(e,t,n,r,s,a){const c=a[t];if(null!==c)for(let h=0;h<c.length;)Wf(r,n,c[h++],c[h++],c[h++])}function Wf(e,t,n,r,s){const a=lr(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(s=c[r].call(t,s)),null!==e.setInput?e.setInput(t,s,n,r):t[r]=s}finally{lr(a)}}function z0(e,t,n){let r=null,s=0;for(;s<n.length;){const a=n[s];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const c=e[a];for(let h=0;h<c.length;h+=2)if(c[h]===t){r.push(a,c[h+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function qf(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Yf(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const c=e.data[a];Qa(n[r]),c.contentQueries(2,t[a],a)}}}function jl(e,t){return e[zr]?e[gs][nr]=t:e[zr]=t,e[gs]=t,t}function Pu(e,t,n){Qa(0);const r=lr(null);try{t(e,n)}finally{lr(r)}}function Kf(e){return e[os]||(e[os]=[])}function Xf(e){return e.cleanup||(e.cleanup=[])}function Zf(e,t){const n=e[Dr],r=n?n.get(Fo,null):null;r&&r.handleError(t)}function Tu(e,t,n,r,s){for(let a=0;a<n.length;){const c=n[a++],h=n[a++];Wf(e.data[c],t[c],r,h,s)}}function Ai(e,t,n){const r=Un(t,e);!function Mh(e,t,n){e.setValue(t,n)}(e[Jt],r,n)}function W0(e,t){const n=er(t,e),r=n[Tt];!function q0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const s=n[kn];null!==s&&null===n[pr]&&(n[pr]=pu(s,n[Dr])),Iu(r,n,n[Ln])}function Iu(e,t,n){Za(t);try{const r=e.viewQuery;null!==r&&Pu(1,r,n);const s=e.template;null!==s&&Vf(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yf(e,t),e.staticViewQueries&&Pu(2,e.viewQuery,n);const a=e.components;null!==a&&function Y0(e,t){for(let n=0;n<t.length;n++)W0(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Zt]&=-5,D()}}let Jf=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(r,s,a){const c=typeof Zone>"u"?null:Zone.current,h=new d(r,Z=>{this.all.has(Z)&&this.queue.set(Z,c)},a);let _;this.all.add(h),h.notify();const T=()=>{h.cleanup(),_?.(),this.all.delete(h),this.queue.delete(h)};return _=s?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[r,s]of this.queue)this.queue.delete(r),s?s.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=Je({token:e,providedIn:"root",factory:()=>new e}),t})();function Bl(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,a=0;if(null!==t)for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?a=h:1==a?s=W(s,h):2==a&&(r=W(r,h+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function wa(e,t,n,r,s=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(tn(a)),an(a)){for(let h=ht;h<a.length;h++){const _=a[h],T=_[Tt].firstChild;null!==T&&wa(_[Tt],_,T,r)}a[ve]!==a[kn]&&r.push(a[ve])}const c=n.type;if(8&c)wa(e,t,n.child,r);else if(32&c){const h=Lc(n,t);let _;for(;_=h();)r.push(_)}else if(16&c){const h=kh(t,n);if(Array.isArray(h))r.push(...h);else{const _=da(t[Rn]);wa(_[Tt],_,h,r,!0)}}n=s?n.projectionNext:n.next}return r}function Gl(e,t,n,r=!0){const s=t[ps],a=s.rendererFactory,c=s.afterRenderEventManager;a.begin?.(),c?.begin();try{ep(e,t,e.template,n)}catch(_){throw r&&Zf(t,_),_}finally{a.end?.(),s.effectManager?.flush(),c?.end()}}function ep(e,t,n,r){const s=t[Zt];if(256!=(256&s)){t[ps].effectManager?.flush(),Za(t);try{cr(t),function qa(e){return Ot.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Vf(e,t,n,2,r);const c=3==(3&s);if(c){const T=e.preOrderCheckHooks;null!==T&&el(t,T,null)}else{const T=e.preOrderHooks;null!==T&&tl(t,T,0,null),yc(t,0)}if(function Q0(e){for(let t=Dh(e);null!==t;t=wh(t)){if(!t[ce])continue;const n=t[Ie];for(let r=0;r<n.length;r++){uo(n[r])}}}(t),tp(t,2),null!==e.contentQueries&&Yf(e,t),c){const T=e.contentCheckHooks;null!==T&&el(t,T)}else{const T=e.contentHooks;null!==T&&tl(t,T,1),yc(t,1)}!function S0(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=xf(t,vs);try{for(let s=0;s<n.length;s++){const a=n[s];if(a<0)it(~a);else{const c=a,h=n[++s],_=n[++s];mc(h,c),r.runInContext(_,2,t[c])}}}finally{null===t[vs]&&Nf(t,vs),it(-1)}}(e,t);const h=e.components;null!==h&&rp(t,h,0);const _=e.viewQuery;if(null!==_&&Pu(2,_,r),c){const T=e.viewCheckHooks;null!==T&&el(t,T)}else{const T=e.viewHooks;null!==T&&tl(t,T,2),yc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Zt]&=-73,di(t)}finally{D()}}}function tp(e,t){for(let n=Dh(e);null!==n;n=wh(n))for(let r=ht;r<n.length;r++)np(n[r],t)}function Z0(e,t,n){np(er(t,e),n)}function np(e,t){if(!function Os(e){return 128==(128&e[Zt])}(e))return;const n=e[Tt];if(80&e[Zt]&&0===t||1024&e[Zt]||2===t)ep(n,e,n.template,e[Ln]);else if(e[Fr]>0){tp(e,1);const s=e[Tt].components;null!==s&&rp(e,s,1)}}function rp(e,t,n){for(let r=0;r<t.length;r++)Z0(e,t[r],n)}class Aa{get rootNodes(){const t=this._lView,n=t[Tt];return wa(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(t){this._lView[Ln]=t}get destroyed(){return 256==(256&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Cn];if(an(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(yl(t,r),ol(n,r))}this._attachedToViewContainer=!1}Vc(this._lView[Tt],this._lView)}onDestroy(t){nn(this._lView,t)}markForCheck(){Ca(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-129}reattach(){this._lView[Zt]|=128}detectChanges(){Gl(this._lView[Tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function W_(e,t){fa(e,t,t[Jt],2,null,null)}(this._lView[Tt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=t}}class J0 extends Aa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Gl(t[Tt],t,t[Ln],!1)}checkNoChanges(){}get context(){return null}}class sp extends Nl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pn(t);return new Ma(n,this.ngModule)}}function ip(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=yt(r);const s=this.injector.get(t,vu,r);return s!==vu||n===vu?s:this.parentInjector.get(t,n,r)}}class Ma extends gf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=ip(t.inputs);if(null!==n)for(const s of r)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return r}get outputs(){return ip(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function rs(e){return e.map(Yr).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let a=(s=s||this.ngModule)instanceof pi?s:s?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new tb(t,a):t,h=c.get(vf,null);if(null===h)throw new Me(407,!1);const be={rendererFactory:h,sanitizer:c.get(r0,null),effectManager:c.get(Jf,null),afterRenderEventManager:c.get(_u,null)},je=h.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",ut=r?function D0(e,t,n,r){const a=r.get(Pf,!1)||n===$n.ShadowDom,c=e.selectRootElement(t,a);return function w0(e){Bf(e)}(c),c}(je,r,this.componentDef.encapsulation,c):_l(je,ze,function eb(e){const t=e.toLowerCase();return"svg"===t?jt:"math"===t?"math":null}(ze)),Wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let pt=null;null!==ut&&(pt=pu(ut,c,!0));const _n=Du(0,null,null,1,0,null,null,null,null,null,null),wn=Vl(null,_n,null,Wt,null,null,be,je,c,null,pt);let Kn,Cs;Za(wn);try{const Mi=this.componentDef;let Xo,jd=null;Mi.findHostDirectiveDefs?(Xo=[],jd=new Map,Mi.findHostDirectiveDefs(Mi,Xo,jd),Xo.push(Mi)):Xo=[Mi];const bw=function rb(e,t){const n=e[Tt],r=mn;return e[r]=t,Oo(n,r,2,"#host",null)}(wn,ut),Ew=function sb(e,t,n,r,s,a,c){const h=s[Tt];!function ib(e,t,n,r){for(const s of e)t.mergedAttrs=br(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Bl(t,t.mergedAttrs,!0),null!==n&&jh(r,n,t))}(r,e,t,c);let _=null;null!==t&&(_=pu(t,s[Dr]));const T=a.rendererFactory.createRenderer(t,n);let Z=16;n.signals?Z=4096:n.onPush&&(Z=64);const be=Vl(s,jf(n),null,Z,s[e.index],e,a,T,null,null,_);return h.firstCreatePass&&Au(h,e,r.length-1),jl(s,be),s[e.index]=be}(bw,ut,Mi,Xo,wn,be,je);Cs=mr(_n,mn),ut&&function ab(e,t,n,r){if(r)Tr(e,n,["ng-version",s0.full]);else{const{attrs:s,classes:a}=function Bs(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===s?""!==a&&t.push(a,e[++r]):8===s&&n.push(a);else{if(!fr(s))break;s=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&Tr(e,n,s),a&&a.length>0&&Vh(e,n,a.join(" "))}}(je,Mi,ut,r),void 0!==n&&function lb(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const a=n[s];r.push(null!=a?Array.from(a):null)}}(Cs,this.ngContentSelectors,n),Kn=function ob(e,t,n,r,s,a){const c=$r(),h=s[Tt],_=bn(c,s);$f(h,s,c,n,null,r);for(let Z=0;Z<n.length;Z++)es(Qi(s,h,c.directiveStart+Z,c),s);zf(h,s,c),_&&es(_,s);const T=Qi(s,h,c.directiveStart+c.componentOffset,c);if(e[Ln]=s[Ln]=T,null!==a)for(const Z of a)Z(T,t);return Eu(h,c,e),T}(Ew,Mi,Xo,jd,wn,[cb]),Iu(_n,wn,null)}finally{D()}return new nb(this.componentType,Kn,Po(Cs,wn),wn,Cs)}}class nb extends Xy{constructor(t,n,r,s,a){super(),this.location=r,this._rootLView=s,this._tNode=a,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new J0(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const a=this._rootLView;Tu(a[Tt],a,s,t,n),this.previousInputValues.set(t,n),Ca(er(this._tNode.index,a))}}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function cb(){const e=$r();Ja(mt()[Tt],e)}function Fu(e){let t=function op(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(ar(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Me(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=Hl(e.inputs),c.inputTransforms=Hl(e.inputTransforms),c.declaredInputs=Hl(e.declaredInputs),c.outputs=Hl(e.outputs);const h=s.hostBindings;h&&fb(e,h);const _=s.viewQuery,T=s.contentQueries;if(_&&db(e,_),T&&hb(e,T),F(e.inputs,s.inputs),F(e.declaredInputs,s.declaredInputs),F(e.outputs,s.outputs),null!==s.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),F(c.inputTransforms,s.inputTransforms)),ar(s)&&s.data.animation){const Z=e.data;Z.animation=(Z.animation||[]).concat(s.data.animation)}}const a=s.features;if(a)for(let c=0;c<a.length;c++){const h=a[c];h&&h.ngInherit&&h(e),h===Fu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function ub(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=br(s.hostAttrs,n=br(n,s.hostAttrs))}}(r)}function Hl(e){return e===Zn?{}:e===cn?[]:e}function db(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function hb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,a)=>{t(r,s,a),n(r,s,a)}:t}function fb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}function up(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];Array.isArray(s)&&s[2]&&(n[r]=s[2])}e.inputTransforms=n}function $l(e){return!!Ru(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ru(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function mi(e,t,n){return e[t]=n}function ts(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function eo(e,t,n,r){const s=ts(e,t,n);return ts(e,t+1,r)||s}function Ou(e,t,n,r){const s=mt();return ts(s,xi(),t)&&(Tn(),gi(ft(),s,e,t,n,r)),Ou}function No(e,t,n,r){return ts(e,xi(),n)?t+Fe(n)+r:En}function ko(e,t,n,r,s,a){const h=eo(e,function ei(){return Ot.lFrame.bindingIndex}(),n,s);return ti(2),h?t+Fe(n)+r+Fe(s)+a:En}function Cp(e,t,n,r,s,a,c,h){const _=mt(),T=Tn(),Z=e+mn,be=T.firstCreatePass?function Ub(e,t,n,r,s,a,c,h,_){const T=t.consts,Z=Oo(t,e,4,c||null,Jr(T,h));wu(t,n,Z,Jr(T,_)),Ja(t,Z);const be=Z.tView=Du(2,Z,r,s,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T,null);return null!==t.queries&&(t.queries.template(t,Z),be.queries=t.queries.embeddedTView(Z)),Z}(Z,T,_,t,n,r,s,a,c):T.data[Z];Js(be,!1);const je=Dp(T,_,be,e);Li()&&El(T,_,je,be),es(je,_),jl(_,_[Z]=qf(je,_,je,be)),or(be)&&Su(T,_,be),null!=c&&Cu(_,be,h)}let Dp=function wp(e,t,n,r){return cs(!0),t[Jt].createComment("")};function Ap(e){return function Qn(e,t){return e[t]}(function pc(){return Ot.lFrame.contextLView}(),mn+e)}function Vu(e,t,n){const r=mt();return ts(r,xi(),t)&&Ls(Tn(),ft(),r,e,t,r[Jt],n,!1),Vu}function ju(e,t,n,r,s){const c=s?"class":"style";Tu(e,n,t.inputs[c],c,r)}function Kl(e,t,n,r){const s=mt(),a=Tn(),c=mn+e,h=s[Jt],_=a.firstCreatePass?function Gb(e,t,n,r,s,a){const c=t.consts,_=Oo(t,e,2,r,Jr(c,s));return wu(t,n,_,Jr(c,a)),null!==_.attrs&&Bl(_,_.attrs,!1),null!==_.mergedAttrs&&Bl(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(c,a,s,t,n,r):a.data[c],T=Mp(a,s,_,h,t,e);s[c]=T;const Z=or(_);return Js(_,!0),jh(h,T,_),32!=(32&_.flags)&&Li()&&El(a,s,T,_),0===function Or(){return Ot.lFrame.elementDepthCount}()&&es(T,s),function Ns(){Ot.lFrame.elementDepthCount++}(),Z&&(Su(a,s,_),Eu(a,_,s)),null!==r&&Cu(s,_),Kl}function Xl(){let e=$r();za()?function Wa(){Ot.lFrame.isParent=!1}():(e=e.parent,Js(e,!1));const t=e;(function Mr(e){return Ot.skipHydrationRootTNode===e})(t)&&function Oi(){Ot.skipHydrationRootTNode=null}(),function tr(){Ot.lFrame.elementDepthCount--}();const n=Tn();return n.firstCreatePass&&(Ja(n,e),Mn(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function zv(e){return 0!=(8&e.flags)}(t)&&ju(n,t,mt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Wv(e){return 0!=(16&e.flags)}(t)&&ju(n,t,mt(),t.stylesWithoutHost,!1),Xl}function Bu(e,t,n,r){return Kl(e,t,n,r),Xl(),Bu}let Mp=(e,t,n,r,s,a)=>(cs(!0),_l(r,s,function Ni(){return Ot.lFrame.currentNamespace}()));function Ip(){return mt()}function $u(e){return!!e&&"function"==typeof e.then}function Fp(e){return!!e&&"function"==typeof e.subscribe}function zu(e,t,n,r){const s=mt(),a=Tn(),c=$r();return function Op(e,t,n,r,s,a,c){const h=or(r),T=e.firstCreatePass&&Xf(e),Z=t[Ln],be=Kf(t);let je=!0;if(3&r.type||c){const Et=bn(r,t),Nt=c?c(Et):Et,Wt=be.length,pt=c?wn=>c(tn(wn[r.index])):r.index;let _n=null;if(!c&&h&&(_n=function Yb(e,t,n,r){const s=e.cleanup;if(null!=s)for(let a=0;a<s.length-1;a+=2){const c=s[a];if(c===n&&s[a+1]===r){const h=t[os],_=s[a+2];return h.length>_?h[_]:null}"string"==typeof c&&(a+=2)}return null}(e,t,s,r.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=a,_n.__ngLastListenerFn__=a,je=!1;else{a=Np(r,t,Z,a,!1);const wn=n.listen(Nt,s,a);be.push(a,wn),T&&T.push(s,pt,Wt,Wt+1)}}else a=Np(r,t,Z,a,!1);const ze=r.outputs;let ut;if(je&&null!==ze&&(ut=ze[s])){const Et=ut.length;if(Et)for(let Nt=0;Nt<Et;Nt+=2){const Kn=t[ut[Nt]][ut[Nt+1]].subscribe(a),Cs=be.length;be.push(a,Kn),T&&T.push(s,r.index,Cs,-(Cs+1))}}}(a,s,s[Jt],c,e,t,r),zu}function xp(e,t,n,r){try{return At(6,t,n),!1!==n(r)}catch(s){return Zf(e,s),!1}finally{At(7,t,n)}}function Np(e,t,n,r,s){return function a(c){if(c===Function)return r;Ca(e.componentOffset>-1?er(e.index,t):t);let _=xp(t,n,r,c),T=a.__ngNextListenerFn__;for(;T;)_=xp(t,n,T,c)&&_,T=T.__ngNextListenerFn__;return s&&!1===_&&c.preventDefault(),_}}function kp(e=1){return function ne(e){return(Ot.lFrame.contextLView=function Ee(e,t){for(;e>0;)t=t[wr],e--;return t}(e,Ot.lFrame.contextLView))[Ln]}(e)}function Wu(e,t,n){return qu(e,"",t,"",n),Wu}function qu(e,t,n,r,s){const a=mt(),c=No(a,t,n,r);return c!==En&&Ls(Tn(),ft(),a,e,c,a[Jt],s,!1),qu}function Ql(e,t){return e<<17|t<<2}function Vi(e){return e>>17&32767}function Yu(e){return 2|e}function to(e){return(131068&e)>>2}function Ku(e,t){return-131069&e|t<<2}function Xu(e){return 1|e}function zp(e,t,n,r,s){const a=e[n+1],c=null===t;let h=r?Vi(a):to(a),_=!1;for(;0!==h&&(!1===_||c);){const Z=e[h+1];rE(e[h],t)&&(_=!0,e[h+1]=r?Xu(Z):Yu(Z)),h=r?Vi(Z):to(Z)}_&&(e[n+1]=r?Yu(a):Xu(a))}function rE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&yo(e,t)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wp(e){return e.substring(Nr.key,Nr.keyEnd)}function qp(e,t){const n=Nr.textEnd;return n===t?-1:(t=Nr.keyEnd=function aE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Nr.key=t,n),Ho(e,t,n))}function Ho(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Qu(e,t){return function ri(e,t,n,r){const s=mt(),a=Tn(),c=ti(2);a.firstUpdatePass&&eg(a,e,c,r),t!==En&&ts(s,c,t)&&ng(a,a.data[De()],s,s[Jt],e,s[c+1]=function yE(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=N(Ui(e)))),e}(t,n),r,c)}(e,t,null,!0),Qu}function _i(e,t){for(let n=function iE(e){return function Kp(e){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=e.length}(e),qp(e,Ho(e,0,Nr.textEnd))}(t);n>=0;n=qp(t,n))ks(e,Wp(t),!0)}function Jp(e,t){return t>=e.expandoStartIndex}function eg(e,t,n,r){const s=e.data;if(null===s[n+1]){const a=s[De()],c=Jp(e,n);sg(a,r)&&null===t&&!c&&(t=!1),t=function hE(e,t,n,r){const s=function Xa(e){const t=Ot.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=Ra(n=Zu(null,e,t,n,r),t.attrs,r),a=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=Zu(s,e,t,n,r),null===a){let _=function fE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==to(r))return e[Vi(r)]}(e,t,r);void 0!==_&&Array.isArray(_)&&(_=Zu(null,e,t,_[1],r),_=Ra(_,t.attrs,r),function pE(e,t,n,r){e[Vi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,_))}else a=function gE(e,t,n){let r;const s=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<s;a++)r=Ra(r,e[a].hostAttrs,n);return Ra(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(s,a,t,r),function tE(e,t,n,r,s,a){let c=a?t.classBindings:t.styleBindings,h=Vi(c),_=to(c);e[r]=n;let Z,T=!1;if(Array.isArray(n)?(Z=n[1],(null===Z||yo(n,Z)>0)&&(T=!0)):Z=n,s)if(0!==_){const je=Vi(e[h+1]);e[r+1]=Ql(je,h),0!==je&&(e[je+1]=Ku(e[je+1],r)),e[h+1]=function Jb(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=Ql(h,0),0!==h&&(e[h+1]=Ku(e[h+1],r)),h=r;else e[r+1]=Ql(_,0),0===h?h=r:e[_+1]=Ku(e[_+1],r),_=r;T&&(e[r+1]=Yu(e[r+1])),zp(e,Z,r,!0),zp(e,Z,r,!1),function nE(e,t,n,r,s){const a=s?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&yo(a,t)>=0&&(n[r+1]=Xu(n[r+1]))}(t,Z,e,r,a),c=Ql(h,_),a?t.classBindings=c:t.styleBindings=c}(s,a,t,n,c,r)}}function Zu(e,t,n,r,s){let a=null;const c=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<c&&(a=t[h],r=Ra(r,a.hostAttrs,s),a!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Ra(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ks(e,c,!!n||t[++a]))}return void 0===e?null:e}function ng(e,t,n,r,s,a,c,h){if(!(3&t.type))return;const _=e.data,T=_[h+1],Z=function eE(e){return 1==(1&e)}(T)?rg(_,t,n,s,to(T),c):void 0;Zl(Z)||(Zl(a)||function Zb(e){return 2==(2&e)}(T)&&(a=rg(_,null,n,s,h,c)),function ny(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:ml.DashCase;null==s?e.removeStyle(n,r,a):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),a|=ml.Important),e.setStyle(n,r,s,a))}}(r,c,Un(De(),n),s,a))}function rg(e,t,n,r,s,a){const c=null===t;let h;for(;s>0;){const _=e[s],T=Array.isArray(_),Z=T?_[1]:_,be=null===Z;let je=n[s+1];je===En&&(je=be?cn:void 0);let ze=be?Pc(je,r):Z===r?je:void 0;if(T&&!Zl(ze)&&(ze=Pc(_,r)),Zl(ze)&&(h=ze,c))return h;const ut=e[s+1];s=c?Vi(ut):to(ut)}if(null!==t){let _=a?t.residualClasses:t.residualStyles;null!=_&&(h=Pc(_,r))}return h}function Zl(e){return void 0!==e}function sg(e,t){return 0!=(e.flags&(t?8:16))}function ig(e,t=""){const n=mt(),r=Tn(),s=e+mn,a=r.firstCreatePass?Oo(r,s,1,t,null):r.data[s],c=og(r,n,a,t,e);n[s]=c,Li()&&El(r,n,c,a),Js(a,!1)}let og=(e,t,n,r,s)=>(cs(!0),function vl(e,t){return e.createText(t)}(t[Jt],r));function Ju(e){return Jl("",e,""),Ju}function Jl(e,t,n){const r=mt(),s=No(r,e,t,n);return s!==En&&Ai(r,De(),s),Jl}function ed(e,t,n,r,s){const a=mt(),c=ko(a,e,t,n,r,s);return c!==En&&Ai(a,De(),c),ed}function pg(e,t,n){!function si(e,t,n,r){const s=Tn(),a=ti(2);s.firstUpdatePass&&eg(s,null,a,r);const c=mt();if(n!==En&&ts(c,a,n)){const h=s.data[De()];if(sg(h,r)&&!Jp(s,a)){let _=r?h.classesWithoutHost:h.stylesWithoutHost;null!==_&&(n=W(_,n||"")),ju(s,h,c,n,r)}else!function _E(e,t,n,r,s,a,c,h){s===En&&(s=cn);let _=0,T=0,Z=0<s.length?s[0]:null,be=0<a.length?a[0]:null;for(;null!==Z||null!==be;){const je=_<s.length?s[_+1]:void 0,ze=T<a.length?a[T+1]:void 0;let Et,ut=null;Z===be?(_+=2,T+=2,je!==ze&&(ut=be,Et=ze)):null===be||null!==Z&&Z<be?(_+=2,ut=Z):(T+=2,ut=be,Et=ze),null!==ut&&ng(e,t,n,r,ut,Et,c,h),Z=_<s.length?s[_]:null,be=T<a.length?a[T]:null}}(s,h,c,c[Jt],c[a+1],c[a+1]=function mE(e,t,n){if(null==n||""===n)return cn;const r=[],s=Ui(n);if(Array.isArray(s))for(let a=0;a<s.length;a++)e(r,s[a],!0);else if("object"==typeof s)for(const a in s)s.hasOwnProperty(a)&&e(r,a,s[a]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,a)}}(ks,_i,No(mt(),e,t,n),!0)}const no=void 0;var jE=["en",[["a","p"],["AM","PM"],no],[["AM","PM"],no,no],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],no,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],no,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",no,"{1} 'at' {0}",no],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let $o={};function td(e){const t=function BE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Mg(t);if(n)return n;const r=t.split("-")[0];if(n=Mg(r),n)return n;if("en"===r)return jE;throw new Me(701,!1)}function Ag(e){return td(e)[zo.PluralCase]}function Mg(e){return e in $o||($o[e]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[e]),$o[e]}var zo=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(zo||{});const Wo="en-US";let Pg=Wo;function sd(e,t,n,r,s){if(e=ie(e),Array.isArray(e))for(let a=0;a<e.length;a++)sd(e[a],t,n,r,s);else{const a=Tn(),c=mt(),h=$r();let _=Ji(e)?e:ie(e.provide);const T=lf(e),Z=1048575&h.providerIndexes,be=h.directiveStart,je=h.providerIndexes>>20;if(Ji(e)||!e.multi){const ze=new ra(T,s,Ro),ut=od(_,t,s?Z:Z+je,be);-1===ut?(Dc(rl(h,c),a,_),id(a,e,t.length),t.push(_),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),n.push(ze),c.push(ze)):(n[ut]=ze,c[ut]=ze)}else{const ze=od(_,t,Z+je,be),ut=od(_,t,Z,Z+je),Nt=ut>=0&&n[ut];if(s&&!Nt||!s&&!(ze>=0&&n[ze])){Dc(rl(h,c),a,_);const Wt=function VS(e,t,n,r,s){const a=new ra(e,n,Ro);return a.multi=[],a.index=t,a.componentProviders=0,Jg(a,s,r&&!n),a}(s?US:LS,n.length,s,r,T);!s&&Nt&&(n[ut].providerFactory=Wt),id(a,e,t.length,0),t.push(_),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),n.push(Wt),c.push(Wt)}else id(a,e,ze>-1?ze:ut,Jg(n[s?ut:ze],T,!s&&r));!s&&r&&Nt&&n[ut].componentProviders++}}}function id(e,t,n,r){const s=Ji(t),a=function Fy(e){return!!e.useClass}(t);if(s||a){const _=(a?ie(t.useClass):t).prototype.ngOnDestroy;if(_){const T=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const Z=T.indexOf(n);-1===Z?T.push(n,[r,_]):T[Z+1].push(r,_)}else T.push(n,_)}}}function Jg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function od(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function LS(e,t,n,r){return ad(this.multi,[])}function US(e,t,n,r){const s=this.multi;let a;if(this.providerFactory){const c=this.providerFactory.componentProviders,h=Qi(n,n[Tt],this.providerFactory.index,r);a=h.slice(0,c),ad(s,a);for(let _=c;_<h.length;_++)a.push(h[_])}else a=[],ad(s,a);return a}function ad(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function em(e,t=[]){return n=>{n.providersResolver=(r,s)=>function kS(e,t,n){const r=Tn();if(r.firstCreatePass){const s=ar(e);sd(n,r.data,r.blueprint,s,!0),sd(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class ro{}class tm{}function jS(e,t){return new ld(e,t??null,[])}class ld extends ro{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sp(this);const s=Nn(t);this._bootstrapComponents=wi(s.bootstrap),this._r3Injector=Cf(t,n,[{provide:ro,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver},...r],N(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cd extends tm{constructor(t){super(),this.moduleType=t}create(t){return new ld(this.moduleType,t,[])}}class nm extends ro{constructor(t){super(),this.componentFactoryResolver=new sp(this),this.instance=null;const n=new Tl([...t.providers,{provide:ro,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver}],t.parent||Pl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rm(e,t,n=null){return new nm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let GS=(()=>{var e;class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=nf(0,r.type),a=s.length>0?rm([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Je({token:e,providedIn:"environment",factory:()=>new e(qe(pi))}),t})();function sm(e){e.getStandaloneInjector=t=>t.get(GS).getOrCreateStandaloneInjector(e)}function dm(e,t,n){const r=qr()+e,s=mt();return s[r]===En?mi(s,r,n?t.call(n):t()):function Pa(e,t){return e[t]}(s,r)}function hm(e,t,n,r){return function pm(e,t,n,r,s,a){const c=t+n;return ts(e,c,s)?mi(e,c+1,a?r.call(a,s):r(s)):Ua(e,c+1)}(mt(),qr(),e,t,n,r)}function fm(e,t,n,r,s){return function gm(e,t,n,r,s,a,c){const h=t+n;return eo(e,h,s,a)?mi(e,h+2,c?r.call(c,s,a):r(s,a)):Ua(e,h+2)}(mt(),qr(),e,t,n,r,s)}function Ua(e,t){const n=e[t];return n===En?void 0:n}function dd(e){return t=>{setTimeout(e,void 0,t)}}const yi=class dC extends o.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,a=n||(()=>null),c=r;if(t&&"object"==typeof t){const _=t;s=_.next?.bind(_),a=_.error?.bind(_),c=_.complete?.bind(_)}this.__isAsync&&(a=dd(a),s&&(s=dd(s)),c&&(c=dd(c)));const h=super.subscribe({next:s,error:a,complete:c});return t instanceof y.w0&&t.add(h),h}};function hC(){return this._results[Symbol.iterator]()}class hd{get changes(){return this._changes||(this._changes=new yi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=hd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=function Ws(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function o_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],a=t[r];if(n&&(s=n(s),a=n(a)),a!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pC(e,t,n,r=!0){const s=t[Tt];if(function Y_(e,t,n,r){const s=ht+r,a=n.length;r>0&&(n[s-1][nr]=t),r<a-ht?(t[nr]=n[s],nh(n,ht+r,t)):(n.push(t),t[nr]=null),t[Cn]=n;const c=t[Ur];null!==c&&n!==c&&function K_(e,t){const n=e[Ie];t[Rn]!==t[Cn][Cn][Rn]&&(e[ce]=!0),null===n?e[Ie]=[t]:n.push(t)}(c,t);const h=t[Rr];null!==h&&h.insertView(e),t[Zt]|=128}(s,t,e,n),r){const a=Hc(n,e),c=t[Jt],h=bl(c,e[ve]);null!==h&&function z_(e,t,n,r,s,a){r[kn]=s,r[Xn]=t,fa(e,r,n,1,s,a)}(s,e[Xn],c,t,h,a)}}let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=vC,t})();const gC=ja,mC=class extends gC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const s=function fC(e,t,n,r){const s=t.tView,h=Vl(e,s,n,4096&e[Zt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);h[Ur]=e[t.index];const T=e[Rr];return null!==T&&(h[Rr]=T.createEmbeddedView(s)),Iu(s,h,n),h}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Aa(s)}};function vC(){return sc($r(),mt())}function sc(e,t){return 4&e.type?new mC(t,e,Po(e,t)):null}let oc=(()=>{class t{}return t.__NG_ELEMENT_ID__=CC,t})();function CC(){return wm($r(),mt())}const DC=oc,Cm=class extends DC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){const t=sl(this._hostTNode,this._hostLView);if(Ec(t)){const n=ia(t,this._hostLView),r=sa(t);return new us(n[Tt].data[r+8],n)}return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Dm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,n,r){let s,a;"number"==typeof r?s=r:null!=r&&(s=r.index,a=r.injector);const h=t.createEmbeddedViewImpl(n||{},a,null);return this.insertImpl(h,s,false),h}createComponent(t,n,r,s,a){const c=t&&!function aa(e){return"function"==typeof e}(t);let h;if(c)h=n;else{const Et=n||{};h=Et.index,r=Et.injector,s=Et.projectableNodes,a=Et.environmentInjector||Et.ngModuleRef}const _=c?t:new Ma(pn(t)),T=r||this.parentInjector;if(!a&&null==_.ngModule){const Nt=(c?T:this.parentInjector).get(pi,null);Nt&&(a=Nt)}pn(_.componentType??{});const ze=_.create(T,s,null,a);return this.insertImpl(ze.hostView,h,false),ze}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const s=t._lView;if(function co(e){return an(e[Cn])}(s)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const T=s[Cn],Z=new Cm(T,T[Xn],T[Cn]);Z.detach(Z.indexOf(t))}}const c=this._adjustIndex(n),h=this._lContainer;return pC(h,s,c,!r),t.attachToViewContainerRef(),nh(fd(h),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Dm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);r&&(ol(fd(this._lContainer),n),Vc(r[Tt],r))}detach(t){const n=this._adjustIndex(t,-1),r=yl(this._lContainer,n);return r&&null!=ol(fd(this._lContainer),n)?new Aa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Dm(e){return e[8]}function fd(e){return e[8]||(e[8]=[])}function wm(e,t){let n;const r=t[e.index];return an(r)?n=r:(n=qf(r,t,null,e),t[e.index]=n,jl(t,n)),Am(n,t,e,r),new Cm(n,e,t)}let Am=function Mm(e,t,n,r){if(e[ve])return;let s;s=8&n.type?tn(r):function wC(e,t){const n=e[Jt],r=n.createComment(""),s=bn(t,e);return Zi(n,bl(n,s),r,function J_(e,t){return e.nextSibling(t)}(n,s),!1),r}(t,n),e[ve]=s};class pd{constructor(t){this.queryList=t,this.matches=null}clone(){return new pd(this.queryList)}setDirty(){this.queryList.setDirty()}}class gd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let a=0;a<r;a++){const c=n.getByIndex(a);s.push(this.queries[c.indexInDeclarationView].clone())}return new gd(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==km(t,n).matches&&this.queries[n].setDirty()}}class Pm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class md{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,s);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new md(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new vd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const a=r[s];this.matchTNodeWithReadOption(t,n,PC(n,a)),this.matchTNodeWithReadOption(t,n,il(n,t,a,!1,!1))}else r===ja?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,il(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===Ea||s===oc||s===ja&&4&n.type)this.addMatch(n.index,-2);else{const a=il(n,t,s,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function PC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function IC(e,t,n,r){return-1===n?function TC(e,t){return 11&e.type?Po(e,t):4&e.type?sc(e,t):null}(t,e):-2===n?function FC(e,t,n){return n===Ea?Po(t,e):n===ja?sc(t,e):n===oc?wm(t,e):void 0}(e,t,r):Qi(e,e[Tt],n,t)}function Tm(e,t,n,r){const s=t[Rr].queries[r];if(null===s.matches){const a=e.data,c=n.matches,h=[];for(let _=0;_<c.length;_+=2){const T=c[_];h.push(T<0?null:IC(t,a[T],c[_+1],n.metadata.read))}s.matches=h}return s.matches}function _d(e,t,n,r){const s=e.queries.getByIndex(n),a=s.matches;if(null!==a){const c=Tm(e,t,s,n);for(let h=0;h<a.length;h+=2){const _=a[h];if(_>0)r.push(c[h/2]);else{const T=a[h+1],Z=t[-_];for(let be=ht;be<Z.length;be++){const je=Z[be];je[Ur]===je[Cn]&&_d(je[Tt],je,T,r)}if(null!==Z[Ie]){const be=Z[Ie];for(let je=0;je<be.length;je++){const ze=be[je];_d(ze[Tt],ze,T,r)}}}}}return r}function Im(e){const t=mt(),n=Tn(),r=vc();Qa(r+1);const s=km(n,r);if(e.dirty&&function Rs(e){return 4==(4&e[Zt])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const a=s.crossesNgTemplate?_d(n,t,r,[]):Tm(n,t,s,r);e.reset(a,e0),e.notifyOnChanges()}return!0}return!1}function Fm(e,t,n){const r=Tn();r.firstCreatePass&&(Nm(r,new Pm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),xm(r,mt(),t)}function Rm(e,t,n,r){const s=Tn();if(s.firstCreatePass){const a=$r();Nm(s,new Pm(t,n,r),a.index),function OC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}xm(s,mt(),n)}function Om(){return function RC(e,t){return e[Rr].queries[t].queryList}(mt(),vc())}function xm(e,t,n){const r=new hd(4==(4&n));(function P0(e,t,n,r){const s=Kf(t);s.push(n),e.firstCreatePass&&Xf(e).push(r,s.length-1)})(e,t,r,r.destroy),null===t[Rr]&&(t[Rr]=new gd),t[Rr].queries.push(new pd(r))}function Nm(e,t,n){null===e.queries&&(e.queries=new md),e.queries.track(new vd(t,n))}function km(e,t){return e.queries.getByIndex(t)}function yd(e){return!!Nn(e)}const Jm=new Gn("Application Initializer");let Dd=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=dt(Jm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const c=a();if($u(c))r.push(c);else if(Fp(c)){const h=new Promise((_,T)=>{c.subscribe({complete:_,error:T})});r.push(h)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ev=(()=>{var e;class t{log(r){console.log(r)}warn(r){console.warn(r)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const lc=new Gn("LocaleId",{providedIn:"root",factory:()=>dt(lc,Dt.Optional|Dt.SkipSelf)||function tD(){return typeof $localize<"u"&&$localize.locale||Wo}()}),nD=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tv=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $.X(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class sD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let iD=(()=>{var e;class t{compileModuleSync(r){return new cd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),c=wi(Nn(r).declarations).reduce((h,_)=>{const T=pn(_);return T&&h.push(new Ma(T)),h},[]);return new sD(s,c)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function iv(...e){}class ns{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function wD(){const e="function"==typeof lt.requestAnimationFrame;let t=lt[e?"requestAnimationFrame":"setTimeout"],n=lt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function PD(e){const t=()=>{!function MD(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(lt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Pd(e),e.isCheckStableRunning=!0,Md(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Pd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,a,c,h)=>{try{return ov(e),n.invokeTask(s,a,c,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),av(e)}},onInvoke:(n,r,s,a,c,h,_)=>{try{return ov(e),n.invoke(s,a,c,h,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),av(e)}},onHasTask:(n,r,s,a)=>{n.hasTask(s,a),r===s&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Pd(e),Md(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,s,a)=>(n.handleError(s,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ns.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(ns.isInAngularZone())throw new Me(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+s,t,AD,iv,iv);try{return a.runTask(c,n,r)}finally{a.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const AD={};function Md(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ov(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function av(e){e._nesting--,Md(e)}class TD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}const lv=new Gn("",{providedIn:"root",factory:cv});function cv(){const e=dt(ns);let t=!0;return function H(...e){const t=(0,Q.yG)(e),n=(0,Q._6)(e,1/0),r=e;return r.length?1===r.length?(0,J.Xf)(r[0]):(0,z.J)(n)((0,q.D)(r,t)):k.E}(new P.y(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new P.y(s=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const c=e.onUnstable.subscribe(()=>{ns.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{a.unsubscribe(),c.unsubscribe()}}).pipe(x()))}const uv=new Gn(""),dv=new Gn("");let Td,ID=(()=>{var e;class t{constructor(r,s,a){this._ngZone=r,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Td||(function FD(e){Td=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ns.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==c),r(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:r,timeoutId:c,updateCb:a})}whenStable(r,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}}return(e=t).\u0275fac=function(r){return new(r||e)(qe(ns),qe(hv),qe(dv))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),t})(),hv=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return Td?.findTestabilityInTree(this,r,s)??null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ji=null;const fv=new Gn("AllowMultipleToken"),Id=new Gn("PlatformDestroyListeners"),Fd=new Gn("appBootstrapListener");class xD{constructor(t,n){this.name=t,this.token=n}}function mv(e,t,n=[]){const r=`Platform: ${t}`,s=new Gn(r);return(a=[])=>{let c=Rd();if(!c||c.injector.get(fv,!1)){const h=[...n,...a,{provide:s,useValue:!0}];e?e(h):function ND(e){if(ji&&!ji.get(fv,!1))throw new Me(400,!1);(function pv(){!function Fi(e){lo=e}(()=>{throw new Me(600,!1)})})(),ji=e;const t=e.get(_v);(function gv(e){e.get(uf,null)?.forEach(n=>n())})(e)}(function vv(e=[],t){return ni.create({name:t,providers:[{provide:ru,useValue:"platform"},{provide:Id,useValue:new Set([()=>ji=null])},...e]})}(h,r))}return function LD(e){const t=Rd();if(!t)throw new Me(401,!1);return t}()}}function Rd(){return ji?.get(_v)??null}let _v=(()=>{var e;class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const a=function UD(e="zone.js",t){return"noop"===e?new TD:"zone.js"===e?new ns(t):e}(s?.ngZone,function yv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return a.run(()=>{const c=function BS(e,t,n){return new ld(e,t,n)}(r.moduleType,this.injector,function Dv(e){return[{provide:ns,useFactory:e},{provide:va,multi:!0,useFactory:()=>{const t=dt(jD,{optional:!0});return()=>t.initialize()}},{provide:Cv,useFactory:VD},{provide:lv,useFactory:cv}]}(()=>a)),h=c.injector.get(Fo,null);return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:T=>{h.handleError(T)}});c.onDestroy(()=>{uc(this._modules,c),_.unsubscribe()})}),function bv(e,t,n){try{const r=n();return $u(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(h,a,()=>{const _=c.injector.get(Dd);return _.runInitializers(),_.donePromise.then(()=>(function Tg(e){Ue(e,"Expected localeId to be defined"),"string"==typeof e&&(Pg=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(lc,Wo)||Wo),this._moduleDoBootstrap(c),c))})})}bootstrapModule(r,s=[]){const a=Ev({},s);return function RD(e,t,n){const r=new cd(n);return Promise.resolve(r)}(0,0,r).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(r){const s=r.injector.get(Ko);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!r.instance.ngDoBootstrap)throw new Me(-403,!1);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(Id,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(r){return new(r||e)(qe(ni))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function Ev(e,t){return Array.isArray(t)?t.reduce(Ev,e):{...e,...t}}let Ko=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dt(Cv),this.zoneIsStable=dt(lv),this.componentTypes=[],this.components=[],this.isStable=dt(tv).hasPendingTasks.pipe((0,te.w)(r=>r?(0,A.of)(!1):this.zoneIsStable),(0,me.x)(),x()),this._injector=dt(pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){const a=r instanceof gf;if(!this._injector.get(Dd).done)throw!a&&Lr(r),new Me(405,!1);let h;h=a?r:this._injector.get(Nl).resolveComponentFactory(r),this.componentTypes.push(h.componentType);const _=function OD(e){return e.isBoundToModule}(h)?void 0:this._injector.get(ro),Z=h.create(ni.NULL,[],s||h.selector,_),be=Z.location.nativeElement,je=Z.injector.get(uv,null);return je?.registerApplication(be),Z.onDestroy(()=>{this.detachView(Z.hostView),uc(this.components,Z),je?.unregisterApplication(be)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;uc(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(Fd,[]);s.push(...this._bootstrapListeners),s.forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Me(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function uc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Cv=new Gn("",{providedIn:"root",factory:()=>dt(Fo).handleError.bind(void 0)});function VD(){const e=dt(ns),t=dt(Fo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let jD=(()=>{var e;class t{constructor(){this.zone=dt(ns),this.applicationRef=dt(Ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GD(){return!1}function HD(){}let $D=(()=>{class t{}return t.__NG_ELEMENT_ID__=zD,t})();function zD(e){return function WD(e,t,n){if(vn(e)&&!n){const r=er(e.index,t);return new Aa(r,r)}return 47&e.type?new Aa(t[Rn],t):null}($r(),mt(),16==(16&e))}class Pv{constructor(){}supports(t){return $l(t)}create(t){return new ZD(t)}}const QD=(e,t)=>t;class ZD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||QD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,a=null;for(;n||r;){const c=!r||n&&n.currentIndex<Iv(r,s,a)?n:r,h=Iv(c,s,a),_=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{a||(a=[]);const T=h-s,Z=_-s;if(T!=Z){for(let je=0;je<T;je++){const ze=je<a.length?a[je]:a[je]=0,ut=ze+je;Z<=ut&&ut<T&&(a[je]=ze+1)}a[c.previousIndex]=Z-T}}h!==_&&t(c,h,_)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!$l(t))throw new Me(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,a,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)a=t[h],c=this._trackByFn(h,a),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,a,c,h)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,c,h),r=!0),n=n._next}else s=0,function bb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{c=this._trackByFn(s,h),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,h,c,s)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,s)):t=this._addAfter(new JD(n,r),a,s),t}_verifyReinsertion(t,n,r,s){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,a=t._nextRemoved;return null===s?this._removalsHead=a:s._nextRemoved=a,null===a?this._removalsTail=s:a._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Tv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ew{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Tv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ew,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iv(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Fv{constructor(){}supports(t){return t instanceof Map||Ru(t)}create(){return new tw}}class tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ru(t)))throw new Me(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const a=s._prev,c=s._next;return a&&(a._next=c),c&&(c._prev=a),s._next=null,s._prev=null,s}const r=new nw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class nw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rv(){return new Ld([new Pv])}let Ld=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new t(r)}static extend(r){return{provide:t,useFactory:s=>t.create(r,s||Rv()),deps:[[t,new cl,new ll]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new Me(901,!1)}}return(e=t).\u0275prov=Je({token:e,providedIn:"root",factory:Rv}),t})();function Ov(){return new Ud([new Fv])}let Ud=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new t(r)}static extend(r){return{provide:t,useFactory:s=>t.create(r,s||Ov()),deps:[[t,new cl,new ll]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new Me(901,!1)}}return(e=t).\u0275prov=Je({token:e,providedIn:"root",factory:Ov}),t})();const iw=mv(null,"core",[]);let ow=(()=>{var e;class t{constructor(r){}}return(e=t).\u0275fac=function(r){return new(r||e)(qe(Ko))},e.\u0275mod=Ir({type:e}),e.\u0275inj=at({}),t})();function vw(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function yw(e){const t=pn(e);if(!t)return null;const n=new Ma(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(pe,m,v)=>{"use strict";v.d(m,{Fj:()=>W,u5:()=>ii,nD:()=>ve,JJ:()=>_t,On:()=>rs});var o=v(6689),y=v(6814),$=v(9666),P=v(5592),z=v(7453),J=v(4829),k=v(4564),Q=v(8251),q=v(7400),H=v(2714),O=v(7398);let V=(()=>{var R;class w{constructor(I,ye){this._renderer=I,this._elementRef=ye,this.onChange=bt=>{},this.onTouched=()=>{}}setProperty(I,ye){this._renderer.setProperty(this._elementRef.nativeElement,I,ye)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return(R=w).\u0275fac=function(I){return new(I||R)(o.Y36(o.Qsj),o.Y36(o.SBq))},R.\u0275dir=o.lG2({type:R}),w})(),x=(()=>{var R;class w extends V{}return(R=w).\u0275fac=function(){let le;return function(ye){return(le||(le=o.n5z(R)))(ye||R)}}(),R.\u0275dir=o.lG2({type:R,features:[o.qOj]}),w})();const K=new o.OlP("NgValueAccessor"),B={provide:K,useExisting:(0,o.Gpc)(()=>W),multi:!0},N=new o.OlP("CompositionEventMode");let W=(()=>{var R;class w extends V{constructor(I,ye,bt){super(I,ye),this._compositionMode=bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F(){const R=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(I){this.setProperty("value",I??"")}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return(R=w).\u0275fac=function(I){return new(I||R)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(N,8))},R.\u0275dir=o.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,ye){1&I&&o.NdJ("input",function(en){return ye._handleInput(en.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(en){return ye._compositionEnd(en.target.value)})},features:[o._Bn([B]),o.qOj]}),w})();const ie=new o.OlP("NgValidators"),Y=new o.OlP("NgAsyncValidators");function C(R){return null}function S(R){return null!=R}function U(R){return(0,o.QGY)(R)?(0,$.D)(R):R}function X(R){let w={};return R.forEach(le=>{w=null!=le?{...w,...le}:w}),0===Object.keys(w).length?null:w}function se(R,w){return w.map(le=>le(R))}function Ce(R){return R.map(w=>function he(R){return!R.validate}(w)?w:le=>w.validate(le))}function M(R){return null!=R?function Pe(R){if(!R)return null;const w=R.filter(S);return 0==w.length?null:function(le){return X(se(le,w))}}(Ce(R)):null}function re(R){return null!=R?function L(R){if(!R)return null;const w=R.filter(S);return 0==w.length?null:function(le){return function A(...R){const w=(0,k.jO)(R),{args:le,keys:I}=(0,z.D)(R),ye=new P.y(bt=>{const{length:en}=le;if(!en)return void bt.complete();const Wn=new Array(en);let jr=en,Qr=en;for(let Br=0;Br<en;Br++){let oi=!1;(0,J.Xf)(le[Br]).subscribe((0,Q.x)(bt,ai=>{oi||(oi=!0,Qr--),Wn[Br]=ai},()=>jr--,void 0,()=>{(!jr||!oi)&&(Qr||bt.next(I?(0,H.n)(I,Wn):Wn),bt.complete())}))}});return w?ye.pipe((0,q.Z)(w)):ye}(se(le,w).map(U)).pipe((0,O.U)(X))}}(Ce(R)):null}function fe(R,w){return null===R?[w]:Array.isArray(R)?[...R,w]:[R,w]}function Ue(R){return R?Array.isArray(R)?R:[R]:[]}function $e(R,w){return Array.isArray(R)?R.includes(w):R===w}function Ge(R,w){const le=Ue(w);return Ue(R).forEach(ye=>{$e(le,ye)||le.push(ye)}),le}function We(R,w){return Ue(w).filter(le=>!$e(R,le))}class nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(w){this._rawValidators=w||[],this._composedValidatorFn=M(this._rawValidators)}_setAsyncValidators(w){this._rawAsyncValidators=w||[],this._composedAsyncValidatorFn=re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(w){this._onDestroyCallbacks.push(w)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(w=>w()),this._onDestroyCallbacks=[]}reset(w=void 0){this.control&&this.control.reset(w)}hasError(w,le){return!!this.control&&this.control.hasError(w,le)}getError(w,le){return this.control?this.control.getError(w,le):null}}class Je extends nt{get formDirective(){return null}get path(){return null}}class vt extends nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class at{constructor(w){this._cd=w}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _t=(()=>{var R;class w extends at{constructor(I){super(I)}}return(R=w).\u0275fac=function(I){return new(I||R)(o.Y36(vt,2))},R.\u0275dir=o.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,ye){2&I&&o.ekj("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)},features:[o.qOj]}),w})();const Kt="VALID",Yt="INVALID",Gt="PENDING",On="DISABLED";function Ne(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class Pt{constructor(w,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(w),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(w){this._rawValidators=this._composedValidatorFn=w}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(w){this._rawAsyncValidators=this._composedAsyncValidatorFn=w}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===Yt}get pending(){return this.status==Gt}get disabled(){return this.status===On}get enabled(){return this.status!==On}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(w){this._assignValidators(w)}setAsyncValidators(w){this._assignAsyncValidators(w)}addValidators(w){this.setValidators(Ge(w,this._rawValidators))}addAsyncValidators(w){this.setAsyncValidators(Ge(w,this._rawAsyncValidators))}removeValidators(w){this.setValidators(We(w,this._rawValidators))}removeAsyncValidators(w){this.setAsyncValidators(We(w,this._rawAsyncValidators))}hasValidator(w){return $e(this._rawValidators,w)}hasAsyncValidator(w){return $e(this._rawAsyncValidators,w)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(w={}){this.touched=!0,this._parent&&!w.onlySelf&&this._parent.markAsTouched(w)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(w=>w.markAllAsTouched())}markAsUntouched(w={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(le=>{le.markAsUntouched({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}markAsDirty(w={}){this.pristine=!1,this._parent&&!w.onlySelf&&this._parent.markAsDirty(w)}markAsPristine(w={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(le=>{le.markAsPristine({onlySelf:!0})}),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}markAsPending(w={}){this.status=Gt,!1!==w.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!w.onlySelf&&this._parent.markAsPending(w)}disable(w={}){const le=this._parentMarkedDirty(w.onlySelf);this.status=On,this.errors=null,this._forEachChild(I=>{I.disable({...w,onlySelf:!0})}),this._updateValue(),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...w,skipPristineCheck:le}),this._onDisabledChange.forEach(I=>I(!0))}enable(w={}){const le=this._parentMarkedDirty(w.onlySelf);this.status=Kt,this._forEachChild(I=>{I.enable({...w,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent}),this._updateAncestors({...w,skipPristineCheck:le}),this._onDisabledChange.forEach(I=>I(!1))}_updateAncestors(w){this._parent&&!w.onlySelf&&(this._parent.updateValueAndValidity(w),w.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(w){this._parent=w}getRawValue(){return this.value}updateValueAndValidity(w={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Gt)&&this._runAsyncValidator(w.emitEvent)),!1!==w.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!w.onlySelf&&this._parent.updateValueAndValidity(w)}_updateTreeValidity(w={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(w)),this.updateValueAndValidity({onlySelf:!0,emitEvent:w.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?On:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(w){if(this.asyncValidator){this.status=Gt,this._hasOwnPendingAsyncValidator=!0;const le=U(this.asyncValidator(this));this._asyncValidationSubscription=le.subscribe(I=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(I,{emitEvent:w})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(w,le={}){this.errors=w,this._updateControlsErrors(!1!==le.emitEvent)}get(w){let le=w;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((I,ye)=>I&&I._find(ye),this)}getError(w,le){const I=le?this.get(le):this;return I&&I.errors?I.errors[w]:null}hasError(w,le){return!!this.getError(w,le)}get root(){let w=this;for(;w._parent;)w=w._parent;return w}_updateControlsErrors(w){this.status=this._calculateStatus(),w&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(w)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?On:this.errors?Yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gt)?Gt:this._anyControlsHaveStatus(Yt)?Yt:Kt}_anyControlsHaveStatus(w){return this._anyControls(le=>le.status===w)}_anyControlsDirty(){return this._anyControls(w=>w.dirty)}_anyControlsTouched(){return this._anyControls(w=>w.touched)}_updatePristine(w={}){this.pristine=!this._anyControlsDirty(),this._parent&&!w.onlySelf&&this._parent._updatePristine(w)}_updateTouched(w={}){this.touched=this._anyControlsTouched(),this._parent&&!w.onlySelf&&this._parent._updateTouched(w)}_registerOnCollectionChange(w){this._onCollectionChange=w}_setUpdateStrategy(w){Ne(w)&&null!=w.updateOn&&(this._updateOn=w.updateOn)}_parentMarkedDirty(w){return!w&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(w){return null}_assignValidators(w){this._rawValidators=Array.isArray(w)?w.slice():w,this._composedValidatorFn=function st(R){return Array.isArray(R)?M(R):R||null}(this._rawValidators)}_assignAsyncValidators(w){this._rawAsyncValidators=Array.isArray(w)?w.slice():w,this._composedAsyncValidatorFn=function Xe(R){return Array.isArray(R)?re(R):R||null}(this._rawAsyncValidators)}}const Be=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function tt(R,w,le=Te){(function Ft(R,w){const le=function Se(R){return R._rawValidators}(R);null!==w.validator?R.setValidators(fe(le,w.validator)):"function"==typeof le&&R.setValidators([le]);const I=function Re(R){return R._rawAsyncValidators}(R);null!==w.asyncValidator?R.setAsyncValidators(fe(I,w.asyncValidator)):"function"==typeof I&&R.setAsyncValidators([I]);const ye=()=>R.updateValueAndValidity();yt(w._rawValidators,ye),yt(w._rawAsyncValidators,ye)})(R,w),w.valueAccessor.writeValue(R.value),(R.disabled||"always"===le)&&w.valueAccessor.setDisabledState?.(R.disabled),function fn(R,w){w.valueAccessor.registerOnChange(le=>{R._pendingValue=le,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&jn(R,w)})}(R,w),function Fn(R,w){const le=(I,ye)=>{w.valueAccessor.writeValue(I),ye&&w.viewToModelUpdate(I)};R.registerOnChange(le),w._registerOnDestroy(()=>{R._unregisterOnChange(le)})}(R,w),function Hn(R,w){w.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&jn(R,w),"submit"!==R.updateOn&&R.markAsTouched()})}(R,w),function Vt(R,w){if(w.valueAccessor.setDisabledState){const le=I=>{w.valueAccessor.setDisabledState(I)};R.registerOnDisabledChange(le),w._registerOnDestroy(()=>{R._unregisterOnDisabledChange(le)})}}(R,w)}function yt(R,w){R.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(w)})}function jn(R,w){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),w.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function ir(R,w){const le=R.indexOf(w);le>-1&&R.splice(le,1)}function Jn(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const hr=class extends Pt{constructor(w=null,le,I){super(function un(R){return(Ne(R)?R.validators:R)||null}(le),function ke(R,w){return(Ne(w)?w.asyncValidators:R)||null}(I,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(w),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ne(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=Jn(w)?w.value:w)}setValue(w,le={}){this.value=this._pendingValue=w,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(I=>I(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(w,le={}){this.setValue(w,le)}reset(w=this.defaultValue,le={}){this._applyFormState(w),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(w){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(w){this._onChange.push(w)}_unregisterOnChange(w){ir(this._onChange,w)}registerOnDisabledChange(w){this._onDisabledChange.push(w)}_unregisterOnDisabledChange(w){ir(this._onDisabledChange,w)}_forEachChild(w){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(w){Jn(w)?(this.value=this._pendingValue=w.value,w.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=w}},js={provide:vt,useExisting:(0,o.Gpc)(()=>rs)},Yr=(()=>Promise.resolve())();let rs=(()=>{var R;class w extends vt{constructor(I,ye,bt,en,Wn,jr){super(),this._changeDetectorRef=Wn,this.callSetDisabledState=jr,this.control=new hr,this._registered=!1,this.name="",this.update=new o.vpe,this._parent=I,this._setValidators(ye),this._setAsyncValidators(bt),this.valueAccessor=function sr(R,w){if(!w)return null;let le,I,ye;return Array.isArray(w),w.forEach(bt=>{bt.constructor===W?le=bt:function rr(R){return Object.getPrototypeOf(R.constructor)===x}(bt)?I=bt:ye=bt}),ye||I||le||null}(0,en)}ngOnChanges(I){if(this._checkForErrors(),!this._registered||"name"in I){if(this._registered&&(this._checkName(),this.formDirective)){const ye=I.name.previousValue;this.formDirective.removeControl({name:ye,path:this._getPath(ye)})}this._setUpControl()}"isDisabled"in I&&this._updateDisabled(I),function Sn(R,w){if(!R.hasOwnProperty("model"))return!1;const le=R.model;return!!le.isFirstChange()||!Object.is(w,le.currentValue)}(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){Yr.then(()=>{this.control.setValue(I,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(I){const ye=I.isDisabled.currentValue,bt=0!==ye&&(0,o.VuI)(ye);Yr.then(()=>{bt&&!this.control.disabled?this.control.disable():!bt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(I){return this._parent?function qe(R,w){return[...w.path,R]}(I,this._parent):[I]}}return(R=w).\u0275fac=function(I){return new(I||R)(o.Y36(Je,9),o.Y36(ie,10),o.Y36(Y,10),o.Y36(K,10),o.Y36(o.sBO,8),o.Y36(Be,8))},R.\u0275dir=o.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([js]),o.qOj,o.TTD]}),w})(),Ir=(()=>{var R;class w{}return(R=w).\u0275fac=function(I){return new(I||R)},R.\u0275mod=o.oAB({type:R}),R.\u0275inj=o.cJS({}),w})();let Rn=(()=>{var R;class w{constructor(){this._validator=C}ngOnChanges(I){if(this.inputName in I){const ye=this.normalizeInput(I[this.inputName].currentValue);this._enabled=this.enabled(ye),this._validator=this._enabled?this.createValidator(ye):C,this._onChange&&this._onChange()}}validate(I){return this._validator(I)}registerOnValidatorChange(I){this._onChange=I}enabled(I){return null!=I}}return(R=w).\u0275fac=function(I){return new(I||R)},R.\u0275dir=o.lG2({type:R,features:[o.TTD]}),w})();const ce={provide:ie,useExisting:(0,o.Gpc)(()=>ve),multi:!0};let ve=(()=>{var R;class w extends Rn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=I=>function gs(R){return"number"==typeof R?R:parseInt(R,10)}(I),this.createValidator=I=>function Le(R){return w=>function ge(R){return null!=R&&"number"==typeof R.length}(w.value)&&w.value.length>R?{maxlength:{requiredLength:R,actualLength:w.value.length}}:null}(I)}}return(R=w).\u0275fac=function(){let le;return function(ye){return(le||(le=o.n5z(R)))(ye||R)}}(),R.\u0275dir=o.lG2({type:R,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(I,ye){2&I&&o.uIk("maxlength",ye._enabled?ye.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([ce]),o.qOj]}),w})(),rn=(()=>{var R;class w{}return(R=w).\u0275fac=function(I){return new(I||R)},R.\u0275mod=o.oAB({type:R}),R.\u0275inj=o.cJS({imports:[Ir]}),w})(),ii=(()=>{var R;class w{static withConfig(I){return{ngModule:w,providers:[{provide:Be,useValue:I.callSetDisabledState??Te}]}}}return(R=w).\u0275fac=function(I){return new(I||R)},R.\u0275mod=o.oAB({type:R}),R.\u0275inj=o.cJS({imports:[rn]}),w})()},6593:(pe,m,v)=>{"use strict";v.d(m,{Dx:()=>vt,b2:()=>$e,q6:()=>fe,se:()=>Oe});var o=v(6689),y=v(6814);class $ extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class P extends ${static makeCurrent(){(0,y.HT)(new P)}onAndCancel(ke,Xe,Ne){return ke.addEventListener(Xe,Ne),()=>{ke.removeEventListener(Xe,Ne)}}dispatchEvent(ke,Xe){ke.dispatchEvent(Xe)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,Xe){return(Xe=Xe||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,Xe){return"window"===Xe?window:"document"===Xe?ke:"body"===Xe?ke.body:null}getBaseHref(ke){const Xe=function J(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==Xe?null:function Q(st){k=k||document.createElement("a"),k.setAttribute("href",st);const ke=k.pathname;return"/"===ke.charAt(0)?ke:`/${ke}`}(Xe)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,y.Mx)(document.cookie,ke)}}let k,z=null,H=(()=>{var st;class ke{build(){return new XMLHttpRequest}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();const A=new o.OlP("EventManagerPlugins");let O=(()=>{var st;class ke{constructor(Ne,et){this._zone=et,this._eventNameToPlugin=new Map,Ne.forEach(ct=>{ct.manager=this}),this._plugins=Ne.slice().reverse()}addEventListener(Ne,et,ct){return this._findPluginFor(et).addEventListener(Ne,et,ct)}getZone(){return this._zone}_findPluginFor(Ne){let et=this._eventNameToPlugin.get(Ne);if(et)return et;if(et=this._plugins.find(Pt=>Pt.supports(Ne)),!et)throw new o.vHH(5101,!1);return this._eventNameToPlugin.set(Ne,et),et}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(A),o.LFG(o.R0b))},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();class V{constructor(ke){this._doc=ke}}const x="ng-app-id";let K=(()=>{var st;class ke{constructor(Ne,et,ct,Pt={}){this.doc=Ne,this.appId=et,this.nonce=ct,this.platformId=Pt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.PM)(Pt),this.resetHostNodes()}addStyles(Ne){for(const et of Ne)1===this.changeUsageCount(et,1)&&this.onStyleAdded(et)}removeStyles(Ne){for(const et of Ne)this.changeUsageCount(et,-1)<=0&&this.onStyleRemoved(et)}ngOnDestroy(){const Ne=this.styleNodesInDOM;Ne&&(Ne.forEach(et=>et.remove()),Ne.clear());for(const et of this.getAllStyles())this.onStyleRemoved(et);this.resetHostNodes()}addHost(Ne){this.hostNodes.add(Ne);for(const et of this.getAllStyles())this.addStyleToHost(Ne,et)}removeHost(Ne){this.hostNodes.delete(Ne)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ne){for(const et of this.hostNodes)this.addStyleToHost(et,Ne)}onStyleRemoved(Ne){const et=this.styleRef;et.get(Ne)?.elements?.forEach(ct=>ct.remove()),et.delete(Ne)}collectServerRenderedStyles(){const Ne=this.doc.head?.querySelectorAll(`style[${x}="${this.appId}"]`);if(Ne?.length){const et=new Map;return Ne.forEach(ct=>{null!=ct.textContent&&et.set(ct.textContent,ct)}),et}return null}changeUsageCount(Ne,et){const ct=this.styleRef;if(ct.has(Ne)){const Pt=ct.get(Ne);return Pt.usage+=et,Pt.usage}return ct.set(Ne,{usage:et,elements:[]}),et}getStyleElement(Ne,et){const ct=this.styleNodesInDOM,Pt=ct?.get(et);if(Pt?.parentNode===Ne)return ct.delete(et),Pt.removeAttribute(x),Pt;{const $t=this.doc.createElement("style");return this.nonce&&$t.setAttribute("nonce",this.nonce),$t.textContent=et,this.platformIsServer&&$t.setAttribute(x,this.appId),$t}}addStyleToHost(Ne,et){const ct=this.getStyleElement(Ne,et);Ne.appendChild(ct);const Pt=this.styleRef,$t=Pt.get(et)?.elements;$t?$t.push(ct):Pt.set(et,{elements:[ct],usage:1})}resetHostNodes(){const Ne=this.hostNodes;Ne.clear(),Ne.add(this.doc.head)}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(y.K0),o.LFG(o.AFp),o.LFG(o.Ojb,8),o.LFG(o.Lbi))},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},me=/%COMP%/g,B="%COMP%",F=`_nghost-${B}`,N=`_ngcontent-${B}`,ue=new o.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(st,ke){return ke.map(Xe=>Xe.replace(me,st))}let Oe=(()=>{var st;class ke{constructor(Ne,et,ct,Pt,$t,dn,An,xn=null){this.eventManager=Ne,this.sharedStylesHost=et,this.appId=ct,this.removeStylesOnCompDestroy=Pt,this.doc=$t,this.platformId=dn,this.ngZone=An,this.nonce=xn,this.rendererByCompId=new Map,this.platformIsServer=(0,y.PM)(dn),this.defaultRenderer=new Ze(Ne,$t,An,this.platformIsServer)}createRenderer(Ne,et){if(!Ne||!et)return this.defaultRenderer;this.platformIsServer&&et.encapsulation===o.ifc.ShadowDom&&(et={...et,encapsulation:o.ifc.Emulated});const ct=this.getOrCreateRenderer(Ne,et);return ct instanceof _e?ct.applyToHost(Ne):ct instanceof ee&&ct.applyStyles(),ct}getOrCreateRenderer(Ne,et){const ct=this.rendererByCompId;let Pt=ct.get(et.id);if(!Pt){const $t=this.doc,dn=this.ngZone,An=this.eventManager,xn=this.sharedStylesHost,dr=this.removeStylesOnCompDestroy,Be=this.platformIsServer;switch(et.encapsulation){case o.ifc.Emulated:Pt=new _e(An,xn,et,this.appId,dr,$t,dn,Be);break;case o.ifc.ShadowDom:return new Fe(An,xn,Ne,et,$t,dn,this.nonce,Be);default:Pt=new ee(An,xn,et,dr,$t,dn,Be)}ct.set(et.id,Pt)}return Pt}ngOnDestroy(){this.rendererByCompId.clear()}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(O),o.LFG(K),o.LFG(o.AFp),o.LFG(ue),o.LFG(y.K0),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(o.Ojb))},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();class Ze{constructor(ke,Xe,Ne,et){this.eventManager=ke,this.doc=Xe,this.ngZone=Ne,this.platformIsServer=et,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ke,Xe){return Xe?this.doc.createElementNS(te[Xe]||Xe,ke):this.doc.createElement(ke)}createComment(ke){return this.doc.createComment(ke)}createText(ke){return this.doc.createTextNode(ke)}appendChild(ke,Xe){(He(ke)?ke.content:ke).appendChild(Xe)}insertBefore(ke,Xe,Ne){ke&&(He(ke)?ke.content:ke).insertBefore(Xe,Ne)}removeChild(ke,Xe){ke&&ke.removeChild(Xe)}selectRootElement(ke,Xe){let Ne="string"==typeof ke?this.doc.querySelector(ke):ke;if(!Ne)throw new o.vHH(-5104,!1);return Xe||(Ne.textContent=""),Ne}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,Xe,Ne,et){if(et){Xe=et+":"+Xe;const ct=te[et];ct?ke.setAttributeNS(ct,Xe,Ne):ke.setAttribute(Xe,Ne)}else ke.setAttribute(Xe,Ne)}removeAttribute(ke,Xe,Ne){if(Ne){const et=te[Ne];et?ke.removeAttributeNS(et,Xe):ke.removeAttribute(`${Ne}:${Xe}`)}else ke.removeAttribute(Xe)}addClass(ke,Xe){ke.classList.add(Xe)}removeClass(ke,Xe){ke.classList.remove(Xe)}setStyle(ke,Xe,Ne,et){et&(o.JOm.DashCase|o.JOm.Important)?ke.style.setProperty(Xe,Ne,et&o.JOm.Important?"important":""):ke.style[Xe]=Ne}removeStyle(ke,Xe,Ne){Ne&o.JOm.DashCase?ke.style.removeProperty(Xe):ke.style[Xe]=""}setProperty(ke,Xe,Ne){ke[Xe]=Ne}setValue(ke,Xe){ke.nodeValue=Xe}listen(ke,Xe,Ne){if("string"==typeof ke&&!(ke=(0,y.q)().getGlobalEventTarget(this.doc,ke)))throw new Error(`Unsupported event target ${ke} for event ${Xe}`);return this.eventManager.addEventListener(ke,Xe,this.decoratePreventDefault(Ne))}decoratePreventDefault(ke){return Xe=>{if("__ngUnwrap__"===Xe)return ke;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ke(Xe)):ke(Xe))&&Xe.preventDefault()}}}function He(st){return"TEMPLATE"===st.tagName&&void 0!==st.content}class Fe extends Ze{constructor(ke,Xe,Ne,et,ct,Pt,$t,dn){super(ke,ct,Pt,dn),this.sharedStylesHost=Xe,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=Y(et.id,et.styles);for(const xn of An){const dr=document.createElement("style");$t&&dr.setAttribute("nonce",$t),dr.textContent=xn,this.shadowRoot.appendChild(dr)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}appendChild(ke,Xe){return super.appendChild(this.nodeOrShadowRoot(ke),Xe)}insertBefore(ke,Xe,Ne){return super.insertBefore(this.nodeOrShadowRoot(ke),Xe,Ne)}removeChild(ke,Xe){return super.removeChild(this.nodeOrShadowRoot(ke),Xe)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ee extends Ze{constructor(ke,Xe,Ne,et,ct,Pt,$t,dn){super(ke,ct,Pt,$t),this.sharedStylesHost=Xe,this.removeStylesOnCompDestroy=et,this.styles=dn?Y(dn,Ne.styles):Ne.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _e extends ee{constructor(ke,Xe,Ne,et,ct,Pt,$t,dn){const An=et+"-"+Ne.id;super(ke,Xe,Ne,ct,Pt,$t,dn,An),this.contentAttr=function ge(st){return N.replace(me,st)}(An),this.hostAttr=function ie(st){return F.replace(me,st)}(An)}applyToHost(ke){this.applyStyles(),this.setAttribute(ke,this.hostAttr,"")}createElement(ke,Xe){const Ne=super.createElement(ke,Xe);return super.setAttribute(Ne,this.contentAttr,""),Ne}}let Le=(()=>{var st;class ke extends V{constructor(Ne){super(Ne)}supports(Ne){return!0}addEventListener(Ne,et,ct){return Ne.addEventListener(et,ct,!1),()=>this.removeEventListener(Ne,et,ct)}removeEventListener(Ne,et,ct){return Ne.removeEventListener(et,ct)}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(y.K0))},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();const de=["alt","control","meta","shift"],C={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S={alt:st=>st.altKey,control:st=>st.ctrlKey,meta:st=>st.metaKey,shift:st=>st.shiftKey};let U=(()=>{var st;class ke extends V{constructor(Ne){super(Ne)}supports(Ne){return null!=ke.parseEventName(Ne)}addEventListener(Ne,et,ct){const Pt=ke.parseEventName(et),$t=ke.eventCallback(Pt.fullKey,ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(Ne,Pt.domEventName,$t))}static parseEventName(Ne){const et=Ne.toLowerCase().split("."),ct=et.shift();if(0===et.length||"keydown"!==ct&&"keyup"!==ct)return null;const Pt=ke._normalizeKey(et.pop());let $t="",dn=et.indexOf("code");if(dn>-1&&(et.splice(dn,1),$t="code."),de.forEach(xn=>{const dr=et.indexOf(xn);dr>-1&&(et.splice(dr,1),$t+=xn+".")}),$t+=Pt,0!=et.length||0===Pt.length)return null;const An={};return An.domEventName=ct,An.fullKey=$t,An}static matchEventFullKeyCode(Ne,et){let ct=C[Ne.key]||Ne.key,Pt="";return et.indexOf("code.")>-1&&(ct=Ne.code,Pt="code."),!(null==ct||!ct)&&(ct=ct.toLowerCase()," "===ct?ct="space":"."===ct&&(ct="dot"),de.forEach($t=>{$t!==ct&&(0,S[$t])(Ne)&&(Pt+=$t+".")}),Pt+=ct,Pt===et)}static eventCallback(Ne,et,ct){return Pt=>{ke.matchEventFullKeyCode(Pt,Ne)&&ct.runGuarded(()=>et(Pt))}}static _normalizeKey(Ne){return"esc"===Ne?"escape":Ne}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(y.K0))},st.\u0275prov=o.Yz7({token:st,factory:st.\u0275fac}),ke})();const fe=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:y.bD},{provide:o.g9A,useValue:function Pe(){P.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function L(){return(0,o.RDi)(document),document},deps:[]}]),Se=new o.OlP(""),Re=[{provide:o.rWj,useClass:class q{addToWindow(ke){o.dqk.getAngularTestability=(Ne,et=!0)=>{const ct=ke.findTestabilityInTree(Ne,et);if(null==ct)throw new o.vHH(5103,!1);return ct},o.dqk.getAllAngularTestabilities=()=>ke.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>ke.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(Ne=>{const et=o.dqk.getAllAngularTestabilities();let ct=et.length,Pt=!1;const $t=function(dn){Pt=Pt||dn,ct--,0==ct&&Ne(Pt)};et.forEach(dn=>{dn.whenStable($t)})})}findTestabilityInTree(ke,Xe,Ne){return null==Xe?null:ke.getTestability(Xe)??(Ne?(0,y.q)().isShadowRoot(Xe)?this.findTestabilityInTree(ke,Xe.host,!0):this.findTestabilityInTree(ke,Xe.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ue=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function M(){return new o.qLn},deps:[]},{provide:A,useClass:Le,multi:!0,deps:[y.K0,o.R0b,o.Lbi]},{provide:A,useClass:U,multi:!0,deps:[y.K0]},Oe,K,O,{provide:o.FYo,useExisting:Oe},{provide:y.JF,useClass:H,deps:[]},[]];let $e=(()=>{var st;class ke{constructor(Ne){}static withServerTransition(Ne){return{ngModule:ke,providers:[{provide:o.AFp,useValue:Ne.appId}]}}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(Se,12))},st.\u0275mod=o.oAB({type:st}),st.\u0275inj=o.cJS({providers:[...Ue,...Re],imports:[y.ez,o.hGG]}),ke})(),vt=(()=>{var st;class ke{constructor(Ne){this._doc=Ne}getTitle(){return this._doc.title}setTitle(Ne){this._doc.title=Ne||""}}return(st=ke).\u0275fac=function(Ne){return new(Ne||st)(o.LFG(y.K0))},st.\u0275prov=o.Yz7({token:st,factory:function(Ne){let et=null;return et=Ne?new Ne:function Je(){return new vt((0,o.LFG)(y.K0))}(),et},providedIn:"root"}),ke})();typeof window<"u"&&window},6014:(pe,m,v)=>{"use strict";v.d(m,{gz:()=>Nn,F0:()=>cr,rH:()=>di,Bz:()=>qa,lC:()=>Cn});var o=v(6689),y=v(2664),$=v(9666),P=v(2096),z=v(5619),J=v(5592),k=v(7453),Q=v(2737),q=v(7400),H=v(4564),A=v(2714),O=v(8251),V=v(7103);function x(...f){const g=(0,H.yG)(f),E=(0,H.jO)(f),{args:p,keys:D}=(0,k.D)(f);if(0===p.length)return(0,$.D)([],g);const ne=new J.y(function K(f,g,E=Q.y){return p=>{te(g,()=>{const{length:D}=f,ne=new Array(D);let Ee=D,De=D;for(let it=0;it<D;it++)te(g,()=>{const ft=(0,$.D)(f[it],g);let Dn=!1;ft.subscribe((0,O.x)(p,sn=>{ne[it]=sn,Dn||(Dn=!0,De--),De||p.next(E(ne.slice()))},()=>{--Ee||p.complete()}))},p)},p)}}(p,g,D?Ee=>(0,A.n)(D,Ee):Q.y));return E?ne.pipe((0,q.Z)(E)):ne}function te(f,g,E){f?(0,V.f)(E,f,g):g()}var me=v(6973),B=v(7537);function N(...f){return function F(){return(0,B.J)(1)}()((0,$.D)(f,(0,H.yG)(f)))}var W=v(4829);function ue(f){return new J.y(g=>{(0,W.Xf)(f()).subscribe(g)})}var ge=v(8407),ie=v(4674);function Y(f,g){const E=(0,ie.m)(f)?f:()=>f,p=D=>D.error(E());return new J.y(g?D=>g.schedule(p,0,D):p)}var Oe=v(6232),Ze=v(7394),Qe=v(9360);function Me(){return(0,Qe.e)((f,g)=>{let E=null;f._refCount++;const p=(0,O.x)(g,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(E=null);const D=f._connection,ne=E;E=null,D&&(!ne||D===ne)&&D.unsubscribe(),g.unsubscribe()});f.subscribe(p),p.closed||(E=f.connect())})}class He extends J.y{constructor(g,E){super(),this.source=g,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.A)(g)&&(this.lift=g.lift)}_subscribe(g){return this.getSubject().subscribe(g)}getSubject(){const g=this._subject;return(!g||g.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:g}=this;this._subject=this._connection=null,g?.unsubscribe()}connect(){let g=this._connection;if(!g){g=this._connection=new Ze.w0;const E=this.getSubject();g.add(this.source.subscribe((0,O.x)(E,void 0,()=>{this._teardown(),E.complete()},p=>{this._teardown(),E.error(p)},()=>this._teardown()))),g.closed&&(this._connection=null,g=Ze.w0.EMPTY)}return g}refCount(){return Me()(this)}}var Fe=v(8645),ee=v(6814),_e=v(7398),Le=v(4664),de=v(8180),S=v(2181),U=v(1631);function X(f){return(0,Qe.e)((g,E)=>{let p=!1;g.subscribe((0,O.x)(E,D=>{p=!0,E.next(D)},()=>{p||E.next(f),E.complete()}))})}function se(f=he){return(0,Qe.e)((g,E)=>{let p=!1;g.subscribe((0,O.x)(E,D=>{p=!0,E.next(D)},()=>p?E.complete():E.error(f())))})}function he(){return new me.K}function Ce(f,g){const E=arguments.length>=2;return p=>p.pipe(f?(0,S.h)((D,ne)=>f(D,ne,p)):Q.y,(0,de.q)(1),E?X(g):se(()=>new me.K))}var Pe=v(6328);function M(f,g,E){const p=(0,ie.m)(f)||g||E?{next:f,error:g,complete:E}:f;return p?(0,Qe.e)((D,ne)=>{var Ee;null===(Ee=p.subscribe)||void 0===Ee||Ee.call(p);let De=!0;D.subscribe((0,O.x)(ne,it=>{var ft;null===(ft=p.next)||void 0===ft||ft.call(p,it),ne.next(it)},()=>{var it;De=!1,null===(it=p.complete)||void 0===it||it.call(p),ne.complete()},it=>{var ft;De=!1,null===(ft=p.error)||void 0===ft||ft.call(p,it),ne.error(it)},()=>{var it,ft;De&&(null===(it=p.unsubscribe)||void 0===it||it.call(p)),null===(ft=p.finalize)||void 0===ft||ft.call(p)}))}):Q.y}function L(f){return(0,Qe.e)((g,E)=>{let ne,p=null,D=!1;p=g.subscribe((0,O.x)(E,void 0,void 0,Ee=>{ne=(0,W.Xf)(f(Ee,L(f)(g))),p?(p.unsubscribe(),p=null,ne.subscribe(E)):D=!0})),D&&(p.unsubscribe(),p=null,ne.subscribe(E))})}var re=v(6699);function fe(f){return f<=0?()=>Oe.E:(0,Qe.e)((g,E)=>{let p=[];g.subscribe((0,O.x)(E,D=>{p.push(D),f<p.length&&p.shift()},()=>{for(const D of p)E.next(D);E.complete()},void 0,()=>{p=null}))})}var Ue=v(4716),$e=v(6593);const Ge="primary",We=Symbol("RouteTitle");class nt{constructor(g){this.params=g||{}}has(g){return Object.prototype.hasOwnProperty.call(this.params,g)}get(g){if(this.has(g)){const E=this.params[g];return Array.isArray(E)?E[0]:E}return null}getAll(g){if(this.has(g)){const E=this.params[g];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Je(f){return new nt(f)}function vt(f,g,E){const p=E.path.split("/");if(p.length>f.length||"full"===E.pathMatch&&(g.hasChildren()||p.length<f.length))return null;const D={};for(let ne=0;ne<p.length;ne++){const Ee=p[ne],De=f[ne];if(Ee.startsWith(":"))D[Ee.substring(1)]=De;else if(Ee!==De.path)return null}return{consumed:f.slice(0,p.length),posParams:D}}function Ct(f,g){const E=f?Object.keys(f):void 0,p=g?Object.keys(g):void 0;if(!E||!p||E.length!=p.length)return!1;let D;for(let ne=0;ne<E.length;ne++)if(D=E[ne],!qt(f[D],g[D]))return!1;return!0}function qt(f,g){if(Array.isArray(f)&&Array.isArray(g)){if(f.length!==g.length)return!1;const E=[...f].sort(),p=[...g].sort();return E.every((D,ne)=>p[ne]===D)}return f===g}function _t(f){return f.length>0?f[f.length-1]:null}function Mt(f){return(0,y.b)(f)?f:(0,o.QGY)(f)?(0,$.D)(Promise.resolve(f)):(0,P.of)(f)}const In={exact:function xt(f,g,E){if(!wt(f.segments,g.segments)||!ae(f.segments,g.segments,E)||f.numberOfChildren!==g.numberOfChildren)return!1;for(const p in g.children)if(!f.children[p]||!xt(f.children[p],g.children[p],E))return!1;return!0},subset:Xt},Ut={exact:function It(f,g){return Ct(f,g)},subset:function Dt(f,g){return Object.keys(g).length<=Object.keys(f).length&&Object.keys(g).every(E=>qt(f[E],g[E]))},ignored:()=>!0};function Ke(f,g,E){return In[E.paths](f.root,g.root,E.matrixParams)&&Ut[E.queryParams](f.queryParams,g.queryParams)&&!("exact"===E.fragment&&f.fragment!==g.fragment)}function Xt(f,g,E){return Ve(f,g,g.segments,E)}function Ve(f,g,E,p){if(f.segments.length>E.length){const D=f.segments.slice(0,E.length);return!(!wt(D,E)||g.hasChildren()||!ae(D,E,p))}if(f.segments.length===E.length){if(!wt(f.segments,E)||!ae(f.segments,E,p))return!1;for(const D in g.children)if(!f.children[D]||!Xt(f.children[D],g.children[D],p))return!1;return!0}{const D=E.slice(0,f.segments.length),ne=E.slice(f.segments.length);return!!(wt(f.segments,D)&&ae(f.segments,D,p)&&f.children[Ge])&&Ve(f.children[Ge],g,ne,p)}}function ae(f,g,E){return g.every((p,D)=>Ut[E](f[D].parameters,p.parameters))}class we{constructor(g=new rt([],{}),E={},p=null){this.root=g,this.queryParams=E,this.fragment=p}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class rt{constructor(g,E){this.segments=g,this.children=E,this.parent=null,Object.values(E).forEach(p=>p.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yt(this)}}class lt{constructor(g,E){this.path=g,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Je(this.parameters)),this._parameterMap}toString(){return et(this)}}function wt(f,g){return f.length===g.length&&f.every((E,p)=>E.path===g[p].path)}let Qt=(()=>{var f;class g{}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:function(){return new on},providedIn:"root"}),g})();class on{parse(g){const E=new tt(g);return new we(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(g){const E=`/${Gt(g.root,!0)}`,p=function Pt(f){const g=Object.keys(f).map(E=>{const p=f[E];return Array.isArray(p)?p.map(D=>`${un(E)}=${un(D)}`).join("&"):`${un(E)}=${un(p)}`}).filter(E=>!!E);return g.length?`?${g.join("&")}`:""}(g.queryParams);return`${E}${p}${"string"==typeof g.fragment?`#${function st(f){return encodeURI(f)}(g.fragment)}`:""}`}}const Kt=new on;function Yt(f){return f.segments.map(g=>et(g)).join("/")}function Gt(f,g){if(!f.hasChildren())return Yt(f);if(g){const E=f.children[Ge]?Gt(f.children[Ge],!1):"",p=[];return Object.entries(f.children).forEach(([D,ne])=>{D!==Ge&&p.push(`${D}:${Gt(ne,!1)}`)}),p.length>0?`${E}(${p.join("//")})`:E}{const E=function zt(f,g){let E=[];return Object.entries(f.children).forEach(([p,D])=>{p===Ge&&(E=E.concat(g(D,p)))}),Object.entries(f.children).forEach(([p,D])=>{p!==Ge&&(E=E.concat(g(D,p)))}),E}(f,(p,D)=>D===Ge?[Gt(f.children[Ge],!1)]:[`${D}:${Gt(p,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Ge]?`${Yt(f)}/${E[0]}`:`${Yt(f)}/(${E.join("//")})`}}function On(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function un(f){return On(f).replace(/%3B/gi,";")}function ke(f){return On(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xe(f){return decodeURIComponent(f)}function Ne(f){return Xe(f.replace(/\+/g,"%20"))}function et(f){return`${ke(f.path)}${function ct(f){return Object.keys(f).map(g=>`;${ke(g)}=${ke(f[g])}`).join("")}(f.parameters)}`}const $t=/^[^\/()?;#]+/;function dn(f){const g=f.match($t);return g?g[0]:""}const An=/^[^\/()?;=#]+/,dr=/^[^=?&#]+/,Te=/^[^&#]+/;class tt{constructor(g){this.url=g,this.remaining=g}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){const g={};if(this.consumeOptional("?"))do{this.parseQueryParam(g)}while(this.consumeOptional("&"));return g}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const g=[];for(this.peekStartsWith("(")||g.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),g.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let p={};return this.peekStartsWith("(")&&(p=this.parseParens(!1)),(g.length>0||Object.keys(E).length>0)&&(p[Ge]=new rt(g,E)),p}parseSegment(){const g=dn(this.remaining);if(""===g&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(g),new lt(Xe(g),this.parseMatrixParams())}parseMatrixParams(){const g={};for(;this.consumeOptional(";");)this.parseParam(g);return g}parseParam(g){const E=function xn(f){const g=f.match(An);return g?g[0]:""}(this.remaining);if(!E)return;this.capture(E);let p="";if(this.consumeOptional("=")){const D=dn(this.remaining);D&&(p=D,this.capture(p))}g[Xe(E)]=Xe(p)}parseQueryParam(g){const E=function Be(f){const g=f.match(dr);return g?g[0]:""}(this.remaining);if(!E)return;this.capture(E);let p="";if(this.consumeOptional("=")){const Ee=function qe(f){const g=f.match(Te);return g?g[0]:""}(this.remaining);Ee&&(p=Ee,this.capture(p))}const D=Ne(E),ne=Ne(p);if(g.hasOwnProperty(D)){let Ee=g[D];Array.isArray(Ee)||(Ee=[Ee],g[D]=Ee),Ee.push(ne)}else g[D]=ne}parseParens(g){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const p=dn(this.remaining),D=this.remaining[p.length];if("/"!==D&&")"!==D&&";"!==D)throw new o.vHH(4010,!1);let ne;p.indexOf(":")>-1?(ne=p.slice(0,p.indexOf(":")),this.capture(ne),this.capture(":")):g&&(ne=Ge);const Ee=this.parseChildren();E[ne]=1===Object.keys(Ee).length?Ee[Ge]:new rt([],Ee),this.consumeOptional("//")}return E}peekStartsWith(g){return this.remaining.startsWith(g)}consumeOptional(g){return!!this.peekStartsWith(g)&&(this.remaining=this.remaining.substring(g.length),!0)}capture(g){if(!this.consumeOptional(g))throw new o.vHH(4011,!1)}}function dt(f){return f.segments.length>0?new rt([],{[Ge]:f}):f}function yt(f){const g={};for(const p of Object.keys(f.children)){const ne=yt(f.children[p]);if(p===Ge&&0===ne.segments.length&&ne.hasChildren())for(const[Ee,De]of Object.entries(ne.children))g[Ee]=De;else(ne.segments.length>0||ne.hasChildren())&&(g[p]=ne)}return function Vt(f){if(1===f.numberOfChildren&&f.children[Ge]){const g=f.children[Ge];return new rt(f.segments.concat(g.segments),g.children)}return f}(new rt(f.segments,g))}function Ft(f){return f instanceof we}function fn(f){let g;const D=dt(function E(ne){const Ee={};for(const it of ne.children){const ft=E(it);Ee[it.outlet]=ft}const De=new rt(ne.url,Ee);return ne===f&&(g=De),De}(f.root));return g??D}function Hn(f,g,E,p){let D=f;for(;D.parent;)D=D.parent;if(0===g.length)return $n(D,D,D,E,p);const ne=function yn(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new cn(!0,0,f);let g=0,E=!1;const p=f.reduce((D,ne,Ee)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const De={};return Object.entries(ne.outlets).forEach(([it,ft])=>{De[it]="string"==typeof ft?ft.split("/"):ft}),[...D,{outlets:De}]}if(ne.segmentPath)return[...D,ne.segmentPath]}return"string"!=typeof ne?[...D,ne]:0===Ee?(ne.split("/").forEach((De,it)=>{0==it&&"."===De||(0==it&&""===De?E=!0:".."===De?g++:""!=De&&D.push(De))}),D):[...D,ne]},[]);return new cn(E,g,p)}(g);if(ne.toRoot())return $n(D,D,new rt([],{}),E,p);const Ee=function Bn(f,g,E){if(f.isAbsolute)return new gn(g,!0,0);if(!E)return new gn(g,!1,NaN);if(null===E.parent)return new gn(E,!0,0);const p=jn(f.commands[0])?0:1;return function Pr(f,g,E){let p=f,D=g,ne=E;for(;ne>D;){if(ne-=D,p=p.parent,!p)throw new o.vHH(4005,!1);D=p.segments.length}return new gn(p,!1,D-ne)}(E,E.segments.length-1+p,f.numberOfDoubleDots)}(ne,D,f),De=Ee.processChildren?_r(Ee.segmentGroup,Ee.index,ne.commands):rr(Ee.segmentGroup,Ee.index,ne.commands);return $n(D,Ee.segmentGroup,De,E,p)}function jn(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Fn(f){return"object"==typeof f&&null!=f&&f.outlets}function $n(f,g,E,p,D){let Ee,ne={};p&&Object.entries(p).forEach(([it,ft])=>{ne[it]=Array.isArray(ft)?ft.map(Dn=>`${Dn}`):`${ft}`}),Ee=f===g?E:Zn(f,g,E);const De=dt(yt(Ee));return new we(De,ne,D)}function Zn(f,g,E){const p={};return Object.entries(f.children).forEach(([D,ne])=>{p[D]=ne===g?E:Zn(ne,g,E)}),new rt(f.segments,p)}class cn{constructor(g,E,p){if(this.isAbsolute=g,this.numberOfDoubleDots=E,this.commands=p,g&&p.length>0&&jn(p[0]))throw new o.vHH(4003,!1);const D=p.find(Fn);if(D&&D!==_t(p))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gn{constructor(g,E,p){this.segmentGroup=g,this.processChildren=E,this.index=p}}function rr(f,g,E){if(f||(f=new rt([],{})),0===f.segments.length&&f.hasChildren())return _r(f,g,E);const p=function sr(f,g,E){let p=0,D=g;const ne={match:!1,pathIndex:0,commandIndex:0};for(;D<f.segments.length;){if(p>=E.length)return ne;const Ee=f.segments[D],De=E[p];if(Fn(De))break;const it=`${De}`,ft=p<E.length-1?E[p+1]:null;if(D>0&&void 0===it)break;if(it&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!br(it,ft,Ee))return ne;p+=2}else{if(!br(it,{},Ee))return ne;p++}D++}return{match:!0,pathIndex:D,commandIndex:p}}(f,g,E),D=E.slice(p.commandIndex);if(p.match&&p.pathIndex<f.segments.length){const ne=new rt(f.segments.slice(0,p.pathIndex),{});return ne.children[Ge]=new rt(f.segments.slice(p.pathIndex),f.children),_r(ne,0,D)}return p.match&&0===D.length?new rt(f.segments,{}):p.match&&!f.hasChildren()?Tr(f,g,E):p.match?_r(f,0,D):Tr(f,g,E)}function _r(f,g,E){if(0===E.length)return new rt(f.segments,{});{const p=function Sn(f){return Fn(f[0])?f[0].outlets:{[Ge]:f}}(E),D={};if(Object.keys(p).some(ne=>ne!==Ge)&&f.children[Ge]&&1===f.numberOfChildren&&0===f.children[Ge].segments.length){const ne=_r(f.children[Ge],g,E);return new rt(f.segments,ne.children)}return Object.entries(p).forEach(([ne,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(D[ne]=rr(f.children[ne],g,Ee))}),Object.entries(f.children).forEach(([ne,Ee])=>{void 0===p[ne]&&(D[ne]=Ee)}),new rt(f.segments,D)}}function Tr(f,g,E){const p=f.segments.slice(0,g);let D=0;for(;D<E.length;){const ne=E[D];if(Fn(ne)){const it=Ds(ne.outlets);return new rt(p,it)}if(0===D&&jn(E[0])){p.push(new lt(f.segments[g].path,yr(E[0]))),D++;continue}const Ee=Fn(ne)?ne.outlets[Ge]:`${ne}`,De=D<E.length-1?E[D+1]:null;Ee&&De&&jn(De)?(p.push(new lt(Ee,yr(De))),D+=2):(p.push(new lt(Ee,{})),D++)}return new rt(p,{})}function Ds(f){const g={};return Object.entries(f).forEach(([E,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(g[E]=Tr(new rt([],{}),0,p))}),g}function yr(f){const g={};return Object.entries(f).forEach(([E,p])=>g[E]=`${p}`),g}function br(f,g,E){return f==E.path&&Ct(g,E.parameters)}const kr="imperative";class ir{constructor(g,E){this.id=g,this.url=E}}class Jn extends ir{constructor(g,E,p="imperative",D=null){super(g,E),this.type=0,this.navigationTrigger=p,this.restoredState=D}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends ir{constructor(g,E,p){super(g,E),this.urlAfterRedirects=p,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Us extends ir{constructor(g,E,p,D){super(g,E),this.reason=p,this.code=D,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ws extends ir{constructor(g,E,p,D){super(g,E),this.reason=p,this.code=D,this.type=16}}class fr extends ir{constructor(g,E,p,D){super(g,E),this.error=p,this.target=D,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pi extends ir{constructor(g,E,p,D){super(g,E),this.urlAfterRedirects=p,this.state=D,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends ir{constructor(g,E,p,D){super(g,E),this.urlAfterRedirects=p,this.state=D,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi extends ir{constructor(g,E,p,D,ne){super(g,E),this.urlAfterRedirects=p,this.state=D,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends ir{constructor(g,E,p,D){super(g,E),this.urlAfterRedirects=p,this.state=D,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As extends ir{constructor(g,E,p,D){super(g,E),this.urlAfterRedirects=p,this.state=D,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs{constructor(g){this.route=g,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class js{constructor(g){this.route=g,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(g){this.snapshot=g,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(g){this.snapshot=g,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bs{constructor(g){this.snapshot=g,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(g){this.snapshot=g,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(g,E,p){this.routerEvent=g,this.position=E,this.anchor=p,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ps{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ir,this.attachRef=null}}let Ir=(()=>{var f;class g{constructor(){this.contexts=new Map}onChildOutletCreated(p,D){const ne=this.getOrCreateContext(p);ne.outlet=D,this.contexts.set(p,ne)}onChildOutletDestroyed(p){const D=this.getContext(p);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let D=this.getContext(p);return D||(D=new Ps,this.contexts.set(p,D)),D}getContext(p){return this.contexts.get(p)||null}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();class Gs{constructor(g){this._root=g}get root(){return this._root.value}parent(g){const E=this.pathFromRoot(g);return E.length>1?E[E.length-2]:null}children(g){const E=is(g,this._root);return E?E.children.map(p=>p.value):[]}firstChild(g){const E=is(g,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(g){const E=fs(g,this._root);return E.length<2?[]:E[E.length-2].children.map(D=>D.value).filter(D=>D!==g)}pathFromRoot(g){return fs(g,this._root).map(E=>E.value)}}function is(f,g){if(f===g.value)return g;for(const E of g.children){const p=is(f,E);if(p)return p}return null}function fs(f,g){if(f===g.value)return[g];for(const E of g.children){const p=fs(f,E);if(p.length)return p.unshift(g),p}return[]}class Sr{constructor(g,E){this.value=g,this.children=E}toString(){return`TreeNode(${this.value})`}}function pn(f){const g={};return f&&f.children.forEach(E=>g[E.value.outlet]=E),g}class Vn extends Gs{constructor(g,E){super(g),this.snapshot=E,Fs(this,g)}toString(){return this.snapshot.toString()}}function zn(f,g){const E=function Lr(f,g){const Ee=new Cr([],{},{},"",{},Ge,g,null,{});return new Is("",new Sr(Ee,[]))}(0,g),p=new z.X([new lt("",{})]),D=new z.X({}),ne=new z.X({}),Ee=new z.X({}),De=new z.X(""),it=new Nn(p,D,Ee,De,ne,Ge,g,E.root);return it.snapshot=E.root,new Vn(new Sr(it,[]),E)}class Nn{constructor(g,E,p,D,ne,Ee,De,it){this.urlSubject=g,this.paramsSubject=E,this.queryParamsSubject=p,this.fragmentSubject=D,this.dataSubject=ne,this.outlet=Ee,this.component=De,this._futureSnapshot=it,this.title=this.dataSubject?.pipe((0,_e.U)(ft=>ft[We]))??(0,P.of)(void 0),this.url=g,this.params=E,this.queryParams=p,this.fragment=D,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.U)(g=>Je(g)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.U)(g=>Je(g)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ts(f,g="emptyOnly"){const E=f.pathFromRoot;let p=0;if("always"!==g)for(p=E.length-1;p>=1;){const D=E[p],ne=E[p-1];if(D.routeConfig&&""===D.routeConfig.path)p--;else{if(ne.component)break;p--}}return function Kr(f){return f.reduce((g,E)=>({params:{...g.params,...E.params},data:{...g.data,...E.data},resolve:{...E.data,...g.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(p))}class Cr{get title(){return this.data?.[We]}constructor(g,E,p,D,ne,Ee,De,it,ft){this.url=g,this.params=E,this.queryParams=p,this.fragment=D,this.data=ne,this.outlet=Ee,this.component=De,this.routeConfig=it,this._resolve=ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Je(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Je(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(p=>p.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Is extends Gs{constructor(g,E){super(E),this.url=g,Fs(this,E)}toString(){return kn(this._root)}}function Fs(f,g){g.value._routerState=f,g.children.forEach(E=>Fs(f,E))}function kn(f){const g=f.children.length>0?` { ${f.children.map(kn).join(", ")} } `:"";return`${f.value}${g}`}function Tt(f){if(f.snapshot){const g=f.snapshot,E=f._futureSnapshot;f.snapshot=E,Ct(g.queryParams,E.queryParams)||f.queryParamsSubject.next(E.queryParams),g.fragment!==E.fragment&&f.fragmentSubject.next(E.fragment),Ct(g.params,E.params)||f.paramsSubject.next(E.params),function at(f,g){if(f.length!==g.length)return!1;for(let E=0;E<f.length;++E)if(!Ct(f[E],g[E]))return!1;return!0}(g.url,E.url)||f.urlSubject.next(E.url),Ct(g.data,E.data)||f.dataSubject.next(E.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function Zt(f,g){const E=Ct(f.params,g.params)&&function Bt(f,g){return wt(f,g)&&f.every((E,p)=>Ct(E.parameters,g[p].parameters))}(f.url,g.url);return E&&!(!f.parent!=!g.parent)&&(!f.parent||Zt(f.parent,g.parent))}let Cn=(()=>{var f;class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Ir),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb),this.inputBinder=(0,o.f3M)(Fr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(p){if(p.name){const{firstChange:D,previousValue:ne}=p.name;if(D)return;this.isTrackedInParentContexts(ne)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ne)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,!1);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,D){this.activated=p,this._activatedRoute=D,this.location.insert(p.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,D){if(this.isActivated)throw new o.vHH(4013,!1);this._activatedRoute=p;const ne=this.location,De=p.snapshot.component,it=this.parentContexts.getOrCreateContext(this.name).children,ft=new nr(p,it,ne.injector);this.activated=ne.createComponent(De,{index:ne.length,injector:ft,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275dir=o.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),g})();class nr{constructor(g,E,p){this.route=g,this.childContexts=E,this.parent=p}get(g,E){return g===Nn?this.route:g===Ir?this.childContexts:this.parent.get(g,E)}}const Fr=new o.OlP("");let Xn=(()=>{var f;class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){this.outletDataSubscriptions.get(p)?.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:D}=p,ne=x([D.queryParams,D.params,D.data]).pipe((0,Le.w)(([Ee,De,it],ft)=>(it={...Ee,...De,...it},0===ft?(0,P.of)(it):Promise.resolve(it)))).subscribe(Ee=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(p);const De=(0,o.qFp)(D.component);if(De)for(const{templateName:it}of De.inputs)p.activatedComponentRef.setInput(it,Ee[it]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,ne)}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac}),g})();function Ln(f,g,E){if(E&&f.shouldReuseRoute(g.value,E.value.snapshot)){const p=E.value;p._futureSnapshot=g.value;const D=function Dr(f,g,E){return g.children.map(p=>{for(const D of E.children)if(f.shouldReuseRoute(p.value,D.value.snapshot))return Ln(f,p,D);return Ln(f,p)})}(f,g,E);return new Sr(p,D)}{if(f.shouldAttach(g.value)){const ne=f.retrieve(g.value);if(null!==ne){const Ee=ne.route;return Ee.value._futureSnapshot=g.value,Ee.children=g.children.map(De=>Ln(f,De)),Ee}}const p=function ps(f){return new Nn(new z.X(f.url),new z.X(f.params),new z.X(f.queryParams),new z.X(f.fragment),new z.X(f.data),f.outlet,f.component,f)}(g.value),D=g.children.map(ne=>Ln(f,ne));return new Sr(p,D)}}const Jt="ngNavigationCancelingError";function zr(f,g){const{redirectTo:E,navigationBehaviorOptions:p}=Ft(g)?{redirectTo:g,navigationBehaviorOptions:void 0}:g,D=gs(!1,0,g);return D.url=E,D.navigationBehaviorOptions=p,D}function gs(f,g,E){const p=new Error("NavigationCancelingError: "+(f||""));return p[Jt]=!0,p.cancellationCode=g,E&&(p.url=E),p}function wr(f){return Rn(f)&&Ft(f.url)}function Rn(f){return f&&f[Jt]}let Ur=(()=>{var f;class g{}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275cmp=o.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(p,D){1&p&&o._UZ(0,"router-outlet")},dependencies:[Cn],encapsulation:2}),g})();function Xs(f){const g=f.children&&f.children.map(Xs),E=g?{...f,children:g}:{...f};return!E.component&&!E.loadComponent&&(g||E.loadChildren)&&E.outlet&&E.outlet!==Ge&&(E.component=Ur),E}function gr(f){return f.outlet||Ge}function ve(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let g=f.parent;g;g=g.parent){const E=g.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class ot{constructor(g,E,p,D,ne){this.routeReuseStrategy=g,this.futureState=E,this.currState=p,this.forwardEvent=D,this.inputBindingEnabled=ne}activate(g){const E=this.futureState._root,p=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,p,g),Tt(this.futureState.root),this.activateChildRoutes(E,p,g)}deactivateChildRoutes(g,E,p){const D=pn(E);g.children.forEach(ne=>{const Ee=ne.value.outlet;this.deactivateRoutes(ne,D[Ee],p),delete D[Ee]}),Object.values(D).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,p)})}deactivateRoutes(g,E,p){const D=g.value,ne=E?E.value:null;if(D===ne)if(D.component){const Ee=p.getContext(D.outlet);Ee&&this.deactivateChildRoutes(g,E,Ee.children)}else this.deactivateChildRoutes(g,E,p);else ne&&this.deactivateRouteAndItsChildren(E,p)}deactivateRouteAndItsChildren(g,E){g.value.component&&this.routeReuseStrategy.shouldDetach(g.value.snapshot)?this.detachAndStoreRouteSubtree(g,E):this.deactivateRouteAndOutlet(g,E)}detachAndStoreRouteSubtree(g,E){const p=E.getContext(g.value.outlet),D=p&&g.value.component?p.children:E,ne=pn(g);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],D);if(p&&p.outlet){const Ee=p.outlet.detach(),De=p.children.onOutletDeactivated();this.routeReuseStrategy.store(g.value.snapshot,{componentRef:Ee,route:g,contexts:De})}}deactivateRouteAndOutlet(g,E){const p=E.getContext(g.value.outlet),D=p&&g.value.component?p.children:E,ne=pn(g);for(const Ee of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Ee],D);p&&(p.outlet&&(p.outlet.deactivate(),p.children.onOutletDeactivated()),p.attachRef=null,p.route=null)}activateChildRoutes(g,E,p){const D=pn(E);g.children.forEach(ne=>{this.activateRoutes(ne,D[ne.value.outlet],p),this.forwardEvent(new ss(ne.value.snapshot))}),g.children.length&&this.forwardEvent(new rs(g.value.snapshot))}activateRoutes(g,E,p){const D=g.value,ne=E?E.value:null;if(Tt(D),D===ne)if(D.component){const Ee=p.getOrCreateContext(D.outlet);this.activateChildRoutes(g,E,Ee.children)}else this.activateChildRoutes(g,E,p);else if(D.component){const Ee=p.getOrCreateContext(D.outlet);if(this.routeReuseStrategy.shouldAttach(D.snapshot)){const De=this.routeReuseStrategy.retrieve(D.snapshot);this.routeReuseStrategy.store(D.snapshot,null),Ee.children.onOutletReAttached(De.contexts),Ee.attachRef=De.componentRef,Ee.route=De.route.value,Ee.outlet&&Ee.outlet.attach(De.componentRef,De.route.value),Tt(De.route.value),this.activateChildRoutes(g,null,Ee.children)}else{const De=ve(D.snapshot);Ee.attachRef=null,Ee.route=D,Ee.injector=De,Ee.outlet&&Ee.outlet.activateWith(D,Ee.injector),this.activateChildRoutes(g,null,Ee.children)}}else this.activateChildRoutes(g,null,p)}}class ht{constructor(g){this.path=g,this.route=this.path[this.path.length-1]}}class kt{constructor(g,E){this.component=g,this.route=E}}function rn(f,g,E){const p=f._root;return vn(p,g?g._root:null,E,[p.value])}function Mn(f,g){const E=Symbol(),p=g.get(f,E);return p===E?"function"!=typeof f||(0,o.Z0I)(f)?g.get(f):f:p}function vn(f,g,E,p,D={canDeactivateChecks:[],canActivateChecks:[]}){const ne=pn(g);return f.children.forEach(Ee=>{(function or(f,g,E,p,D={canDeactivateChecks:[],canActivateChecks:[]}){const ne=f.value,Ee=g?g.value:null,De=E?E.getContext(f.value.outlet):null;if(Ee&&ne.routeConfig===Ee.routeConfig){const it=function ar(f,g,E){if("function"==typeof E)return E(f,g);switch(E){case"pathParamsChange":return!wt(f.url,g.url);case"pathParamsOrQueryParamsChange":return!wt(f.url,g.url)||!Ct(f.queryParams,g.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zt(f,g)||!Ct(f.queryParams,g.queryParams);default:return!Zt(f,g)}}(Ee,ne,ne.routeConfig.runGuardsAndResolvers);it?D.canActivateChecks.push(new ht(p)):(ne.data=Ee.data,ne._resolvedData=Ee._resolvedData),vn(f,g,ne.component?De?De.children:null:E,p,D),it&&De&&De.outlet&&De.outlet.isActivated&&D.canDeactivateChecks.push(new kt(De.outlet.component,Ee))}else Ee&&Vr(g,De,D),D.canActivateChecks.push(new ht(p)),vn(f,null,ne.component?De?De.children:null:E,p,D)})(Ee,ne[Ee.value.outlet],E,p.concat([Ee.value]),D),delete ne[Ee.value.outlet]}),Object.entries(ne).forEach(([Ee,De])=>Vr(De,E.getContext(Ee),D)),D}function Vr(f,g,E){const p=pn(f),D=f.value;Object.entries(p).forEach(([ne,Ee])=>{Vr(Ee,D.component?g?g.children.getContext(ne):null:g,E)}),E.canDeactivateChecks.push(new kt(D.component&&g&&g.outlet&&g.outlet.isActivated?g.outlet.component:null,D))}function _s(f){return"function"==typeof f}function bt(f){return f instanceof me.K||"EmptyError"===f?.name}const en=Symbol("INITIAL_VALUE");function Wn(){return(0,Le.w)(f=>x(f.map(g=>g.pipe((0,de.q)(1),function C(...f){const g=(0,H.yG)(f);return(0,Qe.e)((E,p)=>{(g?N(f,E,g):N(f,E)).subscribe(p)})}(en)))).pipe((0,_e.U)(g=>{for(const E of g)if(!0!==E){if(E===en)return en;if(!1===E||E instanceof we)return E}return!0}),(0,S.h)(g=>g!==en),(0,de.q)(1)))}function Ei(f){return(0,ge.z)(M(g=>{if(Ft(g))throw zr(0,g)}),(0,_e.U)(g=>!0===g))}class li{constructor(g){this.segmentGroup=g||null}}class $i{constructor(g){this.urlTree=g}}function Zr(f){return Y(new li(f))}function Qs(f){return Y(new $i(f))}class Wi{constructor(g,E){this.urlSerializer=g,this.urlTree=E}noMatchError(g){return new o.vHH(4002,!1)}lineralizeSegments(g,E){let p=[],D=E.root;for(;;){if(p=p.concat(D.segments),0===D.numberOfChildren)return(0,P.of)(p);if(D.numberOfChildren>1||!D.children[Ge])return Y(new o.vHH(4e3,!1));D=D.children[Ge]}}applyRedirectCommands(g,E,p){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),g,p)}applyRedirectCreateUrlTree(g,E,p,D){const ne=this.createSegmentGroup(g,E.root,p,D);return new we(ne,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(g,E){const p={};return Object.entries(g).forEach(([D,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const De=ne.substring(1);p[D]=E[De]}else p[D]=ne}),p}createSegmentGroup(g,E,p,D){const ne=this.createSegments(g,E.segments,p,D);let Ee={};return Object.entries(E.children).forEach(([De,it])=>{Ee[De]=this.createSegmentGroup(g,it,p,D)}),new rt(ne,Ee)}createSegments(g,E,p,D){return E.map(ne=>ne.path.startsWith(":")?this.findPosParam(g,ne,D):this.findOrReturn(ne,p))}findPosParam(g,E,p){const D=p[E.path.substring(1)];if(!D)throw new o.vHH(4001,!1);return D}findOrReturn(g,E){let p=0;for(const D of E){if(D.path===g.path)return E.splice(p),D;p++}return g}}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ao(f,g,E,p,D){const ne=Wr(f,g,E);return ne.matched?(p=function Xr(f,g){return f.providers&&!f._injector&&(f._injector=(0,o.MMx)(f.providers,g,`Route: ${f.path}`)),f._injector??g}(g,p),function Hs(f,g,E,p){const D=g.canMatch;if(!D||0===D.length)return(0,P.of)(!0);const ne=D.map(Ee=>{const De=Mn(Ee,f);return Mt(function le(f){return f&&_s(f.canMatch)}(De)?De.canMatch(g,E):f.runInContext(()=>De(g,E)))});return(0,P.of)(ne).pipe(Wn(),Ei())}(p,g,E).pipe((0,_e.U)(Ee=>!0===Ee?ne:{...qi}))):(0,P.of)(ne)}function Wr(f,g,E){if(""===g.path)return"full"===g.pathMatch&&(f.hasChildren()||E.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const D=(g.matcher||vt)(E,f,g);if(!D)return{...qi};const ne={};Object.entries(D.posParams??{}).forEach(([De,it])=>{ne[De]=it.path});const Ee=D.consumed.length>0?{...ne,...D.consumed[D.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:D.consumed,remainingSegments:E.slice(D.consumed.length),parameters:Ee,positionalParamSegments:D.posParams??{}}}function ci(f,g,E,p){return E.length>0&&function Ti(f,g,E){return E.some(p=>$s(f,g,p)&&gr(p)!==Ge)}(f,E,p)?{segmentGroup:new rt(g,Si(p,new rt(E,f.children))),slicedSegments:[]}:0===E.length&&function Zs(f,g,E){return E.some(p=>$s(f,g,p))}(f,E,p)?{segmentGroup:new rt(f.segments,lr(f,0,E,p,f.children)),slicedSegments:E}:{segmentGroup:new rt(f.segments,f.children),slicedSegments:E}}function lr(f,g,E,p,D){const ne={};for(const Ee of p)if($s(f,E,Ee)&&!D[gr(Ee)]){const De=new rt([],{});ne[gr(Ee)]=De}return{...D,...ne}}function Si(f,g){const E={};E[Ge]=g;for(const p of f)if(""===p.path&&gr(p)!==Ge){const D=new rt([],{});E[gr(p)]=D}return E}function $s(f,g,E){return(!(f.hasChildren()||g.length>0)||"full"!==E.pathMatch)&&""===E.path}class lo{constructor(g,E,p,D,ne,Ee,De){this.injector=g,this.configLoader=E,this.rootComponentType=p,this.config=D,this.urlTree=ne,this.paramsInheritanceStrategy=Ee,this.urlSerializer=De,this.allowRedirects=!0,this.applyRedirects=new Wi(this.urlSerializer,this.urlTree)}noMatchError(g){return new o.vHH(4002,!1)}recognize(){const g=ci(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,g,Ge).pipe(L(E=>{if(E instanceof $i)return this.allowRedirects=!1,this.urlTree=E.urlTree,this.match(E.urlTree);throw E instanceof li?this.noMatchError(E):E}),(0,_e.U)(E=>{const p=new Cr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ge,this.rootComponentType,null,{}),D=new Sr(p,E),ne=new Is("",D),Ee=function hn(f,g,E=null,p=null){return Hn(fn(f),g,E,p)}(p,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(ne._root),{state:ne,tree:Ee}}))}match(g){return this.processSegmentGroup(this.injector,this.config,g.root,Ge).pipe(L(p=>{throw p instanceof li?this.noMatchError(p):p}))}inheritParamsAndData(g){const E=g.value,p=Ts(E,this.paramsInheritanceStrategy);E.params=Object.freeze(p.params),E.data=Object.freeze(p.data),g.children.forEach(D=>this.inheritParamsAndData(D))}processSegmentGroup(g,E,p,D){return 0===p.segments.length&&p.hasChildren()?this.processChildren(g,E,p):this.processSegment(g,E,p,p.segments,D,!0)}processChildren(g,E,p){const D=[];for(const ne of Object.keys(p.children))"primary"===ne?D.unshift(ne):D.push(ne);return(0,$.D)(D).pipe((0,Pe.b)(ne=>{const Ee=p.children[ne],De=function ce(f,g){const E=f.filter(p=>gr(p)===g);return E.push(...f.filter(p=>gr(p)!==g)),E}(E,ne);return this.processSegmentGroup(g,De,Ee,ne)}),(0,re.R)((ne,Ee)=>(ne.push(...Ee),ne)),X(null),function Se(f,g){const E=arguments.length>=2;return p=>p.pipe(f?(0,S.h)((D,ne)=>f(D,ne,p)):Q.y,fe(1),E?X(g):se(()=>new me.K))}(),(0,U.z)(ne=>{if(null===ne)return Zr(p);const Ee=ui(ne);return function Ii(f){f.sort((g,E)=>g.value.outlet===Ge?-1:E.value.outlet===Ge?1:g.value.outlet.localeCompare(E.value.outlet))}(Ee),(0,P.of)(Ee)}))}processSegment(g,E,p,D,ne,Ee){return(0,$.D)(E).pipe((0,Pe.b)(De=>this.processSegmentAgainstRoute(De._injector??g,E,De,p,D,ne,Ee).pipe(L(it=>{if(it instanceof li)return(0,P.of)(null);throw it}))),Ce(De=>!!De),L(De=>{if(bt(De))return function Qo(f,g,E){return 0===g.length&&!f.children[E]}(p,D,ne)?(0,P.of)([]):Zr(p);throw De}))}processSegmentAgainstRoute(g,E,p,D,ne,Ee,De){return function Ci(f,g,E,p){return!!(gr(f)===p||p!==Ge&&$s(g,E,f))&&("**"===f.path||Wr(g,f,E).matched)}(p,D,ne,Ee)?void 0===p.redirectTo?this.matchSegmentAgainstRoute(g,D,p,ne,Ee,De):De&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(g,D,E,p,ne,Ee):Zr(D):Zr(D)}expandSegmentAgainstRouteUsingRedirect(g,E,p,D,ne,Ee){return"**"===D.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(g,p,D,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(g,E,p,D,ne,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(g,E,p,D){const ne=this.applyRedirects.applyRedirectCommands([],p.redirectTo,{});return p.redirectTo.startsWith("/")?Qs(ne):this.applyRedirects.lineralizeSegments(p,ne).pipe((0,U.z)(Ee=>{const De=new rt(Ee,{});return this.processSegment(g,E,De,Ee,D,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(g,E,p,D,ne,Ee){const{matched:De,consumedSegments:it,remainingSegments:ft,positionalParamSegments:Dn}=Wr(E,D,ne);if(!De)return Zr(E);const sn=this.applyRedirects.applyRedirectCommands(it,D.redirectTo,Dn);return D.redirectTo.startsWith("/")?Qs(sn):this.applyRedirects.lineralizeSegments(D,sn).pipe((0,U.z)(ur=>this.processSegment(g,p,E,ur.concat(ft),Ee,!1)))}matchSegmentAgainstRoute(g,E,p,D,ne,Ee){let De;if("**"===p.path){const it=D.length>0?_t(D).parameters:{},ft=new Cr(D,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yi(p),gr(p),p.component??p._loadedComponent??null,p,G(p));De=(0,P.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]}),E.children={}}else De=ao(E,p,D,g).pipe((0,_e.U)(({matched:it,consumedSegments:ft,remainingSegments:Dn,parameters:sn})=>it?{snapshot:new Cr(ft,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yi(p),gr(p),p.component??p._loadedComponent??null,p,G(p)),consumedSegments:ft,remainingSegments:Dn}:null));return De.pipe((0,Le.w)(it=>null===it?Zr(E):this.getChildConfig(g=p._injector??g,p,D).pipe((0,Le.w)(({routes:ft})=>{const Dn=p._loadedInjector??g,{snapshot:sn,consumedSegments:ur,remainingSegments:zs}=it,{segmentGroup:Ni,slicedSegments:ki}=ci(E,ur,zs,ft);if(0===ki.length&&Ni.hasChildren())return this.processChildren(Dn,ft,Ni).pipe((0,_e.U)(cs=>null===cs?null:[new Sr(sn,cs)]));if(0===ft.length&&0===ki.length)return(0,P.of)([new Sr(sn,[])]);const Li=gr(p)===ne;return this.processSegment(Dn,ft,Ni,ki,Li?Ge:ne,!0).pipe((0,_e.U)(cs=>[new Sr(sn,cs)]))}))))}getChildConfig(g,E,p){return E.children?(0,P.of)({routes:E.children,injector:g}):E.loadChildren?void 0!==E._loadedRoutes?(0,P.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Hi(f,g,E,p){const D=g.canLoad;if(void 0===D||0===D.length)return(0,P.of)(!0);const ne=D.map(Ee=>{const De=Mn(Ee,f);return Mt(function ii(f){return f&&_s(f.canLoad)}(De)?De.canLoad(g,E):f.runInContext(()=>De(g,E)))});return(0,P.of)(ne).pipe(Wn(),Ei())}(g,E,p).pipe((0,U.z)(D=>D?this.configLoader.loadChildren(g,E).pipe(M(ne=>{E._loadedRoutes=ne.routes,E._loadedInjector=ne.injector})):function oo(f){return Y(gs(!1,3))}())):(0,P.of)({routes:[],injector:g})}}function Fi(f){const g=f.value.routeConfig;return g&&""===g.path}function ui(f){const g=[],E=new Set;for(const p of f){if(!Fi(p)){g.push(p);continue}const D=g.find(ne=>p.value.routeConfig===ne.value.routeConfig);void 0!==D?(D.children.push(...p.children),E.add(D)):g.push(p)}for(const p of E){const D=ui(p.children);g.push(new Sr(p.value,D))}return g.filter(p=>!E.has(p))}function Yi(f){return f.data||{}}function G(f){return f.resolve||{}}function oe(f){return"string"==typeof f.title||null===f.title}function Ae(f){return(0,Le.w)(g=>{const E=f(g);return E?(0,$.D)(E).pipe((0,_e.U)(()=>g)):(0,P.of)(g)})}const Ye=new o.OlP("ROUTES");let St=(()=>{var f;class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,P.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const D=Mt(p.loadComponent()).pipe((0,_e.U)(Rt),M(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=Ee}),(0,Ue.x)(()=>{this.componentLoaders.delete(p)})),ne=new He(D,()=>new Fe.x).pipe(Me());return this.componentLoaders.set(p,ne),ne}loadChildren(p,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,P.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const Ee=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,_e.U)(it=>{this.onLoadEndListener&&this.onLoadEndListener(D);let ft,Dn;return Array.isArray(it)?Dn=it:(ft=it.create(p).injector,Dn=ft.get(Ye,[],o.XFs.Self|o.XFs.Optional).flat()),{routes:Dn.map(Xs),injector:ft}}),(0,Ue.x)(()=>{this.childrenLoaders.delete(D)})),De=new He(Ee,()=>new Fe.x).pipe(Me());return this.childrenLoaders.set(D,De),De}loadModuleFactoryOrRoutes(p){return Mt(p()).pipe((0,_e.U)(Rt),(0,U.z)(D=>D instanceof o.YKP||Array.isArray(D)?(0,P.of)(D):(0,$.D)(this.compiler.compileModuleAsync(D))))}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();function Rt(f){return function gt(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let Lt=(()=>{var f;class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.configLoader=(0,o.f3M)(St),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Qt),this.rootContexts=(0,o.f3M)(Ir),this.inputBindingEnabled=null!==(0,o.f3M)(Fr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,P.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ne=>this.events.next(new js(ne)),this.configLoader.onLoadStartListener=ne=>this.events.next(new Vs(ne))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:D})}setupNavigations(p){return this.transitions=new z.X({id:0,currentUrlTree:p.currentUrlTree,currentRawUrl:p.currentUrlTree,extractedUrl:p.urlHandlingStrategy.extract(p.currentUrlTree),urlAfterRedirects:p.urlHandlingStrategy.extract(p.currentUrlTree),rawUrl:p.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kr,restoredState:null,currentSnapshot:p.routerState.snapshot,targetSnapshot:null,currentRouterState:p.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,S.h)(D=>0!==D.id),(0,_e.U)(D=>({...D,extractedUrl:p.urlHandlingStrategy.extract(D.rawUrl)})),(0,Le.w)(D=>{let ne=!1,Ee=!1;return(0,P.of)(D).pipe(M(De=>{this.currentNavigation={id:De.id,initialUrl:De.rawUrl,extractedUrl:De.extractedUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Le.w)(De=>{const it=p.browserUrlTree.toString(),ft=!p.navigated||De.extractedUrl.toString()!==it||it!==p.currentUrlTree.toString();if(!ft&&"reload"!==(De.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const sn="";return this.events.next(new ws(De.id,p.serializeUrl(D.rawUrl),sn,0)),p.rawUrlTree=De.rawUrl,De.resolve(null),Oe.E}if(p.urlHandlingStrategy.shouldProcessUrl(De.rawUrl))return At(De.source)&&(p.browserUrlTree=De.extractedUrl),(0,P.of)(De).pipe((0,Le.w)(sn=>{const ur=this.transitions?.getValue();return this.events.next(new Jn(sn.id,this.urlSerializer.serialize(sn.extractedUrl),sn.source,sn.restoredState)),ur!==this.transitions?.getValue()?Oe.E:Promise.resolve(sn)}),function i(f,g,E,p,D,ne){return(0,U.z)(Ee=>function Zo(f,g,E,p,D,ne,Ee="emptyOnly"){return new lo(f,g,E,p,D,Ee,ne).recognize()}(f,g,E,p,Ee.extractedUrl,D,ne).pipe((0,_e.U)(({state:De,tree:it})=>({...Ee,targetSnapshot:De,urlAfterRedirects:it}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,p.config,this.urlSerializer,p.paramsInheritanceStrategy),M(sn=>{if(D.targetSnapshot=sn.targetSnapshot,D.urlAfterRedirects=sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:sn.urlAfterRedirects},"eager"===p.urlUpdateStrategy){if(!sn.extras.skipLocationChange){const zs=p.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl);p.setBrowserUrl(zs,sn)}p.browserUrlTree=sn.urlAfterRedirects}const ur=new Pi(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(ur)}));if(ft&&p.urlHandlingStrategy.shouldProcessUrl(p.rawUrlTree)){const{id:sn,extractedUrl:ur,source:zs,restoredState:Ni,extras:ki}=De,Li=new Jn(sn,this.urlSerializer.serialize(ur),zs,Ni);this.events.next(Li);const cs=zn(0,this.rootComponentType).snapshot;return D={...De,targetSnapshot:cs,urlAfterRedirects:ur,extras:{...ki,skipLocationChange:!1,replaceUrl:!1}},(0,P.of)(D)}{const sn="";return this.events.next(new ws(De.id,p.serializeUrl(D.extractedUrl),sn,1)),p.rawUrlTree=De.rawUrl,De.resolve(null),Oe.E}}),M(De=>{const it=new Er(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(De.urlAfterRedirects),De.targetSnapshot);this.events.next(it)}),(0,_e.U)(De=>D={...De,guards:rn(De.targetSnapshot,De.currentSnapshot,this.rootContexts)}),function jr(f,g){return(0,U.z)(E=>{const{targetSnapshot:p,currentSnapshot:D,guards:{canActivateChecks:ne,canDeactivateChecks:Ee}}=E;return 0===Ee.length&&0===ne.length?(0,P.of)({...E,guardsResult:!0}):function Qr(f,g,E,p){return(0,$.D)(f).pipe((0,U.z)(D=>function io(f,g,E,p,D){const ne=g&&g.routeConfig?g.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,P.of)(!0);const Ee=ne.map(De=>{const it=ve(g)??D,ft=Mn(De,it);return Mt(function w(f){return f&&_s(f.canDeactivate)}(ft)?ft.canDeactivate(f,g,E,p):it.runInContext(()=>ft(f,g,E,p))).pipe(Ce())});return(0,P.of)(Ee).pipe(Wn())}(D.component,D.route,E,g,p)),Ce(D=>!0!==D,!0))}(Ee,p,D,f).pipe((0,U.z)(De=>De&&function qn(f){return"boolean"==typeof f}(De)?function Br(f,g,E,p){return(0,$.D)(g).pipe((0,Pe.b)(D=>N(function ai(f,g){return null!==f&&g&&g(new Yr(f)),(0,P.of)(!0)}(D.route.parent,p),function oi(f,g){return null!==f&&g&&g(new Bs(f)),(0,P.of)(!0)}(D.route,p),function Gi(f,g,E){const p=g[g.length-1],ne=g.slice(0,g.length-1).reverse().map(Ee=>function an(f){const g=f.routeConfig?f.routeConfig.canActivateChild:null;return g&&0!==g.length?{node:f,guards:g}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>ue(()=>{const De=Ee.guards.map(it=>{const ft=ve(Ee.node)??E,Dn=Mn(it,ft);return Mt(function R(f){return f&&_s(f.canActivateChild)}(Dn)?Dn.canActivateChild(p,f):ft.runInContext(()=>Dn(p,f))).pipe(Ce())});return(0,P.of)(De).pipe(Wn())}));return(0,P.of)(ne).pipe(Wn())}(f,D.path,E),function ys(f,g,E){const p=g.routeConfig?g.routeConfig.canActivate:null;if(!p||0===p.length)return(0,P.of)(!0);const D=p.map(ne=>ue(()=>{const Ee=ve(g)??E,De=Mn(ne,Ee);return Mt(function Bi(f){return f&&_s(f.canActivate)}(De)?De.canActivate(g,f):Ee.runInContext(()=>De(g,f))).pipe(Ce())}));return(0,P.of)(D).pipe(Wn())}(f,D.route,E))),Ce(D=>!0!==D,!0))}(p,ne,f,g):(0,P.of)(De)),(0,_e.U)(De=>({...E,guardsResult:De})))})}(this.environmentInjector,De=>this.events.next(De)),M(De=>{if(D.guardsResult=De.guardsResult,Ft(De.guardsResult))throw zr(0,De.guardsResult);const it=new bi(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.events.next(it)}),(0,S.h)(De=>!!De.guardsResult||(p.restoreHistory(De),this.cancelNavigationTransition(De,"",3),!1)),Ae(De=>{if(De.guards.canActivateChecks.length)return(0,P.of)(De).pipe(M(it=>{const ft=new hs(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(ft)}),(0,Le.w)(it=>{let ft=!1;return(0,P.of)(it).pipe(function l(f,g){return(0,U.z)(E=>{const{targetSnapshot:p,guards:{canActivateChecks:D}}=E;if(!D.length)return(0,P.of)(E);let ne=0;return(0,$.D)(D).pipe((0,Pe.b)(Ee=>function d(f,g,E,p){const D=f.routeConfig,ne=f._resolve;return void 0!==D?.title&&!oe(D)&&(ne[We]=D.title),function u(f,g,E,p){const D=function b(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===D.length)return(0,P.of)({});const ne={};return(0,$.D)(D).pipe((0,U.z)(Ee=>function j(f,g,E,p){const D=ve(g)??p,ne=Mn(f,D);return Mt(ne.resolve?ne.resolve(g,E):D.runInContext(()=>ne(g,E)))}(f[Ee],g,E,p).pipe(Ce(),M(De=>{ne[Ee]=De}))),fe(1),function Re(f){return(0,_e.U)(()=>f)}(ne),L(Ee=>bt(Ee)?Oe.E:Y(Ee)))}(ne,f,g,p).pipe((0,_e.U)(Ee=>(f._resolvedData=Ee,f.data=Ts(f,E).resolve,D&&oe(D)&&(f.data[We]=D.title),null)))}(Ee.route,p,f,g)),M(()=>ne++),fe(1),(0,U.z)(Ee=>ne===D.length?(0,P.of)(E):Oe.E))})}(p.paramsInheritanceStrategy,this.environmentInjector),M({next:()=>ft=!0,complete:()=>{ft||(p.restoreHistory(it),this.cancelNavigationTransition(it,"",2))}}))}),M(it=>{const ft=new As(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(ft)}))}),Ae(De=>{const it=ft=>{const Dn=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&Dn.push(this.configLoader.loadComponent(ft.routeConfig).pipe(M(sn=>{ft.component=sn}),(0,_e.U)(()=>{})));for(const sn of ft.children)Dn.push(...it(sn));return Dn};return x(it(De.targetSnapshot.root)).pipe(X(),(0,de.q)(1))}),Ae(()=>this.afterPreactivation()),(0,_e.U)(De=>{const it=function os(f,g,E){const p=Ln(f,g._root,E?E._root:void 0);return new Vn(p,g)}(p.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return D={...De,targetRouterState:it}}),M(De=>{p.currentUrlTree=De.urlAfterRedirects,p.rawUrlTree=p.urlHandlingStrategy.merge(De.urlAfterRedirects,De.rawUrl),p.routerState=De.targetRouterState,"deferred"===p.urlUpdateStrategy&&(De.extras.skipLocationChange||p.setBrowserUrl(p.rawUrlTree,De),p.browserUrlTree=De.urlAfterRedirects)}),((f,g,E,p)=>(0,_e.U)(D=>(new ot(g,D.targetRouterState,D.currentRouterState,E,p).activate(f),D)))(this.rootContexts,p.routeReuseStrategy,De=>this.events.next(De),this.inputBindingEnabled),(0,de.q)(1),M({next:De=>{ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,p.navigated=!0,this.events.next(new hr(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(p.currentUrlTree))),p.titleStrategy?.updateTitle(De.targetRouterState.snapshot),De.resolve(!0)},complete:()=>{ne=!0}}),(0,Ue.x)(()=>{ne||Ee||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),L(De=>{if(Ee=!0,Rn(De)){wr(De)||(p.navigated=!0,p.restoreHistory(D,!0));const it=new Us(D.id,this.urlSerializer.serialize(D.extractedUrl),De.message,De.cancellationCode);if(this.events.next(it),wr(De)){const ft=p.urlHandlingStrategy.merge(De.url,p.rawUrlTree),Dn={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===p.urlUpdateStrategy||At(D.source)};p.scheduleNavigation(ft,kr,null,Dn,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{p.restoreHistory(D,!0);const it=new fr(D.id,this.urlSerializer.serialize(D.extractedUrl),De,D.targetSnapshot??void 0);this.events.next(it);try{D.resolve(p.errorHandler(De))}catch(ft){D.reject(ft)}}return Oe.E}))}))}cancelNavigationTransition(p,D,ne){const Ee=new Us(p.id,this.urlSerializer.serialize(p.extractedUrl),D,ne);this.events.next(Ee),p.resolve(!1)}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();function At(f){return f!==kr}let jt=(()=>{var f;class g{buildTitle(p){let D,ne=p.root;for(;void 0!==ne;)D=this.getResolvedTitleForRoute(ne)??D,ne=ne.children.find(Ee=>Ee.outlet===Ge);return D}getResolvedTitleForRoute(p){return p.data[We]}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:function(){return(0,o.f3M)(Pn)},providedIn:"root"}),g})(),Pn=(()=>{var f;class g extends jt{constructor(p){super(),this.title=p}updateTitle(p){const D=this.buildTitle(p);void 0!==D&&this.title.setTitle(D)}}return(f=g).\u0275fac=function(p){return new(p||f)(o.LFG($e.Dx))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})(),tn=(()=>{var f;class g{}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:function(){return(0,o.f3M)(Un)},providedIn:"root"}),g})();class Yn{shouldDetach(g){return!1}store(g,E){}shouldAttach(g){return!1}retrieve(g){return null}shouldReuseRoute(g,E){return g.routeConfig===E.routeConfig}}let Un=(()=>{var f;class g extends Yn{}return(f=g).\u0275fac=function(){let E;return function(D){return(E||(E=o.n5z(f)))(D||f)}}(),f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();const bn=new o.OlP("",{providedIn:"root",factory:()=>({})});let Gr=(()=>{var f;class g{}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:function(){return(0,o.f3M)(mr)},providedIn:"root"}),g})(),mr=(()=>{var f;class g{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,D){return p}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();var Qn=function(f){return f[f.COMPLETE=0]="COMPLETE",f[f.FAILED=1]="FAILED",f[f.REDIRECTING=2]="REDIRECTING",f}(Qn||{});function er(f,g){f.events.pipe((0,S.h)(E=>E instanceof hr||E instanceof Us||E instanceof fr||E instanceof ws),(0,_e.U)(E=>E instanceof hr||E instanceof ws?Qn.COMPLETE:E instanceof Us&&(0===E.code||1===E.code)?Qn.REDIRECTING:Qn.FAILED),(0,S.h)(E=>E!==Qn.REDIRECTING),(0,de.q)(1)).subscribe(()=>{g()})}function Rs(f){throw f}function Os(f,g,E){return g.parse("/")}const co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{var f;class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(bn,{optional:!0})||{},this.pendingTasks=(0,o.f3M)(o.HDt),this.errorHandler=this.options.errorHandler||Rs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Os,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(Gr),this.routeReuseStrategy=(0,o.f3M)(tn),this.titleStrategy=(0,o.f3M)(jt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,o.f3M)(Ye,{optional:!0})?.flat()??[],this.navigationTransitions=(0,o.f3M)(Lt),this.urlSerializer=(0,o.f3M)(Qt),this.location=(0,o.f3M)(ee.Ye),this.componentInputBindingEnabled=!!(0,o.f3M)(Fr,{optional:!0}),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new we,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=this.browserPageId??0},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const p=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kr,p)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const D="popstate"===p.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(p.url,D,p.state)},0)}))}navigateToSyncWithBrowser(p,D,ne){const Ee={replaceUrl:!0},De=ne?.navigationId?ne:null;if(ne){const ft={...ne};delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(Ee.state=ft)}const it=this.parseUrl(p);this.scheduleNavigation(it,D,De,Ee)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(p){this.config=p.map(Xs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,D={}){const{relativeTo:ne,queryParams:Ee,fragment:De,queryParamsHandling:it,preserveFragment:ft}=D,Dn=ft?this.currentUrlTree.fragment:De;let ur,sn=null;switch(it){case"merge":sn={...this.currentUrlTree.queryParams,...Ee};break;case"preserve":sn=this.currentUrlTree.queryParams;break;default:sn=Ee||null}null!==sn&&(sn=this.removeEmptyProps(sn));try{ur=fn(ne?ne.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof p[0]||!p[0].startsWith("/"))&&(p=[]),ur=this.currentUrlTree.root}return Hn(ur,p,sn,Dn??null)}navigateByUrl(p,D={skipLocationChange:!1}){const ne=Ft(p)?p:this.parseUrl(p),Ee=this.urlHandlingStrategy.merge(ne,this.rawUrlTree);return this.scheduleNavigation(Ee,kr,null,D)}navigate(p,D={skipLocationChange:!1}){return function uo(f){for(let g=0;g<f.length;g++)if(null==f[g])throw new o.vHH(4008,!1)}(p),this.navigateByUrl(this.createUrlTree(p,D),D)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let D;try{D=this.urlSerializer.parse(p)}catch(ne){D=this.malformedUriErrorHandler(ne,this.urlSerializer,p)}return D}isActive(p,D){let ne;if(ne=!0===D?{...co}:!1===D?{...Jr}:D,Ft(p))return Ke(this.currentUrlTree,p,ne);const Ee=this.parseUrl(p);return Ke(this.currentUrlTree,Ee,ne)}removeEmptyProps(p){return Object.keys(p).reduce((D,ne)=>{const Ee=p[ne];return null!=Ee&&(D[ne]=Ee),D},{})}scheduleNavigation(p,D,ne,Ee,De){if(this.disposed)return Promise.resolve(!1);let it,ft,Dn;De?(it=De.resolve,ft=De.reject,Dn=De.promise):Dn=new Promise((ur,zs)=>{it=ur,ft=zs});const sn=this.pendingTasks.add();return er(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sn))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:ne,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:Ee,resolve:it,reject:ft,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(ur=>Promise.reject(ur))}setBrowserUrl(p,D){const ne=this.urlSerializer.serialize(p);if(this.location.isCurrentPathEqualTo(ne)||D.extras.replaceUrl){const De={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(ne,"",De)}else{const Ee={...D.extras.state,...this.generateNgRouterState(D.id,(this.browserPageId??0)+1)};this.location.go(ne,"",Ee)}}restoreHistory(p,D=!1){if("computed"===this.canceledNavigationResolution){const Ee=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Ee?this.location.historyGo(Ee):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ee&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,D){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:D}:{navigationId:p}}}return(f=g).\u0275fac=function(p){return new(p||f)},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})(),di=(()=>{var f;class g{constructor(p,D,ne,Ee,De,it){this.router=p,this.route=D,this.tabIndexAttribute=ne,this.renderer=Ee,this.el=De,this.locationStrategy=it,this.href=null,this.commands=null,this.onChanges=new Fe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ft=De.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ft||"area"===ft,this.isAnchorElement?this.subscription=p.events.subscribe(Dn=>{Dn instanceof hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null!=p?(this.commands=Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(p,D,ne,Ee,De){return!!(null===this.urlTree||this.isAnchorElement&&(0!==p||D||ne||Ee||De||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const p=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",p)}applyAttributeValue(p,D){const ne=this.renderer,Ee=this.el.nativeElement;null!==D?ne.setAttribute(Ee,p,D):ne.removeAttribute(Ee,p)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(f=g).\u0275fac=function(p){return new(p||f)(o.Y36(cr),o.Y36(Nn),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ee.S$))},f.\u0275dir=o.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(p,D){1&p&&o.NdJ("click",function(Ee){return D.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&p&&o.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",o.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",o.VuI],replaceUrl:["replaceUrl","replaceUrl",o.VuI],routerLink:"routerLink"},standalone:!0,features:[o.Xq5,o.TTD]}),g})();class ln{}let xs=(()=>{var f;class g{constructor(p,D,ne,Ee,De){this.router=p,this.injector=ne,this.preloadingStrategy=Ee,this.loader=De}setUpPreloading(){this.subscription=this.router.events.pipe((0,S.h)(p=>p instanceof hr),(0,Pe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,D){const ne=[];for(const Ee of D){Ee.providers&&!Ee._injector&&(Ee._injector=(0,o.MMx)(Ee.providers,p,`Route: ${Ee.path}`));const De=Ee._injector??p,it=Ee._loadedInjector??De;(Ee.loadChildren&&!Ee._loadedRoutes&&void 0===Ee.canLoad||Ee.loadComponent&&!Ee._loadedComponent)&&ne.push(this.preloadConfig(De,Ee)),(Ee.children||Ee._loadedRoutes)&&ne.push(this.processRoutes(it,Ee.children??Ee._loadedRoutes))}return(0,$.D)(ne).pipe((0,B.J)())}preloadConfig(p,D){return this.preloadingStrategy.preload(D,()=>{let ne;ne=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(p,D):(0,P.of)(null);const Ee=ne.pipe((0,U.z)(De=>null===De?(0,P.of)(void 0):(D._loadedRoutes=De.routes,D._loadedInjector=De.injector,this.processRoutes(De.injector??p,De.routes))));if(D.loadComponent&&!D._loadedComponent){const De=this.loader.loadComponent(D);return(0,$.D)([Ee,De]).pipe((0,B.J)())}return Ee})}}return(f=g).\u0275fac=function(p){return new(p||f)(o.LFG(cr),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(ln),o.LFG(St))},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),g})();const Or=new o.OlP("");let Ns=(()=>{var f;class g{constructor(p,D,ne,Ee,De={}){this.urlSerializer=p,this.transitions=D,this.viewportScroller=ne,this.zone=Ee,this.options=De,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},De.scrollPositionRestoration=De.scrollPositionRestoration||"disabled",De.anchorScrolling=De.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof hr?(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment)):p instanceof ws&&0===p.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Ms&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(f=g).\u0275fac=function(p){o.$Z()},f.\u0275prov=o.Yz7({token:f,factory:f.\u0275fac}),g})();function Hr(f,g){return{\u0275kind:f,\u0275providers:g}}function Oi(){const f=(0,o.f3M)(o.zs3);return g=>{const E=f.get(o.z2F);if(g!==E.components[0])return;const p=f.get(cr),D=f.get(mt);1===f.get(Tn)&&p.initialNavigation(),f.get(ea,null,o.XFs.Optional)?.setUpPreloading(),f.get(Or,null,o.XFs.Optional)?.init(),p.resetRootComponentType(E.componentTypes[0]),D.closed||(D.next(),D.complete(),D.unsubscribe())}}const mt=new o.OlP("",{factory:()=>new Fe.x}),Tn=new o.OlP("",{providedIn:"root",factory:()=>1}),ea=new o.OlP("");function Xi(f){return Hr(0,[{provide:ea,useExisting:xs},{provide:ln,useExisting:f}])}const ta=new o.OlP("ROUTER_FORROOT_GUARD"),qr=[ee.Ye,{provide:Qt,useClass:on},cr,Ir,{provide:Nn,useFactory:function Ri(f){return f.routerState.root},deps:[cr]},St,[]];function ei(){return new o.PXZ("Router",cr)}let qa=(()=>{var f;class g{constructor(p){}static forRoot(p,D){return{ngModule:g,providers:[qr,[],{provide:Ye,multi:!0,useValue:p},{provide:ta,useFactory:Ya,deps:[[cr,new o.FiY,new o.tp0]]},{provide:bn,useValue:D||{}},D?.useHash?{provide:ee.S$,useClass:ee.Do}:{provide:ee.S$,useClass:ee.b0},{provide:Or,useFactory:()=>{const f=(0,o.f3M)(ee.EM),g=(0,o.f3M)(o.R0b),E=(0,o.f3M)(bn),p=(0,o.f3M)(Lt),D=(0,o.f3M)(Qt);return E.scrollOffset&&f.setOffset(E.scrollOffset),new Ns(D,p,f,g,E)}},D?.preloadingStrategy?Xi(D.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:ei},D?.initialNavigation?mc(D):[],D?.bindToComponentInputs?Hr(8,[Xn,{provide:Fr,useExisting:Xn}]).\u0275providers:[],[{provide:Ka,useFactory:Oi},{provide:o.tb,multi:!0,useExisting:Ka}]]}}static forChild(p){return{ngModule:g,providers:[{provide:Ye,multi:!0,useValue:p}]}}}return(f=g).\u0275fac=function(p){return new(p||f)(o.LFG(ta,8))},f.\u0275mod=o.oAB({type:f}),f.\u0275inj=o.cJS({}),g})();function Ya(f){return"guarded"}function mc(f){return["disabled"===f.initialNavigation?Hr(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const g=(0,o.f3M)(cr);return()=>{g.setUpLocationChangeListener()}}},{provide:Tn,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?Hr(2,[{provide:Tn,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:g=>{const E=g.get(ee.V_,Promise.resolve());return()=>E.then(()=>new Promise(p=>{const D=g.get(cr),ne=g.get(mt);er(D,()=>{p(!0)}),g.get(Lt).afterPreactivation=()=>(p(!0),ne.closed?(0,P.of)(void 0):ne),D.initialNavigation()}))}}]).\u0275providers:[]]}const Ka=new o.OlP("")},8602:(pe,m,v)=>{"use strict";v.d(m,{yh:()=>yr,Aw:()=>mn});var o=v(6689),y=v(5619),$=v(5592),P=v(8645),z=v(7394);class J extends z.w0{constructor(ve,xe){super()}schedule(ve,xe=0){return this}}const k={setInterval(ce,ve,...xe){const{delegate:Ie}=k;return Ie?.setInterval?Ie.setInterval(ce,ve,...xe):setInterval(ce,ve,...xe)},clearInterval(ce){const{delegate:ve}=k;return(ve?.clearInterval||clearInterval)(ce)},delegate:void 0};var Q=v(9039);class q extends J{constructor(ve,xe){super(ve,xe),this.scheduler=ve,this.work=xe,this.pending=!1}schedule(ve,xe=0){var Ie;if(this.closed)return this;this.state=ve;const ot=this.id,ht=this.scheduler;return null!=ot&&(this.id=this.recycleAsyncId(ht,ot,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(ht,this.id,xe),this}requestAsyncId(ve,xe,Ie=0){return k.setInterval(ve.flush.bind(ve,this),Ie)}recycleAsyncId(ve,xe,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return xe;null!=xe&&k.clearInterval(xe)}execute(ve,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(ve,xe);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,xe){let ot,Ie=!1;try{this.work(ve)}catch(ht){Ie=!0,ot=ht||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),ot}unsubscribe(){if(!this.closed){const{id:ve,scheduler:xe}=this,{actions:Ie}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(Ie,this),null!=ve&&(this.id=this.recycleAsyncId(xe,ve,null)),this.delay=null,super.unsubscribe()}}}var A=v(4552);class O{constructor(ve,xe=O.now){this.schedulerActionCtor=ve,this.now=xe}schedule(ve,xe=0,Ie){return new this.schedulerActionCtor(this,ve).schedule(Ie,xe)}}O.now=A.l.now;class V extends O{constructor(ve,xe=O.now){super(ve,xe),this.actions=[],this._active=!1}flush(ve){const{actions:xe}=this;if(this._active)return void xe.push(ve);let Ie;this._active=!0;do{if(Ie=ve.execute(ve.state,ve.delay))break}while(ve=xe.shift());if(this._active=!1,Ie){for(;ve=xe.shift();)ve.unsubscribe();throw Ie}}}const K=new class x extends V{}(class H extends q{constructor(ve,xe){super(ve,xe),this.scheduler=ve,this.work=xe}schedule(ve,xe=0){return xe>0?super.schedule(ve,xe):(this.delay=xe,this.state=ve,this.scheduler.flush(this),this)}execute(ve,xe){return xe>0||this.closed?super.execute(ve,xe):this._execute(ve,xe)}requestAsyncId(ve,xe,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId(ve,xe,Ie):(ve.flush(this),0)}});var me=v(3093),B=v(9360),F=v(8251),N=v(4829),W=v(2737),ue=v(2420),ge=v(4564),Y=v(6699),Oe=v(7398),Qe=v(3997);class _e extends Error{constructor(ve,xe){super(function Le(ce,ve){return`NG0${Math.abs(ce)}${ve?": "+ve:""}`}(ve,xe)),this.code=ve}}function Dt(ce,ve){const xe=!ve?.manualCleanup;xe&&!ve?.injector&&(0,o.gHi)(Dt);const Ie=xe?ve?.injector?.get(o.ktI)??(0,o.f3M)(o.ktI):null;let ot;ot=(0,o.tdS)(ve?.requireSync?{kind:0}:{kind:1,value:ve?.initialValue});const ht=ce.subscribe({next:kt=>ot.set({kind:1,value:kt}),error:kt=>ot.set({kind:2,error:kt})});return Ie?.onDestroy(ht.unsubscribe.bind(ht)),(0,o.Flj)(()=>{const kt=ot();switch(kt.kind){case 1:return kt.value;case 2:throw kt.error;case 0:throw new _e(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}globalThis;const Xt={},Yt="@ngrx/store/init";let Gt=(()=>{var ce;class ve extends y.X{constructor(){super({type:Yt})}next(Ie){if("function"==typeof Ie)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ie>"u")throw new TypeError("Actions must be objects");if(typeof Ie.type>"u")throw new TypeError("Actions must have a type property");super.next(Ie)}complete(){}ngOnDestroy(){super.complete()}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275prov=o.Yz7({token:ce,factory:ce.\u0275fac}),ve})();const On=[Gt],un=new o.OlP("@ngrx/store Internal Root Guard"),st=new o.OlP("@ngrx/store Internal Initial State"),ke=new o.OlP("@ngrx/store Initial State"),Xe=new o.OlP("@ngrx/store Reducer Factory"),Ne=new o.OlP("@ngrx/store Internal Reducer Factory Provider"),et=new o.OlP("@ngrx/store Initial Reducers"),ct=new o.OlP("@ngrx/store Internal Initial Reducers"),Pt=new o.OlP("@ngrx/store Store Features"),$t=new o.OlP("@ngrx/store Internal Store Reducers"),dn=new o.OlP("@ngrx/store Internal Feature Reducers"),An=new o.OlP("@ngrx/store Internal Feature Configs"),xn=new o.OlP("@ngrx/store Internal Store Features"),dr=new o.OlP("@ngrx/store Internal Feature Reducers Token"),Be=new o.OlP("@ngrx/store Feature Reducers"),Te=new o.OlP("@ngrx/store User Provided Meta Reducers"),qe=new o.OlP("@ngrx/store Meta Reducers"),tt=new o.OlP("@ngrx/store Internal Resolved Meta Reducers"),dt=new o.OlP("@ngrx/store User Runtime Checks Config"),yt=new o.OlP("@ngrx/store Internal User Runtime Checks Config"),Vt=new o.OlP("@ngrx/store Internal Runtime Checks"),Ft=new o.OlP("@ngrx/store Check if Action types are unique");function Hn(ce,ve={}){const xe=Object.keys(ce),Ie={};for(let ht=0;ht<xe.length;ht++){const kt=xe[ht];"function"==typeof ce[kt]&&(Ie[kt]=ce[kt])}const ot=Object.keys(Ie);return function(kt,rn){kt=void 0===kt?ve:kt;let an=!1;const Mn={};for(let vn=0;vn<ot.length;vn++){const or=ot[vn],Vr=kt[or],_s=(0,Ie[or])(Vr,rn);Mn[or]=_s,an=an||_s!==Vr}return an?Mn:kt}}function Fn(...ce){return function(ve){if(0===ce.length)return ve;const xe=ce[ce.length-1];return ce.slice(0,-1).reduceRight((ot,ht)=>ht(ot),xe(ve))}}function $n(ce,ve){return Array.isArray(ve)&&ve.length>0&&(ce=Fn.apply(null,[...ve,ce])),(xe,Ie)=>{const ot=ce(xe);return(ht,kt)=>ot(ht=void 0===ht?Ie:ht,kt)}}new o.OlP("@ngrx/store Root Store Provider"),new o.OlP("@ngrx/store Feature State Provider");class cn extends $.y{}class yn extends Gt{}let Bn=(()=>{var ce;class ve extends y.X{get currentReducers(){return this.reducers}constructor(Ie,ot,ht,kt){super(kt(ht,ot)),this.dispatcher=Ie,this.initialState=ot,this.reducers=ht,this.reducerFactory=kt}addFeature(Ie){this.addFeatures([Ie])}addFeatures(Ie){const ot=Ie.reduce((ht,{reducers:kt,reducerFactory:rn,metaReducers:an,initialState:Mn,key:vn})=>{const or="function"==typeof kt?function Zn(ce){const ve=Array.isArray(ce)&&ce.length>0?Fn(...ce):xe=>xe;return(xe,Ie)=>(xe=ve(xe),(ot,ht)=>xe(ot=void 0===ot?Ie:ot,ht))}(an)(kt,Mn):$n(rn,an)(kt,Mn);return ht[vn]=or,ht},{});this.addReducers(ot)}removeFeature(Ie){this.removeFeatures([Ie])}removeFeatures(Ie){this.removeReducers(Ie.map(ot=>ot.key))}addReducer(Ie,ot){this.addReducers({[Ie]:ot})}addReducers(Ie){this.reducers={...this.reducers,...Ie},this.updateReducers(Object.keys(Ie))}removeReducer(Ie){this.removeReducers([Ie])}removeReducers(Ie){Ie.forEach(ot=>{this.reducers=function jn(ce,ve){return Object.keys(ce).filter(xe=>xe!==ve).reduce((xe,Ie)=>Object.assign(xe,{[Ie]:ce[Ie]}),{})}(this.reducers,ot)}),this.updateReducers(Ie)}updateReducers(Ie){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:Ie})}ngOnDestroy(){this.complete()}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)(o.LFG(yn),o.LFG(ke),o.LFG(et),o.LFG(Xe))},ce.\u0275prov=o.Yz7({token:ce,factory:ce.\u0275fac}),ve})();const Pr=[Bn,{provide:cn,useExisting:Bn},{provide:yn,useExisting:Gt}];let Sn=(()=>{var ce;class ve extends P.x{ngOnDestroy(){this.complete()}}return(ce=ve).\u0275fac=function(){let xe;return function(ot){return(xe||(xe=o.n5z(ce)))(ot||ce)}}(),ce.\u0275prov=o.Yz7({token:ce,factory:ce.\u0275fac}),ve})();const rr=[Sn];class _r extends $.y{}let sr=(()=>{var ce;class ve extends y.X{constructor(Ie,ot,ht,kt){super(kt);const an=Ie.pipe((0,me.Q)(K)).pipe(function ie(...ce){const ve=(0,ge.jO)(ce);return(0,B.e)((xe,Ie)=>{const ot=ce.length,ht=new Array(ot);let kt=ce.map(()=>!1),rn=!1;for(let an=0;an<ot;an++)(0,N.Xf)(ce[an]).subscribe((0,F.x)(Ie,Mn=>{ht[an]=Mn,!rn&&!kt[an]&&(kt[an]=!0,(rn=kt.every(W.y))&&(kt=null))},ue.Z));xe.subscribe((0,F.x)(Ie,an=>{if(rn){const Mn=[an,...ht];Ie.next(ve?ve(...Mn):Mn)}}))})}(ot)),vn=an.pipe((0,Y.R)(Tr,{state:kt}));this.stateSubscription=vn.subscribe(({state:or,action:ar})=>{this.next(or),ht.next(ar)}),this.state=Dt(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return(ce=ve).INIT=Yt,ce.\u0275fac=function(Ie){return new(Ie||ce)(o.LFG(Gt),o.LFG(cn),o.LFG(Sn),o.LFG(ke))},ce.\u0275prov=o.Yz7({token:ce,factory:ce.\u0275fac}),ve})();function Tr(ce={state:void 0},[ve,xe]){const{state:Ie}=ce;return{state:xe(Ie,ve),action:ve}}const Ds=[sr,{provide:_r,useExisting:sr}];let yr=(()=>{var ce;class ve extends $.y{constructor(Ie,ot,ht){super(),this.actionsObserver=ot,this.reducerManager=ht,this.source=Ie,this.state=Ie.state}select(Ie,...ot){return kr.call(null,Ie,...ot)(this)}selectSignal(Ie,ot){return(0,o.Flj)(()=>Ie(this.state()),{equal:ot?.equal||((ht,kt)=>ht===kt)})}lift(Ie){const ot=new ve(this,this.actionsObserver,this.reducerManager);return ot.operator=Ie,ot}dispatch(Ie){this.actionsObserver.next(Ie)}next(Ie){this.actionsObserver.next(Ie)}error(Ie){this.actionsObserver.error(Ie)}complete(){this.actionsObserver.complete()}addReducer(Ie,ot){this.reducerManager.addReducer(Ie,ot)}removeReducer(Ie){this.reducerManager.removeReducer(Ie)}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)(o.LFG(_r),o.LFG(Gt),o.LFG(Bn))},ce.\u0275prov=o.Yz7({token:ce,factory:ce.\u0275fac}),ve})();const br=[yr];function kr(ce,ve,...xe){return function(ot){let ht;if("string"==typeof ce){const kt=[ve,...xe].filter(Boolean);ht=ot.pipe(function Ze(...ce){const ve=ce.length;if(0===ve)throw new Error("list of properties cannot be empty.");return(0,Oe.U)(xe=>{let Ie=xe;for(let ot=0;ot<ve;ot++){const ht=Ie?.[ce[ot]];if(!(typeof ht<"u"))return;Ie=ht}return Ie})}(ce,...kt))}else{if("function"!=typeof ce)throw new TypeError(`Unexpected type '${typeof ce}' in select operator, expected 'string' or 'function'`);ht=ot.pipe((0,Oe.U)(kt=>ce(kt,ve)))}return ht.pipe((0,Qe.x)())}}const ir="https://ngrx.io/guide/store/configuration/runtime-checks";function Jn(ce){return void 0===ce}function hr(ce){return null===ce}function Us(ce){return Array.isArray(ce)}function Er(ce){return"object"==typeof ce&&null!==ce}function As(ce){return"function"==typeof ce}function Nn(ce){return ce instanceof o.OlP?(0,o.f3M)(ce):ce}function Ts(ce,ve){return ve.map((xe,Ie)=>{if(ce[Ie]instanceof o.OlP){const ot=(0,o.f3M)(ce[Ie]);return{key:xe.key,reducerFactory:ot.reducerFactory?ot.reducerFactory:Hn,metaReducers:ot.metaReducers?ot.metaReducers:[],initialState:ot.initialState}}return xe})}function Kr(ce){return ce.map(ve=>ve instanceof o.OlP?(0,o.f3M)(ve):ve)}function Cr(ce){return"function"==typeof ce?ce():ce}function Is(ce,ve){return ce.concat(ve)}function Fs(){if((0,o.f3M)(yr,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Tt(ce){Object.freeze(ce);const ve=As(ce);return Object.getOwnPropertyNames(ce).forEach(xe=>{if(!xe.startsWith("\u0275")&&function js(ce,ve){return Object.prototype.hasOwnProperty.call(ce,ve)}(ce,xe)&&(!ve||"caller"!==xe&&"callee"!==xe&&"arguments"!==xe)){const Ie=ce[xe];(Er(Ie)||As(Ie))&&!Object.isFrozen(Ie)&&Tt(Ie)}}),ce}function Cn(ce,ve=[]){return(Jn(ce)||hr(ce))&&0===ve.length?{path:["root"],value:ce}:Object.keys(ce).reduce((Ie,ot)=>{if(Ie)return Ie;const ht=ce[ot];return function Vs(ce){return As(ce)&&ce.hasOwnProperty("\u0275cmp")}(ht)?Ie:!(Jn(ht)||hr(ht)||function Pi(ce){return"number"==typeof ce}(ht)||function fr(ce){return"boolean"==typeof ce}(ht)||function ws(ce){return"string"==typeof ce}(ht)||Us(ht))&&(function hs(ce){if(!function bi(ce){return Er(ce)&&!Us(ce)}(ce))return!1;const ve=Object.getPrototypeOf(ce);return ve===Object.prototype||null===ve}(ht)?Cn(ht,[...ve,ot]):{path:[...ve,ot],value:ht})},!1)}function nr(ce,ve){if(!1===ce)return;const xe=ce.path.join("."),Ie=new Error(`Detected unserializable ${ve} at "${xe}". ${ir}#strict${ve}serializability`);throw Ie.value=ce.value,Ie.unserializablePath=xe,Ie}function Xn(ce){return(0,o.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ce}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function os({strictActionSerializability:ce,strictStateSerializability:ve}){return xe=>ce||ve?function Zt(ce,ve){return function(xe,Ie){ve.action(Ie)&&nr(Cn(Ie),"action");const ot=ce(xe,Ie);return ve.state()&&nr(Cn(ot),"state"),ot}}(xe,{action:Ie=>ce&&!Dr(Ie),state:()=>ve}):xe}function Ln({strictActionImmutability:ce,strictStateImmutability:ve}){return xe=>ce||ve?function kn(ce,ve){return function(xe,Ie){const ot=ve.action(Ie)?Tt(Ie):Ie,ht=ce(xe,ot);return ve.state()?Tt(ht):ht}}(xe,{action:Ie=>ce&&!Dr(Ie),state:()=>ve}):xe}function Dr(ce){return ce.type.startsWith("@ngrx")}function ps({strictActionWithinNgZone:ce}){return ve=>ce?function Fr(ce,ve){return function(xe,Ie){if(ve.action(Ie)&&!o.R0b.isInAngularZone())throw new Error(`Action '${Ie.type}' running outside NgZone. ${ir}#strictactionwithinngzone`);return ce(xe,Ie)}}(ve,{action:xe=>ce&&!Dr(xe)}):ve}function Jt(ce){return[{provide:yt,useValue:ce},{provide:dt,useFactory:gs,deps:[yt]},{provide:Vt,deps:[dt],useFactory:Xn},{provide:qe,multi:!0,deps:[Vt],useFactory:Ln},{provide:qe,multi:!0,deps:[Vt],useFactory:os},{provide:qe,multi:!0,deps:[Vt],useFactory:ps}]}function zr(){return[{provide:Ft,multi:!0,deps:[Vt],useFactory:wr}]}function gs(ce){return ce}function wr(ce){if(!ce.strictActionTypeUniqueness)return;const ve=Object.entries(Xt).filter(([,xe])=>xe>1).map(([xe])=>xe);if(ve.length)throw new Error(`Action types are registered more than once, ${ve.map(xe=>`"${xe}"`).join(", ")}. ${ir}#strictactiontypeuniqueness`)}function Ur(ce={},ve={}){return[{provide:un,useFactory:Fs},{provide:st,useValue:ve.initialState},{provide:ke,useFactory:Cr,deps:[st]},{provide:ct,useValue:ce},{provide:$t,useExisting:ce instanceof o.OlP?ce:ct},{provide:et,deps:[ct,[new o.tBr($t)]],useFactory:Nn},{provide:Te,useValue:ve.metaReducers?ve.metaReducers:[]},{provide:tt,deps:[qe,Te],useFactory:Is},{provide:Ne,useValue:ve.reducerFactory?ve.reducerFactory:Hn},{provide:Xe,deps:[Ne,tt],useFactory:$n},On,Pr,rr,Ds,br,Jt(ve.runtimeChecks),zr()]}function pr(ce,ve,xe={}){return[{provide:An,multi:!0,useValue:ce instanceof Object?{}:xe},{provide:Pt,multi:!0,useValue:{key:ce instanceof Object?ce.name:ce,reducerFactory:xe instanceof o.OlP||!xe.reducerFactory?Hn:xe.reducerFactory,metaReducers:xe instanceof o.OlP||!xe.metaReducers?[]:xe.metaReducers,initialState:xe instanceof o.OlP||!xe.initialState?void 0:xe.initialState}},{provide:xn,deps:[An,Pt],useFactory:Ts},{provide:dn,multi:!0,useValue:ce instanceof Object?ce.reducer:ve},{provide:dr,multi:!0,useExisting:ve instanceof o.OlP?ve:dn},{provide:Be,multi:!0,deps:[dn,[new o.tBr(dr)]],useFactory:Kr},zr()]}let as=(()=>{var ce;class ve{constructor(Ie,ot,ht,kt,rn,an){}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)(o.LFG(Gt),o.LFG(cn),o.LFG(Sn),o.LFG(yr),o.LFG(un,8),o.LFG(Ft,8))},ce.\u0275mod=o.oAB({type:ce}),ce.\u0275inj=o.cJS({}),ve})(),vs=(()=>{var ce;class ve{constructor(Ie,ot,ht,kt,rn){this.features=Ie,this.featureReducers=ot,this.reducerManager=ht;const an=Ie.map((Mn,vn)=>{const ar=ot.shift()[vn];return{...Mn,reducers:ar,initialState:Cr(Mn.initialState)}});ht.addFeatures(an)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)(o.LFG(xn),o.LFG(Be),o.LFG(Bn),o.LFG(as),o.LFG(Ft,8))},ce.\u0275mod=o.oAB({type:ce}),ce.\u0275inj=o.cJS({}),ve})(),mn=(()=>{var ce;class ve{static forRoot(Ie,ot){return{ngModule:as,providers:[...Ur(Ie,ot)]}}static forFeature(Ie,ot,ht={}){return{ngModule:vs,providers:[...pr(Ie,ot,ht)]}}}return(ce=ve).\u0275fac=function(Ie){return new(Ie||ce)},ce.\u0275mod=o.oAB({type:ce}),ce.\u0275inj=o.cJS({}),ve})()},5861:(pe,m,v)=>{"use strict";function o($,P,z,J,k,Q,q){try{var H=$[Q](q),A=H.value}catch(O){return void z(O)}H.done?P(A):Promise.resolve(A).then(J,k)}function y($){return function(){var P=this,z=arguments;return new Promise(function(J,k){var Q=$.apply(P,z);function q(A){o(Q,J,k,q,H,"next",A)}function H(A){o(Q,J,k,q,H,"throw",A)}q(void 0)})}}v.d(m,{Z:()=>y})},7582:(pe,m,v)=>{"use strict";function O(C,S,U,X){return new(U||(U=Promise))(function(he,Ce){function Pe(re){try{L(X.next(re))}catch(fe){Ce(fe)}}function M(re){try{L(X.throw(re))}catch(fe){Ce(fe)}}function L(re){re.done?he(re.value):function se(he){return he instanceof U?he:new U(function(Ce){Ce(he)})}(re.value).then(Pe,M)}L((X=X.apply(C,S||[])).next())})}function W(C){return this instanceof W?(this.v=C,this):new W(C)}function ue(C,S,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,X=U.apply(C,S||[]),he=[];return se={},Ce("next"),Ce("throw"),Ce("return"),se[Symbol.asyncIterator]=function(){return this},se;function Ce(Se){X[Se]&&(se[Se]=function(Re){return new Promise(function(Ue,$e){he.push([Se,Re,Ue,$e])>1||Pe(Se,Re)})})}function Pe(Se,Re){try{!function M(Se){Se.value instanceof W?Promise.resolve(Se.value.v).then(L,re):fe(he[0][2],Se)}(X[Se](Re))}catch(Ue){fe(he[0][3],Ue)}}function L(Se){Pe("next",Se)}function re(Se){Pe("throw",Se)}function fe(Se,Re){Se(Re),he.shift(),he.length&&Pe(he[0][0],he[0][1])}}function ie(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,S=C[Symbol.asyncIterator];return S?S.call(C):(C=function te(C){var S="function"==typeof Symbol&&Symbol.iterator,U=S&&C[S],X=0;if(U)return U.call(C);if(C&&"number"==typeof C.length)return{next:function(){return C&&X>=C.length&&(C=void 0),{value:C&&C[X++],done:!C}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")}(C),U={},X("next"),X("throw"),X("return"),U[Symbol.asyncIterator]=function(){return this},U);function X(he){U[he]=C[he]&&function(Ce){return new Promise(function(Pe,M){!function se(he,Ce,Pe,M){Promise.resolve(M).then(function(L){he({value:L,done:Pe})},Ce)}(Pe,M,(Ce=C[he](Ce)).done,Ce.value)})}}}v.d(m,{FC:()=>ue,KL:()=>ie,mG:()=>O,qq:()=>W}),"function"==typeof SuppressedError&&SuppressedError}},pe=>{pe(pe.s=2939)}]);